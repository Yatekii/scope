{"version":3,"file":"bundle.js","sources":["../../node_modules/mithril/mithril.js","../../src/js/conf.js","../../node_modules/jsplumb/dist/js/jsplumb.js","../../src/js/nodes/components.js","../../src/js/helpers.js","../../src/js/source.js","../../src/js/nodes/source.js","../../src/js/math/fft.js","../../src/js/trace.js","../../src/js/nodes/trace.js","../../src/js/nodes/scope.js","../../src/js/nodes/router.js","../../src/js/marker.js","../../src/js/button.js","../../src/js/oscilloscope.js","../../src/js/nodes/scopeView.js","../../src/js/app.js"],"sourcesContent":["new function() {\n\nfunction Vnode(tag, key, attrs0, children, text, dom) {\n\treturn {tag: tag, key: key, attrs: attrs0, children: children, text: text, dom: dom, domSize: undefined, state: {}, events: undefined, instance: undefined, skip: false}\n}\nVnode.normalize = function(node) {\n\tif (Array.isArray(node)) return Vnode(\"[\", undefined, undefined, Vnode.normalizeChildren(node), undefined, undefined)\n\tif (node != null && typeof node !== \"object\") return Vnode(\"#\", undefined, undefined, node === false ? \"\" : node, undefined, undefined)\n\treturn node\n}\nVnode.normalizeChildren = function normalizeChildren(children) {\n\tfor (var i = 0; i < children.length; i++) {\n\t\tchildren[i] = Vnode.normalize(children[i])\n\t}\n\treturn children\n}\nvar selectorParser = /(?:(^|#|\\.)([^#\\.\\[\\]]+))|(\\[(.+?)(?:\\s*=\\s*(\"|'|)((?:\\\\[\"'\\]]|.)*?)\\5)?\\])/g\nvar selectorCache = {}\nfunction hyperscript(selector) {\n\tif (selector == null || typeof selector !== \"string\" && typeof selector.view !== \"function\") {\n\t\tthrow Error(\"The selector must be either a string or a component.\");\n\t}\n\tif (typeof selector === \"string\" && selectorCache[selector] === undefined) {\n\t\tvar match, tag, classes = [], attributes = {}\n\t\twhile (match = selectorParser.exec(selector)) {\n\t\t\tvar type = match[1], value = match[2]\n\t\t\tif (type === \"\" && value !== \"\") tag = value\n\t\t\telse if (type === \"#\") attributes.id = value\n\t\t\telse if (type === \".\") classes.push(value)\n\t\t\telse if (match[3][0] === \"[\") {\n\t\t\t\tvar attrValue = match[6]\n\t\t\t\tif (attrValue) attrValue = attrValue.replace(/\\\\([\"'])/g, \"$1\").replace(/\\\\\\\\/g, \"\\\\\")\n\t\t\t\tif (match[4] === \"class\") classes.push(attrValue)\n\t\t\t\telse attributes[match[4]] = attrValue || true\n\t\t\t}\n\t\t}\n\t\tif (classes.length > 0) attributes.className = classes.join(\" \")\n\t\tselectorCache[selector] = function(attrs, children) {\n\t\t\tvar hasAttrs = false, childList, text\n\t\t\tvar className = attrs.className || attrs.class\n\t\t\tfor (var key in attributes) attrs[key] = attributes[key]\n\t\t\tif (className !== undefined) {\n\t\t\t\tif (attrs.class !== undefined) {\n\t\t\t\t\tattrs.class = undefined\n\t\t\t\t\tattrs.className = className\n\t\t\t\t}\n\t\t\t\tif (attributes.className !== undefined) attrs.className = attributes.className + \" \" + className\n\t\t\t}\n\t\t\tfor (var key in attrs) {\n\t\t\t\tif (key !== \"key\") {\n\t\t\t\t\thasAttrs = true\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (Array.isArray(children) && children.length == 1 && children[0] != null && children[0].tag === \"#\") text = children[0].children\n\t\t\telse childList = children\n\t\t\treturn Vnode(tag || \"div\", attrs.key, hasAttrs ? attrs : undefined, childList, text, undefined)\n\t\t}\n\t}\n\tvar attrs, children, childrenIndex\n\tif (arguments[1] == null || typeof arguments[1] === \"object\" && arguments[1].tag === undefined && !Array.isArray(arguments[1])) {\n\t\tattrs = arguments[1]\n\t\tchildrenIndex = 2\n\t}\n\telse childrenIndex = 1\n\tif (arguments.length === childrenIndex + 1) {\n\t\tchildren = Array.isArray(arguments[childrenIndex]) ? arguments[childrenIndex] : [arguments[childrenIndex]]\n\t}\n\telse {\n\t\tchildren = []\n\t\tfor (var i = childrenIndex; i < arguments.length; i++) children.push(arguments[i])\n\t}\n\tif (typeof selector === \"string\") return selectorCache[selector](attrs || {}, Vnode.normalizeChildren(children))\n\treturn Vnode(selector, attrs && attrs.key, attrs || {}, Vnode.normalizeChildren(children), undefined, undefined)\n}\nhyperscript.trust = function(html) {\n\tif (html == null) html = \"\"\n\treturn Vnode(\"<\", undefined, undefined, html, undefined, undefined)\n}\nhyperscript.fragment = function(attrs1, children) {\n\treturn Vnode(\"[\", attrs1.key, attrs1, Vnode.normalizeChildren(children), undefined, undefined)\n}\nvar m = hyperscript\n/** @constructor */\nvar PromisePolyfill = function(executor) {\n\tif (!(this instanceof PromisePolyfill)) throw new Error(\"Promise must be called with `new`\")\n\tif (typeof executor !== \"function\") throw new TypeError(\"executor must be a function\")\n\tvar self = this, resolvers = [], rejectors = [], resolveCurrent = handler(resolvers, true), rejectCurrent = handler(rejectors, false)\n\tvar instance = self._instance = {resolvers: resolvers, rejectors: rejectors}\n\tvar callAsync = typeof setImmediate === \"function\" ? setImmediate : setTimeout\n\tfunction handler(list, shouldAbsorb) {\n\t\treturn function execute(value) {\n\t\t\tvar then\n\t\t\ttry {\n\t\t\t\tif (shouldAbsorb && value != null && (typeof value === \"object\" || typeof value === \"function\") && typeof (then = value.then) === \"function\") {\n\t\t\t\t\tif (value === self) throw new TypeError(\"Promise can't be resolved w/ itself\")\n\t\t\t\t\texecuteOnce(then.bind(value))\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tcallAsync(function() {\n\t\t\t\t\t\tif (!shouldAbsorb && list.length === 0) console.error(\"Possible unhandled promise rejection:\", value)\n\t\t\t\t\t\tfor (var i = 0; i < list.length; i++) list[i](value)\n\t\t\t\t\t\tresolvers.length = 0, rejectors.length = 0\n\t\t\t\t\t\tinstance.state = shouldAbsorb\n\t\t\t\t\t\tinstance.retry = function() {execute(value)}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t\tcatch (e) {\n\t\t\t\trejectCurrent(e)\n\t\t\t}\n\t\t}\n\t}\n\tfunction executeOnce(then) {\n\t\tvar runs = 0\n\t\tfunction run(fn) {\n\t\t\treturn function(value) {\n\t\t\t\tif (runs++ > 0) return\n\t\t\t\tfn(value)\n\t\t\t}\n\t\t}\n\t\tvar onerror = run(rejectCurrent)\n\t\ttry {then(run(resolveCurrent), onerror)} catch (e) {onerror(e)}\n\t}\n\texecuteOnce(executor)\n}\nPromisePolyfill.prototype.then = function(onFulfilled, onRejection) {\n\tvar self = this, instance = self._instance\n\tfunction handle(callback, list, next, state) {\n\t\tlist.push(function(value) {\n\t\t\tif (typeof callback !== \"function\") next(value)\n\t\t\telse try {resolveNext(callback(value))} catch (e) {if (rejectNext) rejectNext(e)}\n\t\t})\n\t\tif (typeof instance.retry === \"function\" && state === instance.state) instance.retry()\n\t}\n\tvar resolveNext, rejectNext\n\tvar promise = new PromisePolyfill(function(resolve, reject) {resolveNext = resolve, rejectNext = reject})\n\thandle(onFulfilled, instance.resolvers, resolveNext, true), handle(onRejection, instance.rejectors, rejectNext, false)\n\treturn promise\n}\nPromisePolyfill.prototype.catch = function(onRejection) {\n\treturn this.then(null, onRejection)\n}\nPromisePolyfill.resolve = function(value) {\n\tif (value instanceof PromisePolyfill) return value\n\treturn new PromisePolyfill(function(resolve) {resolve(value)})\n}\nPromisePolyfill.reject = function(value) {\n\treturn new PromisePolyfill(function(resolve, reject) {reject(value)})\n}\nPromisePolyfill.all = function(list) {\n\treturn new PromisePolyfill(function(resolve, reject) {\n\t\tvar total = list.length, count = 0, values = []\n\t\tif (list.length === 0) resolve([])\n\t\telse for (var i = 0; i < list.length; i++) {\n\t\t\t(function(i) {\n\t\t\t\tfunction consume(value) {\n\t\t\t\t\tcount++\n\t\t\t\t\tvalues[i] = value\n\t\t\t\t\tif (count === total) resolve(values)\n\t\t\t\t}\n\t\t\t\tif (list[i] != null && (typeof list[i] === \"object\" || typeof list[i] === \"function\") && typeof list[i].then === \"function\") {\n\t\t\t\t\tlist[i].then(consume, reject)\n\t\t\t\t}\n\t\t\t\telse consume(list[i])\n\t\t\t})(i)\n\t\t}\n\t})\n}\nPromisePolyfill.race = function(list) {\n\treturn new PromisePolyfill(function(resolve, reject) {\n\t\tfor (var i = 0; i < list.length; i++) {\n\t\t\tlist[i].then(resolve, reject)\n\t\t}\n\t})\n}\nif (typeof window !== \"undefined\") {\n\tif (typeof window.Promise === \"undefined\") window.Promise = PromisePolyfill\n\tvar PromisePolyfill = window.Promise\n} else if (typeof global !== \"undefined\") {\n\tif (typeof global.Promise === \"undefined\") global.Promise = PromisePolyfill\n\tvar PromisePolyfill = global.Promise\n} else {\n}\nvar buildQueryString = function(object) {\n\tif (Object.prototype.toString.call(object) !== \"[object Object]\") return \"\"\n\tvar args = []\n\tfor (var key0 in object) {\n\t\tdestructure(key0, object[key0])\n\t}\n\treturn args.join(\"&\")\n\tfunction destructure(key0, value) {\n\t\tif (Array.isArray(value)) {\n\t\t\tfor (var i = 0; i < value.length; i++) {\n\t\t\t\tdestructure(key0 + \"[\" + i + \"]\", value[i])\n\t\t\t}\n\t\t}\n\t\telse if (Object.prototype.toString.call(value) === \"[object Object]\") {\n\t\t\tfor (var i in value) {\n\t\t\t\tdestructure(key0 + \"[\" + i + \"]\", value[i])\n\t\t\t}\n\t\t}\n\t\telse args.push(encodeURIComponent(key0) + (value != null && value !== \"\" ? \"=\" + encodeURIComponent(value) : \"\"))\n\t}\n}\nvar _8 = function($window, Promise) {\n\tvar callbackCount = 0\n\tvar oncompletion\n\tfunction setCompletionCallback(callback) {oncompletion = callback}\n\tfunction finalizer() {\n\t\tvar count = 0\n\t\tfunction complete() {if (--count === 0 && typeof oncompletion === \"function\") oncompletion()}\n\t\treturn function finalize(promise0) {\n\t\t\tvar then0 = promise0.then\n\t\t\tpromise0.then = function() {\n\t\t\t\tcount++\n\t\t\t\tvar next = then0.apply(promise0, arguments)\n\t\t\t\tnext.then(complete, function(e) {\n\t\t\t\t\tcomplete()\n\t\t\t\t\tif (count === 0) throw e\n\t\t\t\t})\n\t\t\t\treturn finalize(next)\n\t\t\t}\n\t\t\treturn promise0\n\t\t}\n\t}\n\tfunction normalize(args, extra) {\n\t\tif (typeof args === \"string\") {\n\t\t\tvar url = args\n\t\t\targs = extra || {}\n\t\t\tif (args.url == null) args.url = url\n\t\t}\n\t\treturn args\n\t}\n\tfunction request(args, extra) {\n\t\tvar finalize = finalizer()\n\t\targs = normalize(args, extra)\n\t\tvar promise0 = new Promise(function(resolve, reject) {\n\t\t\tif (args.method == null) args.method = \"GET\"\n\t\t\targs.method = args.method.toUpperCase()\n\t\t\tvar useBody = typeof args.useBody === \"boolean\" ? args.useBody : args.method !== \"GET\" && args.method !== \"TRACE\"\n\t\t\tif (typeof args.serialize !== \"function\") args.serialize = typeof FormData !== \"undefined\" && args.data instanceof FormData ? function(value) {return value} : JSON.stringify\n\t\t\tif (typeof args.deserialize !== \"function\") args.deserialize = deserialize\n\t\t\tif (typeof args.extract !== \"function\") args.extract = extract\n\t\t\targs.url = interpolate(args.url, args.data)\n\t\t\tif (useBody) args.data = args.serialize(args.data)\n\t\t\telse args.url = assemble(args.url, args.data)\n\t\t\tvar xhr = new $window.XMLHttpRequest()\n\t\t\txhr.open(args.method, args.url, typeof args.async === \"boolean\" ? args.async : true, typeof args.user === \"string\" ? args.user : undefined, typeof args.password === \"string\" ? args.password : undefined)\n\t\t\tif (args.serialize === JSON.stringify && useBody) {\n\t\t\t\txhr.setRequestHeader(\"Content-Type\", \"application/json; charset=utf-8\")\n\t\t\t}\n\t\t\tif (args.deserialize === deserialize) {\n\t\t\t\txhr.setRequestHeader(\"Accept\", \"application/json, text/*\")\n\t\t\t}\n\t\t\tif (args.withCredentials) xhr.withCredentials = args.withCredentials\n\t\t\tfor (var key in args.headers) if ({}.hasOwnProperty.call(args.headers, key)) {\n\t\t\t\txhr.setRequestHeader(key, args.headers[key])\n\t\t\t}\n\t\t\tif (typeof args.config === \"function\") xhr = args.config(xhr, args) || xhr\n\t\t\txhr.onreadystatechange = function() {\n\t\t\t\t// Don't throw errors on xhr.abort(). XMLHttpRequests ends up in a state of\n\t\t\t\t// xhr.status == 0 and xhr.readyState == 4 if aborted after open, but before completion.\n\t\t\t\tif (xhr.status && xhr.readyState === 4) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tvar response = (args.extract !== extract) ? args.extract(xhr, args) : args.deserialize(args.extract(xhr, args))\n\t\t\t\t\t\tif ((xhr.status >= 200 && xhr.status < 300) || xhr.status === 304) {\n\t\t\t\t\t\t\tresolve(cast(args.type, response))\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tvar error = new Error(xhr.responseText)\n\t\t\t\t\t\t\tfor (var key in response) error[key] = response[key]\n\t\t\t\t\t\t\treject(error)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tcatch (e) {\n\t\t\t\t\t\treject(e)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (useBody && (args.data != null)) xhr.send(args.data)\n\t\t\telse xhr.send()\n\t\t})\n\t\treturn args.background === true ? promise0 : finalize(promise0)\n\t}\n\tfunction jsonp(args, extra) {\n\t\tvar finalize = finalizer()\n\t\targs = normalize(args, extra)\n\t\tvar promise0 = new Promise(function(resolve, reject) {\n\t\t\tvar callbackName = args.callbackName || \"_mithril_\" + Math.round(Math.random() * 1e16) + \"_\" + callbackCount++\n\t\t\tvar script = $window.document.createElement(\"script\")\n\t\t\t$window[callbackName] = function(data) {\n\t\t\t\tscript.parentNode.removeChild(script)\n\t\t\t\tresolve(cast(args.type, data))\n\t\t\t\tdelete $window[callbackName]\n\t\t\t}\n\t\t\tscript.onerror = function() {\n\t\t\t\tscript.parentNode.removeChild(script)\n\t\t\t\treject(new Error(\"JSONP request failed\"))\n\t\t\t\tdelete $window[callbackName]\n\t\t\t}\n\t\t\tif (args.data == null) args.data = {}\n\t\t\targs.url = interpolate(args.url, args.data)\n\t\t\targs.data[args.callbackKey || \"callback\"] = callbackName\n\t\t\tscript.src = assemble(args.url, args.data)\n\t\t\t$window.document.documentElement.appendChild(script)\n\t\t})\n\t\treturn args.background === true? promise0 : finalize(promise0)\n\t}\n\tfunction interpolate(url, data) {\n\t\tif (data == null) return url\n\t\tvar tokens = url.match(/:[^\\/]+/gi) || []\n\t\tfor (var i = 0; i < tokens.length; i++) {\n\t\t\tvar key = tokens[i].slice(1)\n\t\t\tif (data[key] != null) {\n\t\t\t\turl = url.replace(tokens[i], data[key])\n\t\t\t}\n\t\t}\n\t\treturn url\n\t}\n\tfunction assemble(url, data) {\n\t\tvar querystring = buildQueryString(data)\n\t\tif (querystring !== \"\") {\n\t\t\tvar prefix = url.indexOf(\"?\") < 0 ? \"?\" : \"&\"\n\t\t\turl += prefix + querystring\n\t\t}\n\t\treturn url\n\t}\n\tfunction deserialize(data) {\n\t\ttry {return data !== \"\" ? JSON.parse(data) : null}\n\t\tcatch (e) {throw new Error(data)}\n\t}\n\tfunction extract(xhr) {return xhr.responseText}\n\tfunction cast(type0, data) {\n\t\tif (typeof type0 === \"function\") {\n\t\t\tif (Array.isArray(data)) {\n\t\t\t\tfor (var i = 0; i < data.length; i++) {\n\t\t\t\t\tdata[i] = new type0(data[i])\n\t\t\t\t}\n\t\t\t}\n\t\t\telse return new type0(data)\n\t\t}\n\t\treturn data\n\t}\n\treturn {request: request, jsonp: jsonp, setCompletionCallback: setCompletionCallback}\n}\nvar requestService = _8(window, PromisePolyfill)\nvar coreRenderer = function($window) {\n\tvar $doc = $window.document\n\tvar $emptyFragment = $doc.createDocumentFragment()\n\tvar onevent\n\tfunction setEventCallback(callback) {return onevent = callback}\n\t//create\n\tfunction createNodes(parent, vnodes, start, end, hooks, nextSibling, ns) {\n\t\tfor (var i = start; i < end; i++) {\n\t\t\tvar vnode = vnodes[i]\n\t\t\tif (vnode != null) {\n\t\t\t\tcreateNode(parent, vnode, hooks, ns, nextSibling)\n\t\t\t}\n\t\t}\n\t}\n\tfunction createNode(parent, vnode, hooks, ns, nextSibling) {\n\t\tvar tag = vnode.tag\n\t\tif (vnode.attrs != null) initLifecycle(vnode.attrs, vnode, hooks)\n\t\tif (typeof tag === \"string\") {\n\t\t\tswitch (tag) {\n\t\t\t\tcase \"#\": return createText(parent, vnode, nextSibling)\n\t\t\t\tcase \"<\": return createHTML(parent, vnode, nextSibling)\n\t\t\t\tcase \"[\": return createFragment(parent, vnode, hooks, ns, nextSibling)\n\t\t\t\tdefault: return createElement(parent, vnode, hooks, ns, nextSibling)\n\t\t\t}\n\t\t}\n\t\telse return createComponent(parent, vnode, hooks, ns, nextSibling)\n\t}\n\tfunction createText(parent, vnode, nextSibling) {\n\t\tvnode.dom = $doc.createTextNode(vnode.children)\n\t\tinsertNode(parent, vnode.dom, nextSibling)\n\t\treturn vnode.dom\n\t}\n\tfunction createHTML(parent, vnode, nextSibling) {\n\t\tvar match1 = vnode.children.match(/^\\s*?<(\\w+)/im) || []\n\t\tvar parent1 = {caption: \"table\", thead: \"table\", tbody: \"table\", tfoot: \"table\", tr: \"tbody\", th: \"tr\", td: \"tr\", colgroup: \"table\", col: \"colgroup\"}[match1[1]] || \"div\"\n\t\tvar temp = $doc.createElement(parent1)\n\t\ttemp.innerHTML = vnode.children\n\t\tvnode.dom = temp.firstChild\n\t\tvnode.domSize = temp.childNodes.length\n\t\tvar fragment = $doc.createDocumentFragment()\n\t\tvar child\n\t\twhile (child = temp.firstChild) {\n\t\t\tfragment.appendChild(child)\n\t\t}\n\t\tinsertNode(parent, fragment, nextSibling)\n\t\treturn fragment\n\t}\n\tfunction createFragment(parent, vnode, hooks, ns, nextSibling) {\n\t\tvar fragment = $doc.createDocumentFragment()\n\t\tif (vnode.children != null) {\n\t\t\tvar children = vnode.children\n\t\t\tcreateNodes(fragment, children, 0, children.length, hooks, null, ns)\n\t\t}\n\t\tvnode.dom = fragment.firstChild\n\t\tvnode.domSize = fragment.childNodes.length\n\t\tinsertNode(parent, fragment, nextSibling)\n\t\treturn fragment\n\t}\n\tfunction createElement(parent, vnode, hooks, ns, nextSibling) {\n\t\tvar tag = vnode.tag\n\t\tswitch (vnode.tag) {\n\t\t\tcase \"svg\": ns = \"http://www.w3.org/2000/svg\"; break\n\t\t\tcase \"math\": ns = \"http://www.w3.org/1998/Math/MathML\"; break\n\t\t}\n\t\tvar attrs2 = vnode.attrs\n\t\tvar is = attrs2 && attrs2.is\n\t\tvar element = ns ?\n\t\t\tis ? $doc.createElementNS(ns, tag, {is: is}) : $doc.createElementNS(ns, tag) :\n\t\t\tis ? $doc.createElement(tag, {is: is}) : $doc.createElement(tag)\n\t\tvnode.dom = element\n\t\tif (attrs2 != null) {\n\t\t\tsetAttrs(vnode, attrs2, ns)\n\t\t}\n\t\tinsertNode(parent, element, nextSibling)\n\t\tif (vnode.attrs != null && vnode.attrs.contenteditable != null) {\n\t\t\tsetContentEditable(vnode)\n\t\t}\n\t\telse {\n\t\t\tif (vnode.text != null) {\n\t\t\t\tif (vnode.text !== \"\") element.textContent = vnode.text\n\t\t\t\telse vnode.children = [Vnode(\"#\", undefined, undefined, vnode.text, undefined, undefined)]\n\t\t\t}\n\t\t\tif (vnode.children != null) {\n\t\t\t\tvar children = vnode.children\n\t\t\t\tcreateNodes(element, children, 0, children.length, hooks, null, ns)\n\t\t\t\tsetLateAttrs(vnode)\n\t\t\t}\n\t\t}\n\t\treturn element\n\t}\n\tfunction createComponent(parent, vnode, hooks, ns, nextSibling) {\n\t\tvnode.state = Object.create(vnode.tag)\n\t\tvar view = vnode.tag.view\n\t\tif (view.reentrantLock != null) return $emptyFragment\n\t\tview.reentrantLock = true\n\t\tinitLifecycle(vnode.tag, vnode, hooks)\n\t\tvnode.instance = Vnode.normalize(view.call(vnode.state, vnode))\n\t\tview.reentrantLock = null\n\t\tif (vnode.instance != null) {\n\t\t\tif (vnode.instance === vnode) throw Error(\"A view cannot return the vnode it received as arguments\")\n\t\t\tvar element = createNode(parent, vnode.instance, hooks, ns, nextSibling)\n\t\t\tvnode.dom = vnode.instance.dom\n\t\t\tvnode.domSize = vnode.dom != null ? vnode.instance.domSize : 0\n\t\t\tinsertNode(parent, element, nextSibling)\n\t\t\treturn element\n\t\t}\n\t\telse {\n\t\t\tvnode.domSize = 0\n\t\t\treturn $emptyFragment\n\t\t}\n\t}\n\t//update\n\tfunction updateNodes(parent, old, vnodes, recycling, hooks, nextSibling, ns) {\n\t\tif (old === vnodes || old == null && vnodes == null) return\n\t\telse if (old == null) createNodes(parent, vnodes, 0, vnodes.length, hooks, nextSibling, undefined)\n\t\telse if (vnodes == null) removeNodes(old, 0, old.length, vnodes)\n\t\telse {\n\t\t\tif (old.length === vnodes.length) {\n\t\t\t\tvar isUnkeyed = false\n\t\t\t\tfor (var i = 0; i < vnodes.length; i++) {\n\t\t\t\t\tif (vnodes[i] != null && old[i] != null) {\n\t\t\t\t\t\tisUnkeyed = vnodes[i].key == null && old[i].key == null\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (isUnkeyed) {\n\t\t\t\t\tfor (var i = 0; i < old.length; i++) {\n\t\t\t\t\t\tif (old[i] === vnodes[i]) continue\n\t\t\t\t\t\telse if (old[i] == null && vnodes[i] != null) createNode(parent, vnodes[i], hooks, ns, getNextSibling(old, i + 1, nextSibling))\n\t\t\t\t\t\telse if (vnodes[i] == null) removeNodes(old, i, i + 1, vnodes)\n\t\t\t\t\t\telse updateNode(parent, old[i], vnodes[i], hooks, getNextSibling(old, i + 1, nextSibling), false, ns)\n\t\t\t\t\t}\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t}\n\t\t\trecycling = recycling || isRecyclable(old, vnodes)\n\t\t\tif (recycling) old = old.concat(old.pool)\n\t\t\t\n\t\t\tvar oldStart = 0, start = 0, oldEnd = old.length - 1, end = vnodes.length - 1, map\n\t\t\twhile (oldEnd >= oldStart && end >= start) {\n\t\t\t\tvar o = old[oldStart], v = vnodes[start]\n\t\t\t\tif (o === v && !recycling) oldStart++, start++\n\t\t\t\telse if (o == null) oldStart++\n\t\t\t\telse if (v == null) start++\n\t\t\t\telse if (o.key === v.key) {\n\t\t\t\t\toldStart++, start++\n\t\t\t\t\tupdateNode(parent, o, v, hooks, getNextSibling(old, oldStart, nextSibling), recycling, ns)\n\t\t\t\t\tif (recycling && o.tag === v.tag) insertNode(parent, toFragment(o), nextSibling)\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tvar o = old[oldEnd]\n\t\t\t\t\tif (o === v && !recycling) oldEnd--, start++\n\t\t\t\t\telse if (o == null) oldEnd--\n\t\t\t\t\telse if (v == null) start++\n\t\t\t\t\telse if (o.key === v.key) {\n\t\t\t\t\t\tupdateNode(parent, o, v, hooks, getNextSibling(old, oldEnd + 1, nextSibling), recycling, ns)\n\t\t\t\t\t\tif (recycling || start < end) insertNode(parent, toFragment(o), getNextSibling(old, oldStart, nextSibling))\n\t\t\t\t\t\toldEnd--, start++\n\t\t\t\t\t}\n\t\t\t\t\telse break\n\t\t\t\t}\n\t\t\t}\n\t\t\twhile (oldEnd >= oldStart && end >= start) {\n\t\t\t\tvar o = old[oldEnd], v = vnodes[end]\n\t\t\t\tif (o === v && !recycling) oldEnd--, end--\n\t\t\t\telse if (o == null) oldEnd--\n\t\t\t\telse if (v == null) end--\n\t\t\t\telse if (o.key === v.key) {\n\t\t\t\t\tupdateNode(parent, o, v, hooks, getNextSibling(old, oldEnd + 1, nextSibling), recycling, ns)\n\t\t\t\t\tif (recycling && o.tag === v.tag) insertNode(parent, toFragment(o), nextSibling)\n\t\t\t\t\tif (o.dom != null) nextSibling = o.dom\n\t\t\t\t\toldEnd--, end--\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif (!map) map = getKeyMap(old, oldEnd)\n\t\t\t\t\tif (v != null) {\n\t\t\t\t\t\tvar oldIndex = map[v.key]\n\t\t\t\t\t\tif (oldIndex != null) {\n\t\t\t\t\t\t\tvar movable = old[oldIndex]\n\t\t\t\t\t\t\tupdateNode(parent, movable, v, hooks, getNextSibling(old, oldEnd + 1, nextSibling), recycling, ns)\n\t\t\t\t\t\t\tinsertNode(parent, toFragment(movable), nextSibling)\n\t\t\t\t\t\t\told[oldIndex].skip = true\n\t\t\t\t\t\t\tif (movable.dom != null) nextSibling = movable.dom\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tvar dom = createNode(parent, v, hooks, undefined, nextSibling)\n\t\t\t\t\t\t\tnextSibling = dom\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tend--\n\t\t\t\t}\n\t\t\t\tif (end < start) break\n\t\t\t}\n\t\t\tcreateNodes(parent, vnodes, start, end + 1, hooks, nextSibling, ns)\n\t\t\tremoveNodes(old, oldStart, oldEnd + 1, vnodes)\n\t\t}\n\t}\n\tfunction updateNode(parent, old, vnode, hooks, nextSibling, recycling, ns) {\n\t\tvar oldTag = old.tag, tag = vnode.tag\n\t\tif (oldTag === tag) {\n\t\t\tvnode.state = old.state\n\t\t\tvnode.events = old.events\n\t\t\tif (shouldUpdate(vnode, old)) return\n\t\t\tif (vnode.attrs != null) {\n\t\t\t\tupdateLifecycle(vnode.attrs, vnode, hooks, recycling)\n\t\t\t}\n\t\t\tif (typeof oldTag === \"string\") {\n\t\t\t\tswitch (oldTag) {\n\t\t\t\t\tcase \"#\": updateText(old, vnode); break\n\t\t\t\t\tcase \"<\": updateHTML(parent, old, vnode, nextSibling); break\n\t\t\t\t\tcase \"[\": updateFragment(parent, old, vnode, recycling, hooks, nextSibling, ns); break\n\t\t\t\t\tdefault: updateElement(old, vnode, recycling, hooks, ns)\n\t\t\t\t}\n\t\t\t}\n\t\t\telse updateComponent(parent, old, vnode, hooks, nextSibling, recycling, ns)\n\t\t}\n\t\telse {\n\t\t\tremoveNode(old, null)\n\t\t\tcreateNode(parent, vnode, hooks, ns, nextSibling)\n\t\t}\n\t}\n\tfunction updateText(old, vnode) {\n\t\tif (old.children.toString() !== vnode.children.toString()) {\n\t\t\told.dom.nodeValue = vnode.children\n\t\t}\n\t\tvnode.dom = old.dom\n\t}\n\tfunction updateHTML(parent, old, vnode, nextSibling) {\n\t\tif (old.children !== vnode.children) {\n\t\t\ttoFragment(old)\n\t\t\tcreateHTML(parent, vnode, nextSibling)\n\t\t}\n\t\telse vnode.dom = old.dom, vnode.domSize = old.domSize\n\t}\n\tfunction updateFragment(parent, old, vnode, recycling, hooks, nextSibling, ns) {\n\t\tupdateNodes(parent, old.children, vnode.children, recycling, hooks, nextSibling, ns)\n\t\tvar domSize = 0, children = vnode.children\n\t\tvnode.dom = null\n\t\tif (children != null) {\n\t\t\tfor (var i = 0; i < children.length; i++) {\n\t\t\t\tvar child = children[i]\n\t\t\t\tif (child != null && child.dom != null) {\n\t\t\t\t\tif (vnode.dom == null) vnode.dom = child.dom\n\t\t\t\t\tdomSize += child.domSize || 1\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (domSize !== 1) vnode.domSize = domSize\n\t\t}\n\t}\n\tfunction updateElement(old, vnode, recycling, hooks, ns) {\n\t\tvar element = vnode.dom = old.dom\n\t\tswitch (vnode.tag) {\n\t\t\tcase \"svg\": ns = \"http://www.w3.org/2000/svg\"; break\n\t\t\tcase \"math\": ns = \"http://www.w3.org/1998/Math/MathML\"; break\n\t\t}\n\t\tif (vnode.tag === \"textarea\") {\n\t\t\tif (vnode.attrs == null) vnode.attrs = {}\n\t\t\tif (vnode.text != null) {\n\t\t\t\tvnode.attrs.value = vnode.text //FIXME handle0 multiple children\n\t\t\t\tvnode.text = undefined\n\t\t\t}\n\t\t}\n\t\tupdateAttrs(vnode, old.attrs, vnode.attrs, ns)\n\t\tif (vnode.attrs != null && vnode.attrs.contenteditable != null) {\n\t\t\tsetContentEditable(vnode)\n\t\t}\n\t\telse if (old.text != null && vnode.text != null && vnode.text !== \"\") {\n\t\t\tif (old.text.toString() !== vnode.text.toString()) old.dom.firstChild.nodeValue = vnode.text\n\t\t}\n\t\telse {\n\t\t\tif (old.text != null) old.children = [Vnode(\"#\", undefined, undefined, old.text, undefined, old.dom.firstChild)]\n\t\t\tif (vnode.text != null) vnode.children = [Vnode(\"#\", undefined, undefined, vnode.text, undefined, undefined)]\n\t\t\tupdateNodes(element, old.children, vnode.children, recycling, hooks, null, ns)\n\t\t}\n\t}\n\tfunction updateComponent(parent, old, vnode, hooks, nextSibling, recycling, ns) {\n\t\tvnode.instance = Vnode.normalize(vnode.tag.view.call(vnode.state, vnode))\n\t\tupdateLifecycle(vnode.tag, vnode, hooks, recycling)\n\t\tif (vnode.instance != null) {\n\t\t\tif (old.instance == null) createNode(parent, vnode.instance, hooks, ns, nextSibling)\n\t\t\telse updateNode(parent, old.instance, vnode.instance, hooks, nextSibling, recycling, ns)\n\t\t\tvnode.dom = vnode.instance.dom\n\t\t\tvnode.domSize = vnode.instance.domSize\n\t\t}\n\t\telse if (old.instance != null) {\n\t\t\tremoveNode(old.instance, null)\n\t\t\tvnode.dom = undefined\n\t\t\tvnode.domSize = 0\n\t\t}\n\t\telse {\n\t\t\tvnode.dom = old.dom\n\t\t\tvnode.domSize = old.domSize\n\t\t}\n\t}\n\tfunction isRecyclable(old, vnodes) {\n\t\tif (old.pool != null && Math.abs(old.pool.length - vnodes.length) <= Math.abs(old.length - vnodes.length)) {\n\t\t\tvar oldChildrenLength = old[0] && old[0].children && old[0].children.length || 0\n\t\t\tvar poolChildrenLength = old.pool[0] && old.pool[0].children && old.pool[0].children.length || 0\n\t\t\tvar vnodesChildrenLength = vnodes[0] && vnodes[0].children && vnodes[0].children.length || 0\n\t\t\tif (Math.abs(poolChildrenLength - vnodesChildrenLength) <= Math.abs(oldChildrenLength - vnodesChildrenLength)) {\n\t\t\t\treturn true\n\t\t\t}\n\t\t}\n\t\treturn false\n\t}\n\tfunction getKeyMap(vnodes, end) {\n\t\tvar map = {}, i = 0\n\t\tfor (var i = 0; i < end; i++) {\n\t\t\tvar vnode = vnodes[i]\n\t\t\tif (vnode != null) {\n\t\t\t\tvar key2 = vnode.key\n\t\t\t\tif (key2 != null) map[key2] = i\n\t\t\t}\n\t\t}\n\t\treturn map\n\t}\n\tfunction toFragment(vnode) {\n\t\tvar count0 = vnode.domSize\n\t\tif (count0 != null || vnode.dom == null) {\n\t\t\tvar fragment = $doc.createDocumentFragment()\n\t\t\tif (count0 > 0) {\n\t\t\t\tvar dom = vnode.dom\n\t\t\t\twhile (--count0) fragment.appendChild(dom.nextSibling)\n\t\t\t\tfragment.insertBefore(dom, fragment.firstChild)\n\t\t\t}\n\t\t\treturn fragment\n\t\t}\n\t\telse return vnode.dom\n\t}\n\tfunction getNextSibling(vnodes, i, nextSibling) {\n\t\tfor (; i < vnodes.length; i++) {\n\t\t\tif (vnodes[i] != null && vnodes[i].dom != null) return vnodes[i].dom\n\t\t}\n\t\treturn nextSibling\n\t}\n\tfunction insertNode(parent, dom, nextSibling) {\n\t\tif (nextSibling && nextSibling.parentNode) parent.insertBefore(dom, nextSibling)\n\t\telse parent.appendChild(dom)\n\t}\n\tfunction setContentEditable(vnode) {\n\t\tvar children = vnode.children\n\t\tif (children != null && children.length === 1 && children[0].tag === \"<\") {\n\t\t\tvar content = children[0].children\n\t\t\tif (vnode.dom.innerHTML !== content) vnode.dom.innerHTML = content\n\t\t}\n\t\telse if (vnode.text != null || children != null && children.length !== 0) throw new Error(\"Child node of a contenteditable must be trusted\")\n\t}\n\t//remove\n\tfunction removeNodes(vnodes, start, end, context) {\n\t\tfor (var i = start; i < end; i++) {\n\t\t\tvar vnode = vnodes[i]\n\t\t\tif (vnode != null) {\n\t\t\t\tif (vnode.skip) vnode.skip = false\n\t\t\t\telse removeNode(vnode, context)\n\t\t\t}\n\t\t}\n\t}\n\tfunction removeNode(vnode, context) {\n\t\tvar expected = 1, called = 0\n\t\tif (vnode.attrs && vnode.attrs.onbeforeremove) {\n\t\t\tvar result = vnode.attrs.onbeforeremove.call(vnode.state, vnode)\n\t\t\tif (result != null && typeof result.then === \"function\") {\n\t\t\t\texpected++\n\t\t\t\tresult.then(continuation, continuation)\n\t\t\t}\n\t\t}\n\t\tif (typeof vnode.tag !== \"string\" && vnode.tag.onbeforeremove) {\n\t\t\tvar result = vnode.tag.onbeforeremove.call(vnode.state, vnode)\n\t\t\tif (result != null && typeof result.then === \"function\") {\n\t\t\t\texpected++\n\t\t\t\tresult.then(continuation, continuation)\n\t\t\t}\n\t\t}\n\t\tcontinuation()\n\t\tfunction continuation() {\n\t\t\tif (++called === expected) {\n\t\t\t\tonremove(vnode)\n\t\t\t\tif (vnode.dom) {\n\t\t\t\t\tvar count0 = vnode.domSize || 1\n\t\t\t\t\tif (count0 > 1) {\n\t\t\t\t\t\tvar dom = vnode.dom\n\t\t\t\t\t\twhile (--count0) {\n\t\t\t\t\t\t\tremoveNodeFromDOM(dom.nextSibling)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tremoveNodeFromDOM(vnode.dom)\n\t\t\t\t\tif (context != null && vnode.domSize == null && !hasIntegrationMethods(vnode.attrs) && typeof vnode.tag === \"string\") { //TODO test custom elements\n\t\t\t\t\t\tif (!context.pool) context.pool = [vnode]\n\t\t\t\t\t\telse context.pool.push(vnode)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfunction removeNodeFromDOM(node) {\n\t\tvar parent = node.parentNode\n\t\tif (parent != null) parent.removeChild(node)\n\t}\n\tfunction onremove(vnode) {\n\t\tif (vnode.attrs && vnode.attrs.onremove) vnode.attrs.onremove.call(vnode.state, vnode)\n\t\tif (typeof vnode.tag !== \"string\" && vnode.tag.onremove) vnode.tag.onremove.call(vnode.state, vnode)\n\t\tif (vnode.instance != null) onremove(vnode.instance)\n\t\telse {\n\t\t\tvar children = vnode.children\n\t\t\tif (Array.isArray(children)) {\n\t\t\t\tfor (var i = 0; i < children.length; i++) {\n\t\t\t\t\tvar child = children[i]\n\t\t\t\t\tif (child != null) onremove(child)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t//attrs2\n\tfunction setAttrs(vnode, attrs2, ns) {\n\t\tfor (var key2 in attrs2) {\n\t\t\tsetAttr(vnode, key2, null, attrs2[key2], ns)\n\t\t}\n\t}\n\tfunction setAttr(vnode, key2, old, value, ns) {\n\t\tvar element = vnode.dom\n\t\tif (key2 === \"key\" || key2 === \"is\" || (old === value && !isFormAttribute(vnode, key2)) && typeof value !== \"object\" || typeof value === \"undefined\" || isLifecycleMethod(key2)) return\n\t\tvar nsLastIndex = key2.indexOf(\":\")\n\t\tif (nsLastIndex > -1 && key2.substr(0, nsLastIndex) === \"xlink\") {\n\t\t\telement.setAttributeNS(\"http://www.w3.org/1999/xlink\", key2.slice(nsLastIndex + 1), value)\n\t\t}\n\t\telse if (key2[0] === \"o\" && key2[1] === \"n\" && typeof value === \"function\") updateEvent(vnode, key2, value)\n\t\telse if (key2 === \"style\") updateStyle(element, old, value)\n\t\telse if (key2 in element && !isAttribute(key2) && ns === undefined && !isCustomElement(vnode)) {\n\t\t\t//setting input[value] to same value by typing on focused element moves cursor to end in Chrome\n\t\t\tif (vnode.tag === \"input\" && key2 === \"value\" && vnode.dom.value === value && vnode.dom === $doc.activeElement) return\n\t\t\t//setting select[value] to same value while having select open blinks select dropdown in Chrome\n\t\t\tif (vnode.tag === \"select\" && key2 === \"value\" && vnode.dom.value === value && vnode.dom === $doc.activeElement) return\n\t\t\t//setting option[value] to same value while having select open blinks select dropdown in Chrome\n\t\t\tif (vnode.tag === \"option\" && key2 === \"value\" && vnode.dom.value === value) return\n\t\t\telement[key2] = value\n\t\t}\n\t\telse {\n\t\t\tif (typeof value === \"boolean\") {\n\t\t\t\tif (value) element.setAttribute(key2, \"\")\n\t\t\t\telse element.removeAttribute(key2)\n\t\t\t}\n\t\t\telse element.setAttribute(key2 === \"className\" ? \"class\" : key2, value)\n\t\t}\n\t}\n\tfunction setLateAttrs(vnode) {\n\t\tvar attrs2 = vnode.attrs\n\t\tif (vnode.tag === \"select\" && attrs2 != null) {\n\t\t\tif (\"value\" in attrs2) setAttr(vnode, \"value\", null, attrs2.value, undefined)\n\t\t\tif (\"selectedIndex\" in attrs2) setAttr(vnode, \"selectedIndex\", null, attrs2.selectedIndex, undefined)\n\t\t}\n\t}\n\tfunction updateAttrs(vnode, old, attrs2, ns) {\n\t\tif (attrs2 != null) {\n\t\t\tfor (var key2 in attrs2) {\n\t\t\t\tsetAttr(vnode, key2, old && old[key2], attrs2[key2], ns)\n\t\t\t}\n\t\t}\n\t\tif (old != null) {\n\t\t\tfor (var key2 in old) {\n\t\t\t\tif (attrs2 == null || !(key2 in attrs2)) {\n\t\t\t\t\tif (key2 === \"className\") key2 = \"class\"\n\t\t\t\t\tif (key2[0] === \"o\" && key2[1] === \"n\" && !isLifecycleMethod(key2)) updateEvent(vnode, key2, undefined)\n\t\t\t\t\telse if (key2 !== \"key\") vnode.dom.removeAttribute(key2)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfunction isFormAttribute(vnode, attr) {\n\t\treturn attr === \"value\" || attr === \"checked\" || attr === \"selectedIndex\" || attr === \"selected\" && vnode.dom === $doc.activeElement\n\t}\n\tfunction isLifecycleMethod(attr) {\n\t\treturn attr === \"oninit\" || attr === \"oncreate\" || attr === \"onupdate\" || attr === \"onremove\" || attr === \"onbeforeremove\" || attr === \"onbeforeupdate\"\n\t}\n\tfunction isAttribute(attr) {\n\t\treturn attr === \"href\" || attr === \"list\" || attr === \"form\" || attr === \"width\" || attr === \"height\"// || attr === \"type\"\n\t}\n\tfunction isCustomElement(vnode){\n\t\treturn vnode.attrs.is || vnode.tag.indexOf(\"-\") > -1\n\t}\n\tfunction hasIntegrationMethods(source) {\n\t\treturn source != null && (source.oncreate || source.onupdate || source.onbeforeremove || source.onremove)\n\t}\n\t//style\n\tfunction updateStyle(element, old, style) {\n\t\tif (old === style) element.style.cssText = \"\", old = null\n\t\tif (style == null) element.style.cssText = \"\"\n\t\telse if (typeof style === \"string\") element.style.cssText = style\n\t\telse {\n\t\t\tif (typeof old === \"string\") element.style.cssText = \"\"\n\t\t\tfor (var key2 in style) {\n\t\t\t\telement.style[key2] = style[key2]\n\t\t\t}\n\t\t\tif (old != null && typeof old !== \"string\") {\n\t\t\t\tfor (var key2 in old) {\n\t\t\t\t\tif (!(key2 in style)) element.style[key2] = \"\"\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t//event\n\tfunction updateEvent(vnode, key2, value) {\n\t\tvar element = vnode.dom\n\t\tvar callback = typeof onevent !== \"function\" ? value : function(e) {\n\t\t\tvar result = value.call(element, e)\n\t\t\tonevent.call(element, e)\n\t\t\treturn result\n\t\t}\n\t\tif (key2 in element) element[key2] = typeof value === \"function\" ? callback : null\n\t\telse {\n\t\t\tvar eventName = key2.slice(2)\n\t\t\tif (vnode.events === undefined) vnode.events = {}\n\t\t\tif (vnode.events[key2] === callback) return\n\t\t\tif (vnode.events[key2] != null) element.removeEventListener(eventName, vnode.events[key2], false)\n\t\t\tif (typeof value === \"function\") {\n\t\t\t\tvnode.events[key2] = callback\n\t\t\t\telement.addEventListener(eventName, vnode.events[key2], false)\n\t\t\t}\n\t\t}\n\t}\n\t//lifecycle\n\tfunction initLifecycle(source, vnode, hooks) {\n\t\tif (typeof source.oninit === \"function\") source.oninit.call(vnode.state, vnode)\n\t\tif (typeof source.oncreate === \"function\") hooks.push(source.oncreate.bind(vnode.state, vnode))\n\t}\n\tfunction updateLifecycle(source, vnode, hooks, recycling) {\n\t\tif (recycling) initLifecycle(source, vnode, hooks)\n\t\telse if (typeof source.onupdate === \"function\") hooks.push(source.onupdate.bind(vnode.state, vnode))\n\t}\n\tfunction shouldUpdate(vnode, old) {\n\t\tvar forceVnodeUpdate, forceComponentUpdate\n\t\tif (vnode.attrs != null && typeof vnode.attrs.onbeforeupdate === \"function\") forceVnodeUpdate = vnode.attrs.onbeforeupdate.call(vnode.state, vnode, old)\n\t\tif (typeof vnode.tag !== \"string\" && typeof vnode.tag.onbeforeupdate === \"function\") forceComponentUpdate = vnode.tag.onbeforeupdate.call(vnode.state, vnode, old)\n\t\tif (!(forceVnodeUpdate === undefined && forceComponentUpdate === undefined) && !forceVnodeUpdate && !forceComponentUpdate) {\n\t\t\tvnode.dom = old.dom\n\t\t\tvnode.domSize = old.domSize\n\t\t\tvnode.instance = old.instance\n\t\t\treturn true\n\t\t}\n\t\treturn false\n\t}\n\tfunction render(dom, vnodes) {\n\t\tif (!dom) throw new Error(\"Ensure the DOM element being passed to m.route/m.mount/m.render is not undefined.\")\n\t\tvar hooks = []\n\t\tvar active = $doc.activeElement\n\t\t// First time0 rendering into a node clears it out\n\t\tif (dom.vnodes == null) dom.textContent = \"\"\n\t\tif (!Array.isArray(vnodes)) vnodes = [vnodes]\n\t\tupdateNodes(dom, dom.vnodes, Vnode.normalizeChildren(vnodes), false, hooks, null, undefined)\n\t\tdom.vnodes = vnodes\n\t\tfor (var i = 0; i < hooks.length; i++) hooks[i]()\n\t\tif ($doc.activeElement !== active) active.focus()\n\t}\n\treturn {render: render, setEventCallback: setEventCallback}\n}\nfunction throttle(callback) {\n\t//60fps translates to 16.6ms, round it down since setTimeout requires int\n\tvar time = 16\n\tvar last = 0, pending = null\n\tvar timeout = typeof requestAnimationFrame === \"function\" ? requestAnimationFrame : setTimeout\n\treturn function() {\n\t\tvar now = Date.now()\n\t\tif (last === 0 || now - last >= time) {\n\t\t\tlast = now\n\t\t\tcallback()\n\t\t}\n\t\telse if (pending === null) {\n\t\t\tpending = timeout(function() {\n\t\t\t\tpending = null\n\t\t\t\tcallback()\n\t\t\t\tlast = Date.now()\n\t\t\t}, time - (now - last))\n\t\t}\n\t}\n}\nvar _11 = function($window) {\n\tvar renderService = coreRenderer($window)\n\trenderService.setEventCallback(function(e) {\n\t\tif (e.redraw !== false) redraw()\n\t})\n\tvar callbacks = []\n\tfunction subscribe(key1, callback) {\n\t\tunsubscribe(key1)\n\t\tcallbacks.push(key1, throttle(callback))\n\t}\n\tfunction unsubscribe(key1) {\n\t\tvar index = callbacks.indexOf(key1)\n\t\tif (index > -1) callbacks.splice(index, 2)\n\t}\n    function redraw() {\n        for (var i = 1; i < callbacks.length; i += 2) {\n            callbacks[i]()\n        }\n    }\n\treturn {subscribe: subscribe, unsubscribe: unsubscribe, redraw: redraw, render: renderService.render}\n}\nvar redrawService = _11(window)\nrequestService.setCompletionCallback(redrawService.redraw)\nvar _16 = function(redrawService0) {\n\treturn function(root, component) {\n\t\tif (component === null) {\n\t\t\tredrawService0.render(root, [])\n\t\t\tredrawService0.unsubscribe(root)\n\t\t\treturn\n\t\t}\n\t\t\n\t\tif (component.view == null) throw new Error(\"m.mount(element, component) expects a component, not a vnode\")\n\t\t\n\t\tvar run0 = function() {\n\t\t\tredrawService0.render(root, Vnode(component))\n\t\t}\n\t\tredrawService0.subscribe(root, run0)\n\t\tredrawService0.redraw()\n\t}\n}\nm.mount = _16(redrawService)\nvar Promise = PromisePolyfill\nvar parseQueryString = function(string) {\n\tif (string === \"\" || string == null) return {}\n\tif (string.charAt(0) === \"?\") string = string.slice(1)\n\tvar entries = string.split(\"&\"), data0 = {}, counters = {}\n\tfor (var i = 0; i < entries.length; i++) {\n\t\tvar entry = entries[i].split(\"=\")\n\t\tvar key5 = decodeURIComponent(entry[0])\n\t\tvar value = entry.length === 2 ? decodeURIComponent(entry[1]) : \"\"\n\t\tif (value === \"true\") value = true\n\t\telse if (value === \"false\") value = false\n\t\tvar levels = key5.split(/\\]\\[?|\\[/)\n\t\tvar cursor = data0\n\t\tif (key5.indexOf(\"[\") > -1) levels.pop()\n\t\tfor (var j = 0; j < levels.length; j++) {\n\t\t\tvar level = levels[j], nextLevel = levels[j + 1]\n\t\t\tvar isNumber = nextLevel == \"\" || !isNaN(parseInt(nextLevel, 10))\n\t\t\tvar isValue = j === levels.length - 1\n\t\t\tif (level === \"\") {\n\t\t\t\tvar key5 = levels.slice(0, j).join()\n\t\t\t\tif (counters[key5] == null) counters[key5] = 0\n\t\t\t\tlevel = counters[key5]++\n\t\t\t}\n\t\t\tif (cursor[level] == null) {\n\t\t\t\tcursor[level] = isValue ? value : isNumber ? [] : {}\n\t\t\t}\n\t\t\tcursor = cursor[level]\n\t\t}\n\t}\n\treturn data0\n}\nvar coreRouter = function($window) {\n\tvar supportsPushState = typeof $window.history.pushState === \"function\"\n\tvar callAsync0 = typeof setImmediate === \"function\" ? setImmediate : setTimeout\n\tfunction normalize1(fragment0) {\n\t\tvar data = $window.location[fragment0].replace(/(?:%[a-f89][a-f0-9])+/gim, decodeURIComponent)\n\t\tif (fragment0 === \"pathname\" && data[0] !== \"/\") data = \"/\" + data\n\t\treturn data\n\t}\n\tvar asyncId\n\tfunction debounceAsync(callback0) {\n\t\treturn function() {\n\t\t\tif (asyncId != null) return\n\t\t\tasyncId = callAsync0(function() {\n\t\t\t\tasyncId = null\n\t\t\t\tcallback0()\n\t\t\t})\n\t\t}\n\t}\n\tfunction parsePath(path, queryData, hashData) {\n\t\tvar queryIndex = path.indexOf(\"?\")\n\t\tvar hashIndex = path.indexOf(\"#\")\n\t\tvar pathEnd = queryIndex > -1 ? queryIndex : hashIndex > -1 ? hashIndex : path.length\n\t\tif (queryIndex > -1) {\n\t\t\tvar queryEnd = hashIndex > -1 ? hashIndex : path.length\n\t\t\tvar queryParams = parseQueryString(path.slice(queryIndex + 1, queryEnd))\n\t\t\tfor (var key4 in queryParams) queryData[key4] = queryParams[key4]\n\t\t}\n\t\tif (hashIndex > -1) {\n\t\t\tvar hashParams = parseQueryString(path.slice(hashIndex + 1))\n\t\t\tfor (var key4 in hashParams) hashData[key4] = hashParams[key4]\n\t\t}\n\t\treturn path.slice(0, pathEnd)\n\t}\n\tvar router = {prefix: \"#!\"}\n\trouter.getPath = function() {\n\t\tvar type2 = router.prefix.charAt(0)\n\t\tswitch (type2) {\n\t\t\tcase \"#\": return normalize1(\"hash\").slice(router.prefix.length)\n\t\t\tcase \"?\": return normalize1(\"search\").slice(router.prefix.length) + normalize1(\"hash\")\n\t\t\tdefault: return normalize1(\"pathname\").slice(router.prefix.length) + normalize1(\"search\") + normalize1(\"hash\")\n\t\t}\n\t}\n\trouter.setPath = function(path, data, options) {\n\t\tvar queryData = {}, hashData = {}\n\t\tpath = parsePath(path, queryData, hashData)\n\t\tif (data != null) {\n\t\t\tfor (var key4 in data) queryData[key4] = data[key4]\n\t\t\tpath = path.replace(/:([^\\/]+)/g, function(match2, token) {\n\t\t\t\tdelete queryData[token]\n\t\t\t\treturn data[token]\n\t\t\t})\n\t\t}\n\t\tvar query = buildQueryString(queryData)\n\t\tif (query) path += \"?\" + query\n\t\tvar hash = buildQueryString(hashData)\n\t\tif (hash) path += \"#\" + hash\n\t\tif (supportsPushState) {\n\t\t\tvar state = options ? options.state : null\n\t\t\tvar title = options ? options.title : null\n\t\t\t$window.onpopstate()\n\t\t\tif (options && options.replace) $window.history.replaceState(state, title, router.prefix + path)\n\t\t\telse $window.history.pushState(state, title, router.prefix + path)\n\t\t}\n\t\telse $window.location.href = router.prefix + path\n\t}\n\trouter.defineRoutes = function(routes, resolve, reject) {\n\t\tfunction resolveRoute() {\n\t\t\tvar path = router.getPath()\n\t\t\tvar params = {}\n\t\t\tvar pathname = parsePath(path, params, params)\n\t\t\tvar state = $window.history.state\n\t\t\tif (state != null) {\n\t\t\t\tfor (var k in state) params[k] = state[k]\n\t\t\t}\n\t\t\tfor (var route0 in routes) {\n\t\t\t\tvar matcher = new RegExp(\"^\" + route0.replace(/:[^\\/]+?\\.{3}/g, \"(.*?)\").replace(/:[^\\/]+/g, \"([^\\\\/]+)\") + \"\\/?$\")\n\t\t\t\tif (matcher.test(pathname)) {\n\t\t\t\t\tpathname.replace(matcher, function() {\n\t\t\t\t\t\tvar keys = route0.match(/:[^\\/]+/g) || []\n\t\t\t\t\t\tvar values = [].slice.call(arguments, 1, -2)\n\t\t\t\t\t\tfor (var i = 0; i < keys.length; i++) {\n\t\t\t\t\t\t\tparams[keys[i].replace(/:|\\./g, \"\")] = decodeURIComponent(values[i])\n\t\t\t\t\t\t}\n\t\t\t\t\t\tresolve(routes[route0], params, path, route0)\n\t\t\t\t\t})\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t}\n\t\t\treject(path, params)\n\t\t}\n\t\tif (supportsPushState) $window.onpopstate = debounceAsync(resolveRoute)\n\t\telse if (router.prefix.charAt(0) === \"#\") $window.onhashchange = resolveRoute\n\t\tresolveRoute()\n\t}\n\treturn router\n}\nvar _20 = function($window, redrawService0) {\n\tvar routeService = coreRouter($window)\n\tvar identity = function(v) {return v}\n\tvar render1, component, attrs3, currentPath, lastUpdate\n\tvar route = function(root, defaultRoute, routes) {\n\t\tif (root == null) throw new Error(\"Ensure the DOM element that was passed to `m.route` is not undefined\")\n\t\tvar run1 = function() {\n\t\t\tif (render1 != null) redrawService0.render(root, render1(Vnode(component, attrs3.key, attrs3)))\n\t\t}\n\t\tvar bail = function(path) {\n\t\t\tif (path !== defaultRoute) routeService.setPath(defaultRoute, null, {replace: true})\n\t\t\telse throw new Error(\"Could not resolve default route \" + defaultRoute)\n\t\t}\n\t\trouteService.defineRoutes(routes, function(payload, params, path) {\n\t\t\tvar update = lastUpdate = function(routeResolver, comp) {\n\t\t\t\tif (update !== lastUpdate) return\n\t\t\t\tcomponent = comp != null && typeof comp.view === \"function\" ? comp : \"div\", attrs3 = params, currentPath = path, lastUpdate = null\n\t\t\t\trender1 = (routeResolver.render || identity).bind(routeResolver)\n\t\t\t\trun1()\n\t\t\t}\n\t\t\tif (payload.view) update({}, payload)\n\t\t\telse {\n\t\t\t\tif (payload.onmatch) {\n\t\t\t\t\tPromise.resolve(payload.onmatch(params, path)).then(function(resolved) {\n\t\t\t\t\t\tupdate(payload, resolved)\n\t\t\t\t\t}, bail)\n\t\t\t\t}\n\t\t\t\telse update(payload, \"div\")\n\t\t\t}\n\t\t}, bail)\n\t\tredrawService0.subscribe(root, run1)\n\t}\n\troute.set = function(path, data, options) {\n\t\tif (lastUpdate != null) options = {replace: true}\n\t\tlastUpdate = null\n\t\trouteService.setPath(path, data, options)\n\t}\n\troute.get = function() {return currentPath}\n\troute.prefix = function(prefix0) {routeService.prefix = prefix0}\n\troute.link = function(vnode1) {\n\t\tvnode1.dom.setAttribute(\"href\", routeService.prefix + vnode1.attrs.href)\n\t\tvnode1.dom.onclick = function(e) {\n\t\t\tif (e.ctrlKey || e.metaKey || e.shiftKey || e.which === 2) return\n\t\t\te.preventDefault()\n\t\t\te.redraw = false\n\t\t\tvar href = this.getAttribute(\"href\")\n\t\t\tif (href.indexOf(routeService.prefix) === 0) href = href.slice(routeService.prefix.length)\n\t\t\troute.set(href, undefined, undefined)\n\t\t}\n\t}\n\troute.param = function(key3) {\n\t\tif(typeof attrs3 !== \"undefined\" && typeof key3 !== \"undefined\") return attrs3[key3]\n\t\treturn attrs3\n\t}\n\treturn route\n}\nm.route = _20(window, redrawService)\nm.withAttr = function(attrName, callback1, context) {\n\treturn function(e) {\n\t\tcallback1.call(context || this, attrName in e.currentTarget ? e.currentTarget[attrName] : e.currentTarget.getAttribute(attrName))\n\t}\n}\nvar _28 = coreRenderer(window)\nm.render = _28.render\nm.redraw = redrawService.redraw\nm.request = requestService.request\nm.jsonp = requestService.jsonp\nm.parseQueryString = parseQueryString\nm.buildQueryString = buildQueryString\nm.version = \"1.0.1\"\nm.vnode = Vnode\nif (typeof module !== \"undefined\") module[\"exports\"] = m\nelse window.m = m\n}","export const nodeTreeCanvas = 'node-tree-canvas';\nexport const url = 'http://localhost:8080';\nexport const canvasSize = {\n    height: '100%',\n    width: '100%'\n};","/**\n * jsBezier\n *\n * Copyright (c) 2010 - 2017 jsPlumb (hello@jsplumbtoolkit.com)\n *\n * licensed under the MIT license.\n *\n * a set of Bezier curve functions that deal with Beziers, used by jsPlumb, and perhaps useful for other people.  These functions work with Bezier\n * curves of arbitrary degree.\n *\n * - functions are all in the 'jsBezier' namespace.\n *\n * - all input points should be in the format {x:.., y:..}. all output points are in this format too.\n *\n * - all input curves should be in the format [ {x:.., y:..}, {x:.., y:..}, {x:.., y:..}, {x:.., y:..} ]\n *\n * - 'location' as used as an input here refers to a decimal in the range 0-1 inclusive, which indicates a point some proportion along the length\n * of the curve.  location as output has the same format and meaning.\n *\n *\n * Function List:\n * --------------\n *\n * distanceFromCurve(point, curve)\n *\n * \tCalculates the distance that the given point lies from the given Bezier.  Note that it is computed relative to the center of the Bezier,\n * so if you have stroked the curve with a wide pen you may wish to take that into account!  The distance returned is relative to the values\n * of the curve and the point - it will most likely be pixels.\n *\n * gradientAtPoint(curve, location)\n *\n * \tCalculates the gradient to the curve at the given location, as a decimal between 0 and 1 inclusive.\n *\n * gradientAtPointAlongCurveFrom (curve, location)\n *\n *\tCalculates the gradient at the point on the given curve that is 'distance' units from location.\n *\n * nearestPointOnCurve(point, curve)\n *\n *\tCalculates the nearest point to the given point on the given curve.  The return value of this is a JS object literal, containing both the\n *point's coordinates and also the 'location' of the point (see above), for example:  { point:{x:551,y:150}, location:0.263365 }.\n *\n * pointOnCurve(curve, location)\n *\n * \tCalculates the coordinates of the point on the given Bezier curve at the given location.\n *\n * pointAlongCurveFrom(curve, location, distance)\n *\n * \tCalculates the coordinates of the point on the given curve that is 'distance' units from location.  'distance' should be in the same coordinate\n * space as that used to construct the Bezier curve.  For an HTML Canvas usage, for example, distance would be a measure of pixels.\n *\n * locationAlongCurveFrom(curve, location, distance)\n *\n * \tCalculates the location on the given curve that is 'distance' units from location.  'distance' should be in the same coordinate\n * space as that used to construct the Bezier curve.  For an HTML Canvas usage, for example, distance would be a measure of pixels.\n *\n * perpendicularToCurveAt(curve, location, length, distance)\n *\n * \tCalculates the perpendicular to the given curve at the given location.  length is the length of the line you wish for (it will be centered\n * on the point at 'location'). distance is optional, and allows you to specify a point along the path from the given location as the center of\n * the perpendicular returned.  The return value of this is an array of two points: [ {x:...,y:...}, {x:...,y:...} ].\n *\n *\n */\n\n(function() {\n\n    var root = this;\n\n    if(typeof Math.sgn == \"undefined\") {\n        Math.sgn = function(x) { return x == 0 ? 0 : x > 0 ? 1 :-1; };\n    }\n\n    var Vectors = {\n            subtract \t: \tfunction(v1, v2) { return {x:v1.x - v2.x, y:v1.y - v2.y }; },\n            dotProduct\t: \tfunction(v1, v2) { return (v1.x * v2.x)  + (v1.y * v2.y); },\n            square\t\t:\tfunction(v) { return Math.sqrt((v.x * v.x) + (v.y * v.y)); },\n            scale\t\t:\tfunction(v, s) { return {x:v.x * s, y:v.y * s }; }\n        },\n\n        maxRecursion = 64,\n        flatnessTolerance = Math.pow(2.0,-maxRecursion-1);\n\n    /**\n     * Calculates the distance that the point lies from the curve.\n     *\n     * @param point a point in the form {x:567, y:3342}\n     * @param curve a Bezier curve in the form [{x:..., y:...}, {x:..., y:...}, {x:..., y:...}, {x:..., y:...}].  note that this is currently\n     * hardcoded to assume cubiz beziers, but would be better off supporting any degree.\n     * @return a JS object literal containing location and distance, for example: {location:0.35, distance:10}.  Location is analogous to the location\n     * argument you pass to the pointOnPath function: it is a ratio of distance travelled along the curve.  Distance is the distance in pixels from\n     * the point to the curve.\n     */\n    var _distanceFromCurve = function(point, curve) {\n        var candidates = [],\n            w = _convertToBezier(point, curve),\n            degree = curve.length - 1, higherDegree = (2 * degree) - 1,\n            numSolutions = _findRoots(w, higherDegree, candidates, 0),\n            v = Vectors.subtract(point, curve[0]), dist = Vectors.square(v), t = 0.0;\n\n        for (var i = 0; i < numSolutions; i++) {\n            v = Vectors.subtract(point, _bezier(curve, degree, candidates[i], null, null));\n            var newDist = Vectors.square(v);\n            if (newDist < dist) {\n                dist = newDist;\n                t = candidates[i];\n            }\n        }\n        v = Vectors.subtract(point, curve[degree]);\n        newDist = Vectors.square(v);\n        if (newDist < dist) {\n            dist = newDist;\n            t = 1.0;\n        }\n        return {location:t, distance:dist};\n    };\n    /**\n     * finds the nearest point on the curve to the given point.\n     */\n    var _nearestPointOnCurve = function(point, curve) {\n        var td = _distanceFromCurve(point, curve);\n        return {point:_bezier(curve, curve.length - 1, td.location, null, null), location:td.location};\n    };\n    var _convertToBezier = function(point, curve) {\n        var degree = curve.length - 1, higherDegree = (2 * degree) - 1,\n            c = [], d = [], cdTable = [], w = [],\n            z = [ [1.0, 0.6, 0.3, 0.1], [0.4, 0.6, 0.6, 0.4], [0.1, 0.3, 0.6, 1.0] ];\n\n        for (var i = 0; i <= degree; i++) c[i] = Vectors.subtract(curve[i], point);\n        for (var i = 0; i <= degree - 1; i++) {\n            d[i] = Vectors.subtract(curve[i+1], curve[i]);\n            d[i] = Vectors.scale(d[i], 3.0);\n        }\n        for (var row = 0; row <= degree - 1; row++) {\n            for (var column = 0; column <= degree; column++) {\n                if (!cdTable[row]) cdTable[row] = [];\n                cdTable[row][column] = Vectors.dotProduct(d[row], c[column]);\n            }\n        }\n        for (i = 0; i <= higherDegree; i++) {\n            if (!w[i]) w[i] = [];\n            w[i].y = 0.0;\n            w[i].x = parseFloat(i) / higherDegree;\n        }\n        var n = degree, m = degree-1;\n        for (var k = 0; k <= n + m; k++) {\n            var lb = Math.max(0, k - m),\n                ub = Math.min(k, n);\n            for (i = lb; i <= ub; i++) {\n                j = k - i;\n                w[i+j].y += cdTable[j][i] * z[j][i];\n            }\n        }\n        return w;\n    };\n    /**\n     * counts how many roots there are.\n     */\n    var _findRoots = function(w, degree, t, depth) {\n        var left = [], right = [],\n            left_count, right_count,\n            left_t = [], right_t = [];\n\n        switch (_getCrossingCount(w, degree)) {\n            case 0 : {\n                return 0;\n            }\n            case 1 : {\n                if (depth >= maxRecursion) {\n                    t[0] = (w[0].x + w[degree].x) / 2.0;\n                    return 1;\n                }\n                if (_isFlatEnough(w, degree)) {\n                    t[0] = _computeXIntercept(w, degree);\n                    return 1;\n                }\n                break;\n            }\n        }\n        _bezier(w, degree, 0.5, left, right);\n        left_count  = _findRoots(left,  degree, left_t, depth+1);\n        right_count = _findRoots(right, degree, right_t, depth+1);\n        for (var i = 0; i < left_count; i++) t[i] = left_t[i];\n        for (var i = 0; i < right_count; i++) t[i+left_count] = right_t[i];\n        return (left_count+right_count);\n    };\n    var _getCrossingCount = function(curve, degree) {\n        var n_crossings = 0, sign, old_sign;\n        sign = old_sign = Math.sgn(curve[0].y);\n        for (var i = 1; i <= degree; i++) {\n            sign = Math.sgn(curve[i].y);\n            if (sign != old_sign) n_crossings++;\n            old_sign = sign;\n        }\n        return n_crossings;\n    };\n    var _isFlatEnough = function(curve, degree) {\n        var  error,\n            intercept_1, intercept_2, left_intercept, right_intercept,\n            a, b, c, det, dInv, a1, b1, c1, a2, b2, c2;\n        a = curve[0].y - curve[degree].y;\n        b = curve[degree].x - curve[0].x;\n        c = curve[0].x * curve[degree].y - curve[degree].x * curve[0].y;\n\n        var max_distance_above = max_distance_below = 0.0;\n\n        for (var i = 1; i < degree; i++) {\n            var value = a * curve[i].x + b * curve[i].y + c;\n            if (value > max_distance_above)\n                max_distance_above = value;\n            else if (value < max_distance_below)\n                max_distance_below = value;\n        }\n\n        a1 = 0.0; b1 = 1.0; c1 = 0.0; a2 = a; b2 = b;\n        c2 = c - max_distance_above;\n        det = a1 * b2 - a2 * b1;\n        dInv = 1.0/det;\n        intercept_1 = (b1 * c2 - b2 * c1) * dInv;\n        a2 = a; b2 = b; c2 = c - max_distance_below;\n        det = a1 * b2 - a2 * b1;\n        dInv = 1.0/det;\n        intercept_2 = (b1 * c2 - b2 * c1) * dInv;\n        left_intercept = Math.min(intercept_1, intercept_2);\n        right_intercept = Math.max(intercept_1, intercept_2);\n        error = right_intercept - left_intercept;\n        return (error < flatnessTolerance)? 1 : 0;\n    };\n    var _computeXIntercept = function(curve, degree) {\n        var XLK = 1.0, YLK = 0.0,\n            XNM = curve[degree].x - curve[0].x, YNM = curve[degree].y - curve[0].y,\n            XMK = curve[0].x - 0.0, YMK = curve[0].y - 0.0,\n            det = XNM*YLK - YNM*XLK, detInv = 1.0/det,\n            S = (XNM*YMK - YNM*XMK) * detInv;\n        return 0.0 + XLK * S;\n    };\n    var _bezier = function(curve, degree, t, left, right) {\n        var temp = [[]];\n        for (var j =0; j <= degree; j++) temp[0][j] = curve[j];\n        for (var i = 1; i <= degree; i++) {\n            for (var j =0 ; j <= degree - i; j++) {\n                if (!temp[i]) temp[i] = [];\n                if (!temp[i][j]) temp[i][j] = {};\n                temp[i][j].x = (1.0 - t) * temp[i-1][j].x + t * temp[i-1][j+1].x;\n                temp[i][j].y = (1.0 - t) * temp[i-1][j].y + t * temp[i-1][j+1].y;\n            }\n        }\n        if (left != null)\n            for (j = 0; j <= degree; j++) left[j]  = temp[j][0];\n        if (right != null)\n            for (j = 0; j <= degree; j++) right[j] = temp[degree-j][j];\n\n        return (temp[degree][0]);\n    };\n\n    var _curveFunctionCache = {};\n    var _getCurveFunctions = function(order) {\n        var fns = _curveFunctionCache[order];\n        if (!fns) {\n            fns = [];\n            var f_term = function() { return function(t) { return Math.pow(t, order); }; },\n                l_term = function() { return function(t) { return Math.pow((1-t), order); }; },\n                c_term = function(c) { return function(t) { return c; }; },\n                t_term = function() { return function(t) { return t; }; },\n                one_minus_t_term = function() { return function(t) { return 1-t; }; },\n                _termFunc = function(terms) {\n                    return function(t) {\n                        var p = 1;\n                        for (var i = 0; i < terms.length; i++) p = p * terms[i](t);\n                        return p;\n                    };\n                };\n\n            fns.push(new f_term());  // first is t to the power of the curve order\n            for (var i = 1; i < order; i++) {\n                var terms = [new c_term(order)];\n                for (var j = 0 ; j < (order - i); j++) terms.push(new t_term());\n                for (var j = 0 ; j < i; j++) terms.push(new one_minus_t_term());\n                fns.push(new _termFunc(terms));\n            }\n            fns.push(new l_term());  // last is (1-t) to the power of the curve order\n\n            _curveFunctionCache[order] = fns;\n        }\n\n        return fns;\n    };\n\n\n    /**\n     * calculates a point on the curve, for a Bezier of arbitrary order.\n     * @param curve an array of control points, eg [{x:10,y:20}, {x:50,y:50}, {x:100,y:100}, {x:120,y:100}].  For a cubic bezier this should have four points.\n     * @param location a decimal indicating the distance along the curve the point should be located at.  this is the distance along the curve as it travels, taking the way it bends into account.  should be a number from 0 to 1, inclusive.\n     */\n    var _pointOnPath = function(curve, location) {\n        var cc = _getCurveFunctions(curve.length - 1),\n            _x = 0, _y = 0;\n        for (var i = 0; i < curve.length ; i++) {\n            _x = _x + (curve[i].x * cc[i](location));\n            _y = _y + (curve[i].y * cc[i](location));\n        }\n\n        return {x:_x, y:_y};\n    };\n\n    var _dist = function(p1,p2) {\n        return Math.sqrt(Math.pow(p1.x - p2.x, 2) + Math.pow(p1.y - p2.y, 2));\n    };\n\n    var _isPoint = function(curve) {\n        return curve[0].x == curve[1].x && curve[0].y == curve[1].y;\n    };\n\n    /**\n     * finds the point that is 'distance' along the path from 'location'.  this method returns both the x,y location of the point and also\n     * its 'location' (proportion of travel along the path); the method below - _pointAlongPathFrom - calls this method and just returns the\n     * point.\n     */\n    var _pointAlongPath = function(curve, location, distance) {\n\n        if (_isPoint(curve)) {\n            return {\n                point:curve[0],\n                location:location\n            };\n        }\n\n        var prev = _pointOnPath(curve, location),\n            tally = 0,\n            curLoc = location,\n            direction = distance > 0 ? 1 : -1,\n            cur = null;\n\n        while (tally < Math.abs(distance)) {\n            curLoc += (0.005 * direction);\n            cur = _pointOnPath(curve, curLoc);\n            tally += _dist(cur, prev);\n            prev = cur;\n        }\n        return {point:cur, location:curLoc};\n    };\n\n    var _length = function(curve) {\n        if (_isPoint(curve)) return 0;\n\n        var prev = _pointOnPath(curve, 0),\n            tally = 0,\n            curLoc = 0,\n            direction = 1,\n            cur = null;\n\n        while (curLoc < 1) {\n            curLoc += (0.005 * direction);\n            cur = _pointOnPath(curve, curLoc);\n            tally += _dist(cur, prev);\n            prev = cur;\n        }\n        return tally;\n    };\n\n    /**\n     * finds the point that is 'distance' along the path from 'location'.\n     */\n    var _pointAlongPathFrom = function(curve, location, distance) {\n        return _pointAlongPath(curve, location, distance).point;\n    };\n\n    /**\n     * finds the location that is 'distance' along the path from 'location'.\n     */\n    var _locationAlongPathFrom = function(curve, location, distance) {\n        return _pointAlongPath(curve, location, distance).location;\n    };\n\n    /**\n     * returns the gradient of the curve at the given location, which is a decimal between 0 and 1 inclusive.\n     *\n     * thanks // http://bimixual.org/AnimationLibrary/beziertangents.html\n     */\n    var _gradientAtPoint = function(curve, location) {\n        var p1 = _pointOnPath(curve, location),\n            p2 = _pointOnPath(curve.slice(0, curve.length - 1), location),\n            dy = p2.y - p1.y, dx = p2.x - p1.x;\n        return dy == 0 ? Infinity : Math.atan(dy / dx);\n    };\n\n    /**\n     returns the gradient of the curve at the point which is 'distance' from the given location.\n     if this point is greater than location 1, the gradient at location 1 is returned.\n     if this point is less than location 0, the gradient at location 0 is returned.\n     */\n    var _gradientAtPointAlongPathFrom = function(curve, location, distance) {\n        var p = _pointAlongPath(curve, location, distance);\n        if (p.location > 1) p.location = 1;\n        if (p.location < 0) p.location = 0;\n        return _gradientAtPoint(curve, p.location);\n    };\n\n    /**\n     * calculates a line that is 'length' pixels long, perpendicular to, and centered on, the path at 'distance' pixels from the given location.\n     * if distance is not supplied, the perpendicular for the given location is computed (ie. we set distance to zero).\n     */\n    var _perpendicularToPathAt = function(curve, location, length, distance) {\n        distance = distance == null ? 0 : distance;\n        var p = _pointAlongPath(curve, location, distance),\n            m = _gradientAtPoint(curve, p.location),\n            _theta2 = Math.atan(-1 / m),\n            y =  length / 2 * Math.sin(_theta2),\n            x =  length / 2 * Math.cos(_theta2);\n        return [{x:p.point.x + x, y:p.point.y + y}, {x:p.point.x - x, y:p.point.y - y}];\n    };\n\n    var jsBezier = this.jsBezier = {\n        distanceFromCurve : _distanceFromCurve,\n        gradientAtPoint : _gradientAtPoint,\n        gradientAtPointAlongCurveFrom : _gradientAtPointAlongPathFrom,\n        nearestPointOnCurve : _nearestPointOnCurve,\n        pointOnCurve : _pointOnPath,\n        pointAlongCurveFrom : _pointAlongPathFrom,\n        perpendicularToCurveAt : _perpendicularToPathAt,\n        locationAlongCurveFrom:_locationAlongPathFrom,\n        getLength:_length,\n        version:\"0.9.0\"\n    };\n\n    if (typeof exports !== \"undefined\") {\n        exports.jsBezier = jsBezier;\n    }\n\n}).call(typeof window !== 'undefined' ? window : this);\n\n/**\n * Biltong v0.4.0\n *\n * Various geometry functions written as part of jsPlumb and perhaps useful for others.\n *\n * Copyright (c) 2017 jsPlumb\n * https://jsplumbtoolkit.com\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n;(function() {\n\n    \"use strict\";\n    var root = this;\n\n    var Biltong = root.Biltong = {\n        version:\"0.4.0\"\n    };\n\n    if (typeof exports !== \"undefined\") {\n        exports.Biltong = Biltong;\n    }\n\n    var _isa = function(a) { return Object.prototype.toString.call(a) === \"[object Array]\"; },\n        _pointHelper = function(p1, p2, fn) {\n            p1 = _isa(p1) ? p1 : [p1.x, p1.y];\n            p2 = _isa(p2) ? p2 : [p2.x, p2.y];\n            return fn(p1, p2);\n        },\n        /**\n         * @name Biltong.gradient\n         * @function\n         * @desc Calculates the gradient of a line between the two points.\n         * @param {Point} p1 First point, either as a 2 entry array or object with `left` and `top` properties.\n         * @param {Point} p2 Second point, either as a 2 entry array or object with `left` and `top` properties.\n         * @return {Float} The gradient of a line between the two points.\n         */\n        _gradient = Biltong.gradient = function(p1, p2) {\n            return _pointHelper(p1, p2, function(_p1, _p2) {\n                if (_p2[0] == _p1[0])\n                    return _p2[1] > _p1[1] ? Infinity : -Infinity;\n                else if (_p2[1] == _p1[1])\n                    return _p2[0] > _p1[0] ? 0 : -0;\n                else\n                    return (_p2[1] - _p1[1]) / (_p2[0] - _p1[0]);\n            });\n        },\n        /**\n         * @name Biltong.normal\n         * @function\n         * @desc Calculates the gradient of a normal to a line between the two points.\n         * @param {Point} p1 First point, either as a 2 entry array or object with `left` and `top` properties.\n         * @param {Point} p2 Second point, either as a 2 entry array or object with `left` and `top` properties.\n         * @return {Float} The gradient of a normal to a line between the two points.\n         */\n        _normal = Biltong.normal = function(p1, p2) {\n            return -1 / _gradient(p1, p2);\n        },\n        /**\n         * @name Biltong.lineLength\n         * @function\n         * @desc Calculates the length of a line between the two points.\n         * @param {Point} p1 First point, either as a 2 entry array or object with `left` and `top` properties.\n         * @param {Point} p2 Second point, either as a 2 entry array or object with `left` and `top` properties.\n         * @return {Float} The length of a line between the two points.\n         */\n        _lineLength = Biltong.lineLength = function(p1, p2) {\n            return _pointHelper(p1, p2, function(_p1, _p2) {\n                return Math.sqrt(Math.pow(_p2[1] - _p1[1], 2) + Math.pow(_p2[0] - _p1[0], 2));\n            });\n        },\n        /**\n         * @name Biltong.quadrant\n         * @function\n         * @desc Calculates the quadrant in which the angle between the two points lies.\n         * @param {Point} p1 First point, either as a 2 entry array or object with `left` and `top` properties.\n         * @param {Point} p2 Second point, either as a 2 entry array or object with `left` and `top` properties.\n         * @return {Integer} The quadrant - 1 for upper right, 2 for lower right, 3 for lower left, 4 for upper left.\n         */\n        _quadrant = Biltong.quadrant = function(p1, p2) {\n            return _pointHelper(p1, p2, function(_p1, _p2) {\n                if (_p2[0] > _p1[0]) {\n                    return (_p2[1] > _p1[1]) ? 2 : 1;\n                }\n                else if (_p2[0] == _p1[0]) {\n                    return _p2[1] > _p1[1] ? 2 : 1;\n                }\n                else {\n                    return (_p2[1] > _p1[1]) ? 3 : 4;\n                }\n            });\n        },\n        /**\n         * @name Biltong.theta\n         * @function\n         * @desc Calculates the angle between the two points.\n         * @param {Point} p1 First point, either as a 2 entry array or object with `left` and `top` properties.\n         * @param {Point} p2 Second point, either as a 2 entry array or object with `left` and `top` properties.\n         * @return {Float} The angle between the two points.\n         */\n        _theta = Biltong.theta = function(p1, p2) {\n            return _pointHelper(p1, p2, function(_p1, _p2) {\n                var m = _gradient(_p1, _p2),\n                    t = Math.atan(m),\n                    s = _quadrant(_p1, _p2);\n                if ((s == 4 || s== 3)) t += Math.PI;\n                if (t < 0) t += (2 * Math.PI);\n\n                return t;\n            });\n        },\n        /**\n         * @name Biltong.intersects\n         * @function\n         * @desc Calculates whether or not the two rectangles intersect.\n         * @param {Rectangle} r1 First rectangle, as a js object in the form `{x:.., y:.., w:.., h:..}`\n         * @param {Rectangle} r2 Second rectangle, as a js object in the form `{x:.., y:.., w:.., h:..}`\n         * @return {Boolean} True if the rectangles intersect, false otherwise.\n         */\n        _intersects = Biltong.intersects = function(r1, r2) {\n            var x1 = r1.x, x2 = r1.x + r1.w, y1 = r1.y, y2 = r1.y + r1.h,\n                a1 = r2.x, a2 = r2.x + r2.w, b1 = r2.y, b2 = r2.y + r2.h;\n\n            return  ( (x1 <= a1 && a1 <= x2) && (y1 <= b1 && b1 <= y2) ) ||\n                ( (x1 <= a2 && a2 <= x2) && (y1 <= b1 && b1 <= y2) ) ||\n                ( (x1 <= a1 && a1 <= x2) && (y1 <= b2 && b2 <= y2) ) ||\n                ( (x1 <= a2 && a1 <= x2) && (y1 <= b2 && b2 <= y2) ) ||\n                ( (a1 <= x1 && x1 <= a2) && (b1 <= y1 && y1 <= b2) ) ||\n                ( (a1 <= x2 && x2 <= a2) && (b1 <= y1 && y1 <= b2) ) ||\n                ( (a1 <= x1 && x1 <= a2) && (b1 <= y2 && y2 <= b2) ) ||\n                ( (a1 <= x2 && x1 <= a2) && (b1 <= y2 && y2 <= b2) );\n        },\n        /**\n         * @name Biltong.encloses\n         * @function\n         * @desc Calculates whether or not r2 is completely enclosed by r1.\n         * @param {Rectangle} r1 First rectangle, as a js object in the form `{x:.., y:.., w:.., h:..}`\n         * @param {Rectangle} r2 Second rectangle, as a js object in the form `{x:.., y:.., w:.., h:..}`\n         * @param {Boolean} [allowSharedEdges=false] If true, the concept of enclosure allows for one or more edges to be shared by the two rectangles.\n         * @return {Boolean} True if r1 encloses r2, false otherwise.\n         */\n        _encloses = Biltong.encloses = function(r1, r2, allowSharedEdges) {\n            var x1 = r1.x, x2 = r1.x + r1.w, y1 = r1.y, y2 = r1.y + r1.h,\n                a1 = r2.x, a2 = r2.x + r2.w, b1 = r2.y, b2 = r2.y + r2.h,\n                c = function(v1, v2, v3, v4) { return allowSharedEdges ? v1 <= v2 && v3>= v4 : v1 < v2 && v3 > v4; };\n\n            return c(x1,a1,x2,a2) && c(y1,b1,y2,b2);\n        },\n        _segmentMultipliers = [null, [1, -1], [1, 1], [-1, 1], [-1, -1] ],\n        _inverseSegmentMultipliers = [null, [-1, -1], [-1, 1], [1, 1], [1, -1] ],\n        /**\n         * @name Biltong.pointOnLine\n         * @function\n         * @desc Calculates a point on the line from `fromPoint` to `toPoint` that is `distance` units along the length of the line.\n         * @param {Point} p1 First point, either as a 2 entry array or object with `left` and `top` properties.\n         * @param {Point} p2 Second point, either as a 2 entry array or object with `left` and `top` properties.\n         * @return {Point} Point on the line, in the form `{ x:..., y:... }`.\n         */\n        _pointOnLine = Biltong.pointOnLine = function(fromPoint, toPoint, distance) {\n            var m = _gradient(fromPoint, toPoint),\n                s = _quadrant(fromPoint, toPoint),\n                segmentMultiplier = distance > 0 ? _segmentMultipliers[s] : _inverseSegmentMultipliers[s],\n                theta = Math.atan(m),\n                y = Math.abs(distance * Math.sin(theta)) * segmentMultiplier[1],\n                x =  Math.abs(distance * Math.cos(theta)) * segmentMultiplier[0];\n            return { x:fromPoint.x + x, y:fromPoint.y + y };\n        },\n        /**\n         * @name Biltong.perpendicularLineTo\n         * @function\n         * @desc Calculates a line of length `length` that is perpendicular to the line from `fromPoint` to `toPoint` and passes through `toPoint`.\n         * @param {Point} p1 First point, either as a 2 entry array or object with `left` and `top` properties.\n         * @param {Point} p2 Second point, either as a 2 entry array or object with `left` and `top` properties.\n         * @return {Line} Perpendicular line, in the form `[ { x:..., y:... }, { x:..., y:... } ]`.\n         */\n        _perpendicularLineTo = Biltong.perpendicularLineTo = function(fromPoint, toPoint, length) {\n            var m = _gradient(fromPoint, toPoint),\n                theta2 = Math.atan(-1 / m),\n                y =  length / 2 * Math.sin(theta2),\n                x =  length / 2 * Math.cos(theta2);\n            return [{x:toPoint.x + x, y:toPoint.y + y}, {x:toPoint.x - x, y:toPoint.y - y}];\n        };\n}).call(typeof window !== 'undefined' ? window : this);\n;\n(function () {\n\n    \"use strict\";\n\n    var root = this,\n        Sniff = {\n            android: navigator.userAgent.toLowerCase().indexOf(\"android\") > -1\n        },\n        matchesSelector = function (el, selector, ctx) {\n            ctx = ctx || el.parentNode;\n            var possibles = ctx.querySelectorAll(selector);\n            for (var i = 0; i < possibles.length; i++) {\n                if (possibles[i] === el) {\n                    return true;\n                }\n            }\n            return false;\n        },\n        _gel = function (el) {\n            return (typeof el == \"string\" || el.constructor === String) ? document.getElementById(el) : el;\n        },\n        _t = function (e) {\n            return e.srcElement || e.target;\n        },\n    //\n    // gets path info for the given event - the path from target to obj, in the event's bubble chain. if doCompute\n    // is false we just return target for the path.\n    //\n        _pi = function(e, target, obj, doCompute) {\n            if (!doCompute) return { path:[target], end:1 };\n            else if (typeof e.path !== \"undefined\" && e.path.indexOf) {\n                return { path: e.path, end: e.path.indexOf(obj) };\n            } else {\n                var out = { path:[], end:-1 }, _one = function(el) {\n                    out.path.push(el);\n                    if (el === obj) {\n                        out.end = out.path.length - 1;\n                    }\n                    else if (el.parentNode != null) {\n                        _one(el.parentNode)\n                    }\n                };\n                _one(target);\n                return out;\n            }\n        },\n        _d = function (l, fn) {\n            for (var i = 0, j = l.length; i < j; i++) {\n                if (l[i] == fn) break;\n            }\n            if (i < l.length) l.splice(i, 1);\n        },\n        guid = 1,\n    //\n    // this function generates a guid for every handler, sets it on the handler, then adds\n    // it to the associated object's map of handlers for the given event. this is what enables us\n    // to unbind all events of some type, or all events (the second of which can be requested by the user,\n    // but it also used by Mottle when an element is removed.)\n        _store = function (obj, event, fn) {\n            var g = guid++;\n            obj.__ta = obj.__ta || {};\n            obj.__ta[event] = obj.__ta[event] || {};\n            // store each handler with a unique guid.\n            obj.__ta[event][g] = fn;\n            // set the guid on the handler.\n            fn.__tauid = g;\n            return g;\n        },\n        _unstore = function (obj, event, fn) {\n            obj.__ta && obj.__ta[event] && delete obj.__ta[event][fn.__tauid];\n            // a handler might have attached extra functions, so we unbind those too.\n            if (fn.__taExtra) {\n                for (var i = 0; i < fn.__taExtra.length; i++) {\n                    _unbind(obj, fn.__taExtra[i][0], fn.__taExtra[i][1]);\n                }\n                fn.__taExtra.length = 0;\n            }\n            // a handler might have attached an unstore callback\n            fn.__taUnstore && fn.__taUnstore();\n        },\n        _curryChildFilter = function (children, obj, fn, evt) {\n            if (children == null) return fn;\n            else {\n                var c = children.split(\",\"),\n                    _fn = function (e) {\n                        _fn.__tauid = fn.__tauid;\n                        var t = _t(e), target = t;  // t is the target element on which the event occurred. it is the\n                        // element we will wish to pass to any callbacks.\n                        var pathInfo = _pi(e, t, obj, children != null)\n                        if (pathInfo.end != -1) {\n                            for (var p = 0; p < pathInfo.end; p++) {\n                                target = pathInfo.path[p];\n                                for (var i = 0; i < c.length; i++) {\n                                    if (matchesSelector(target, c[i], obj)) {\n                                        fn.apply(target, arguments);\n                                    }\n                                }\n                            }\n                        }\n                    };\n                registerExtraFunction(fn, evt, _fn);\n                return _fn;\n            }\n        },\n    //\n    // registers an 'extra' function on some event listener function we were given - a function that we\n    // created and bound to the element as part of our housekeeping, and which we want to unbind and remove\n    // whenever the given function is unbound.\n        registerExtraFunction = function (fn, evt, newFn) {\n            fn.__taExtra = fn.__taExtra || [];\n            fn.__taExtra.push([evt, newFn]);\n        },\n        DefaultHandler = function (obj, evt, fn, children) {\n            if (isTouchDevice && touchMap[evt]) {\n                var tfn = _curryChildFilter(children, obj, fn, touchMap[evt]);\n                _bind(obj, touchMap[evt], tfn , fn);\n            }\n            if (evt === \"focus\" && obj.getAttribute(\"tabindex\") == null) {\n                obj.setAttribute(\"tabindex\", \"1\");\n            }\n            _bind(obj, evt, _curryChildFilter(children, obj, fn, evt), fn);\n        },\n        SmartClickHandler = function (obj, evt, fn, children) {\n            if (obj.__taSmartClicks == null) {\n                var down = function (e) {\n                        obj.__tad = _pageLocation(e);\n                    },\n                    up = function (e) {\n                        obj.__tau = _pageLocation(e);\n                    },\n                    click = function (e) {\n                        if (obj.__tad && obj.__tau && obj.__tad[0] === obj.__tau[0] && obj.__tad[1] === obj.__tau[1]) {\n                            for (var i = 0; i < obj.__taSmartClicks.length; i++)\n                                obj.__taSmartClicks[i].apply(_t(e), [ e ]);\n                        }\n                    };\n                DefaultHandler(obj, \"mousedown\", down, children);\n                DefaultHandler(obj, \"mouseup\", up, children);\n                DefaultHandler(obj, \"click\", click, children);\n                obj.__taSmartClicks = [];\n            }\n\n            // store in the list of callbacks\n            obj.__taSmartClicks.push(fn);\n            // the unstore function removes this function from the object's listener list for this type.\n            fn.__taUnstore = function () {\n                _d(obj.__taSmartClicks, fn);\n            };\n        },\n        _tapProfiles = {\n            \"tap\": {touches: 1, taps: 1},\n            \"dbltap\": {touches: 1, taps: 2},\n            \"contextmenu\": {touches: 2, taps: 1}\n        },\n        TapHandler = function (clickThreshold, dblClickThreshold) {\n            return function (obj, evt, fn, children) {\n                // if event is contextmenu, for devices which are mouse only, we want to\n                // use the default bind.\n                if (evt == \"contextmenu\" && isMouseDevice)\n                    DefaultHandler(obj, evt, fn, children);\n                else {\n                    // the issue here is that this down handler gets registered only for the\n                    // child nodes in the first registration. in fact it should be registered with\n                    // no child selector and then on down we should cycle through the registered\n                    // functions to see if one of them matches. on mouseup we should execute ALL of\n                    // the functions whose children are either null or match the element.\n                    if (obj.__taTapHandler == null) {\n                        var tt = obj.__taTapHandler = {\n                            tap: [],\n                            dbltap: [],\n                            contextmenu: [],\n                            down: false,\n                            taps: 0,\n                            downSelectors: []\n                        };\n                        var down = function (e) {\n                                var target = _t(e), pathInfo = _pi(e, target, obj, children != null), finished = false;\n                                for (var p = 0; p < pathInfo.end; p++) {\n                                    if (finished) return;\n                                    target = pathInfo.path[p];\n                                    for (var i = 0; i < tt.downSelectors.length; i++) {\n                                        if (tt.downSelectors[i] == null || matchesSelector(target, tt.downSelectors[i], obj)) {\n                                            tt.down = true;\n                                            setTimeout(clearSingle, clickThreshold);\n                                            setTimeout(clearDouble, dblClickThreshold);\n                                            finished = true;\n                                            break; // we only need one match on mousedown\n                                        }\n                                    }\n                                }\n                            },\n                            up = function (e) {\n                                if (tt.down) {\n                                    var target = _t(e), currentTarget, pathInfo;\n                                    tt.taps++;\n                                    var tc = _touchCount(e);\n                                    for (var eventId in _tapProfiles) {\n                                        if (_tapProfiles.hasOwnProperty(eventId)) {\n                                            var p = _tapProfiles[eventId];\n                                            if (p.touches === tc && (p.taps === 1 || p.taps === tt.taps)) {\n                                                for (var i = 0; i < tt[eventId].length; i++) {\n                                                    pathInfo = _pi(e, target, obj, tt[eventId][i][1] != null);\n                                                    for (var pLoop = 0; pLoop < pathInfo.end; pLoop++) {\n                                                        currentTarget = pathInfo.path[pLoop];\n                                                        // this is a single event registration handler.\n                                                        if (tt[eventId][i][1] == null || matchesSelector(currentTarget, tt[eventId][i][1], obj)) {\n                                                            tt[eventId][i][0].apply(currentTarget, [ e ]);\n                                                            break;\n                                                        }\n                                                    }\n                                                }\n                                            }\n                                        }\n                                    }\n                                }\n                            },\n                            clearSingle = function () {\n                                tt.down = false;\n                            },\n                            clearDouble = function () {\n                                tt.taps = 0;\n                            };\n\n                        DefaultHandler(obj, \"mousedown\", down);\n                        DefaultHandler(obj, \"mouseup\", up);\n                    }\n                    // add this child selector (it can be null, that's fine).\n                    obj.__taTapHandler.downSelectors.push(children);\n\n                    obj.__taTapHandler[evt].push([fn, children]);\n                    // the unstore function removes this function from the object's listener list for this type.\n                    fn.__taUnstore = function () {\n                        _d(obj.__taTapHandler[evt], fn);\n                    };\n                }\n            };\n        },\n        meeHelper = function (type, evt, obj, target) {\n            for (var i in obj.__tamee[type]) {\n                if (obj.__tamee[type].hasOwnProperty(i)) {\n                    obj.__tamee[type][i].apply(target, [ evt ]);\n                }\n            }\n        },\n        MouseEnterExitHandler = function () {\n            var activeElements = [];\n            return function (obj, evt, fn, children) {\n                if (!obj.__tamee) {\n                    // __tamee holds a flag saying whether the mouse is currently \"in\" the element, and a list of\n                    // both mouseenter and mouseexit functions.\n                    obj.__tamee = { over: false, mouseenter: [], mouseexit: [] };\n                    // register over and out functions\n                    var over = function (e) {\n                            var t = _t(e);\n                            if ((children == null && (t == obj && !obj.__tamee.over)) || (matchesSelector(t, children, obj) && (t.__tamee == null || !t.__tamee.over))) {\n                                meeHelper(\"mouseenter\", e, obj, t);\n                                t.__tamee = t.__tamee || {};\n                                t.__tamee.over = true;\n                                activeElements.push(t);\n                            }\n                        },\n                        out = function (e) {\n                            var t = _t(e);\n                            // is the current target one of the activeElements? and is the\n                            // related target NOT a descendant of it?\n                            for (var i = 0; i < activeElements.length; i++) {\n                                if (t == activeElements[i] && !matchesSelector((e.relatedTarget || e.toElement), \"*\", t)) {\n                                    t.__tamee.over = false;\n                                    activeElements.splice(i, 1);\n                                    meeHelper(\"mouseexit\", e, obj, t);\n                                }\n                            }\n                        };\n\n                    _bind(obj, \"mouseover\", _curryChildFilter(children, obj, over, \"mouseover\"), over);\n                    _bind(obj, \"mouseout\", _curryChildFilter(children, obj, out, \"mouseout\"), out);\n                }\n\n                fn.__taUnstore = function () {\n                    delete obj.__tamee[evt][fn.__tauid];\n                };\n\n                _store(obj, evt, fn);\n                obj.__tamee[evt][fn.__tauid] = fn;\n            };\n        },\n        isTouchDevice = \"ontouchstart\" in document.documentElement,\n        isMouseDevice = \"onmousedown\" in document.documentElement,\n        touchMap = { \"mousedown\": \"touchstart\", \"mouseup\": \"touchend\", \"mousemove\": \"touchmove\" },\n        touchstart = \"touchstart\", touchend = \"touchend\", touchmove = \"touchmove\",\n        iev = (function () {\n            var rv = -1;\n            if (navigator.appName == 'Microsoft Internet Explorer') {\n                var ua = navigator.userAgent,\n                    re = new RegExp(\"MSIE ([0-9]{1,}[\\.0-9]{0,})\");\n                if (re.exec(ua) != null)\n                    rv = parseFloat(RegExp.$1);\n            }\n            return rv;\n        })(),\n        isIELT9 = iev > -1 && iev < 9,\n        _genLoc = function (e, prefix) {\n            if (e == null) return [ 0, 0 ];\n            var ts = _touches(e), t = _getTouch(ts, 0);\n            return [t[prefix + \"X\"], t[prefix + \"Y\"]];\n        },\n        _pageLocation = function (e) {\n            if (e == null) return [ 0, 0 ];\n            if (isIELT9) {\n                return [ e.clientX + document.documentElement.scrollLeft, e.clientY + document.documentElement.scrollTop ];\n            }\n            else {\n                return _genLoc(e, \"page\");\n            }\n        },\n        _screenLocation = function (e) {\n            return _genLoc(e, \"screen\");\n        },\n        _clientLocation = function (e) {\n            return _genLoc(e, \"client\");\n        },\n        _getTouch = function (touches, idx) {\n            return touches.item ? touches.item(idx) : touches[idx];\n        },\n        _touches = function (e) {\n            return e.touches && e.touches.length > 0 ? e.touches :\n                    e.changedTouches && e.changedTouches.length > 0 ? e.changedTouches :\n                    e.targetTouches && e.targetTouches.length > 0 ? e.targetTouches :\n                [ e ];\n        },\n        _touchCount = function (e) {\n            return _touches(e).length;\n        },\n    //http://www.quirksmode.org/blog/archives/2005/10/_and_the_winner_1.html\n        _bind = function (obj, type, fn, originalFn) {\n            _store(obj, type, fn);\n            originalFn.__tauid = fn.__tauid;\n            if (obj.addEventListener)\n                obj.addEventListener(type, fn, false);\n            else if (obj.attachEvent) {\n                var key = type + fn.__tauid;\n                obj[\"e\" + key] = fn;\n                // TODO look at replacing with .call(..)\n                obj[key] = function () {\n                    obj[\"e\" + key] && obj[\"e\" + key](window.event);\n                };\n                obj.attachEvent(\"on\" + type, obj[key]);\n            }\n        },\n        _unbind = function (obj, type, fn) {\n            if (fn == null) return;\n            _each(obj, function () {\n                var _el = _gel(this);\n                _unstore(_el, type, fn);\n                // it has been bound if there is a tauid. otherwise it was not bound and we can ignore it.\n                if (fn.__tauid != null) {\n                    if (_el.removeEventListener) {\n                        _el.removeEventListener(type, fn, false);\n                        if (isTouchDevice && touchMap[type]) _el.removeEventListener(touchMap[type], fn, false);\n                    }\n                    else if (this.detachEvent) {\n                        var key = type + fn.__tauid;\n                        _el[key] && _el.detachEvent(\"on\" + type, _el[key]);\n                        _el[key] = null;\n                        _el[\"e\" + key] = null;\n                    }\n                }\n\n                // if a touch event was also registered, deregister now.\n                if (fn.__taTouchProxy) {\n                    _unbind(obj, fn.__taTouchProxy[1], fn.__taTouchProxy[0]);\n                }\n            });\n        },\n        _each = function (obj, fn) {\n            if (obj == null) return;\n            // if a list (or list-like), use it. if a string, get a list\n            // by running the string through querySelectorAll. else, assume\n            // it's an Element.\n            // obj.top is \"unknown\" in IE8.\n            obj = (typeof Window !== \"undefined\" && (typeof obj.top !== \"unknown\" && obj == obj.top)) ? [ obj ] :\n                    (typeof obj !== \"string\") && (obj.tagName == null && obj.length != null) ? obj :\n                    typeof obj === \"string\" ? document.querySelectorAll(obj)\n                : [ obj ];\n\n            for (var i = 0; i < obj.length; i++)\n                fn.apply(obj[i]);\n        };\n\n    /**\n     * Mottle offers support for abstracting out the differences\n     * between touch and mouse devices, plus \"smart click\" functionality\n     * (don't fire click if the mouse has moved between mousedown and mouseup),\n     * and synthesized click/tap events.\n     * @class Mottle\n     * @constructor\n     * @param {Object} params Constructor params\n     * @param {Number} [params.clickThreshold=250] Threshold, in milliseconds beyond which a touchstart followed by a touchend is not considered to be a click.\n     * @param {Number} [params.dblClickThreshold=450] Threshold, in milliseconds beyond which two successive tap events are not considered to be a click.\n     * @param {Boolean} [params.smartClicks=false] If true, won't fire click events if the mouse has moved between mousedown and mouseup. Note that this functionality\n     * requires that Mottle consume the mousedown event, and so may not be viable in all use cases.\n     */\n    root.Mottle = function (params) {\n        params = params || {};\n        var clickThreshold = params.clickThreshold || 250,\n            dblClickThreshold = params.dblClickThreshold || 450,\n            mouseEnterExitHandler = new MouseEnterExitHandler(),\n            tapHandler = new TapHandler(clickThreshold, dblClickThreshold),\n            _smartClicks = params.smartClicks,\n            _doBind = function (obj, evt, fn, children) {\n                if (fn == null) return;\n                _each(obj, function () {\n                    var _el = _gel(this);\n                    if (_smartClicks && evt === \"click\")\n                        SmartClickHandler(_el, evt, fn, children);\n                    else if (evt === \"tap\" || evt === \"dbltap\" || evt === \"contextmenu\") {\n                        tapHandler(_el, evt, fn, children);\n                    }\n                    else if (evt === \"mouseenter\" || evt == \"mouseexit\")\n                        mouseEnterExitHandler(_el, evt, fn, children);\n                    else\n                        DefaultHandler(_el, evt, fn, children);\n                });\n            };\n\n        /**\n         * Removes an element from the DOM, and deregisters all event handlers for it. You should use this\n         * to ensure you don't leak memory.\n         * @method remove\n         * @param {String|Element} el Element, or id of the element, to remove.\n         * @return {Mottle} The current Mottle instance; you can chain this method.\n         */\n        this.remove = function (el) {\n            _each(el, function () {\n                var _el = _gel(this);\n                if (_el.__ta) {\n                    for (var evt in _el.__ta) {\n                        if (_el.__ta.hasOwnProperty(evt)) {\n                            for (var h in _el.__ta[evt]) {\n                                if (_el.__ta[evt].hasOwnProperty(h))\n                                    _unbind(_el, evt, _el.__ta[evt][h]);\n                            }\n                        }\n                    }\n                }\n                _el.parentNode && _el.parentNode.removeChild(_el);\n            });\n            return this;\n        };\n\n        /**\n         * Register an event handler, optionally as a delegate for some set of descendant elements. Note\n         * that this method takes either 3 or 4 arguments - if you supply 3 arguments it is assumed you have\n         * omitted the `children` parameter, and that the event handler should be bound directly to the given element.\n         * @method on\n         * @param {Element[]|Element|String} el Either an Element, or a CSS spec for a list of elements, or an array of Elements.\n         * @param {String} [children] Comma-delimited list of selectors identifying allowed children.\n         * @param {String} event Event ID.\n         * @param {Function} fn Event handler function.\n         * @return {Mottle} The current Mottle instance; you can chain this method.\n         */\n        this.on = function (el, event, children, fn) {\n            var _el = arguments[0],\n                _c = arguments.length == 4 ? arguments[2] : null,\n                _e = arguments[1],\n                _f = arguments[arguments.length - 1];\n\n            _doBind(_el, _e, _f, _c);\n            return this;\n        };\n\n        /**\n         * Cancel delegate event handling for the given function. Note that unlike with 'on' you do not supply\n         * a list of child selectors here: it removes event delegation from all of the child selectors for which the\n         * given function was registered (if any).\n         * @method off\n         * @param {Element[]|Element|String} el Element - or ID of element - from which to remove event listener.\n         * @param {String} event Event ID.\n         * @param {Function} fn Event handler function.\n         * @return {Mottle} The current Mottle instance; you can chain this method.\n         */\n        this.off = function (el, event, fn) {\n            _unbind(el, event, fn);\n            return this;\n        };\n\n        /**\n         * Triggers some event for a given element.\n         * @method trigger\n         * @param {Element} el Element for which to trigger the event.\n         * @param {String} event Event ID.\n         * @param {Event} originalEvent The original event. Should be optional of course, but currently is not, due\n         * to the jsPlumb use case that caused this method to be added.\n         * @param {Object} [payload] Optional object to set as `payload` on the generated event; useful for message passing.\n         * @return {Mottle} The current Mottle instance; you can chain this method.\n         */\n        this.trigger = function (el, event, originalEvent, payload) {\n            // MouseEvent undefined in old IE; that's how we know it's a mouse event.  A fine Microsoft paradox.\n            var originalIsMouse = isMouseDevice && (typeof MouseEvent === \"undefined\" || originalEvent == null || originalEvent.constructor === MouseEvent);\n\n            var eventToBind = (isTouchDevice && !isMouseDevice && touchMap[event]) ? touchMap[event] : event,\n                bindingAMouseEvent = !(isTouchDevice && !isMouseDevice && touchMap[event]);\n\n            var pl = _pageLocation(originalEvent), sl = _screenLocation(originalEvent), cl = _clientLocation(originalEvent);\n            _each(el, function () {\n                var _el = _gel(this), evt;\n                originalEvent = originalEvent || {\n                    screenX: sl[0],\n                    screenY: sl[1],\n                    clientX: cl[0],\n                    clientY: cl[1]\n                };\n\n                var _decorate = function (_evt) {\n                    if (payload) _evt.payload = payload;\n                };\n\n                var eventGenerators = {\n                    \"TouchEvent\": function (evt) {\n                        var touch = document.createTouch(window, _el, 0, pl[0], pl[1],\n                            sl[0], sl[1],\n                            cl[0], cl[1],\n                            0, 0, 0, 0);\n\n                        // https://gist.github.com/sstephenson/448808\n                        var touches = document.createTouchList(touch);\n                        var targetTouches = document.createTouchList(touch);\n                        var changedTouches = document.createTouchList(touch);\n                        evt.initTouchEvent(eventToBind, true, true, window, null, sl[0], sl[1],\n                            cl[0], cl[1], false, false, false, false,\n                            touches, targetTouches, changedTouches, 1, 0);\n                    },\n                    \"MouseEvents\": function (evt) {\n                        evt.initMouseEvent(eventToBind, true, true, window, 0,\n                            sl[0], sl[1],\n                            cl[0], cl[1],\n                            false, false, false, false, 1, _el);\n\n                        if (Sniff.android) {\n                            // Android's touch events are not standard.\n                            var t = document.createTouch(window, _el, 0, pl[0], pl[1],\n                                sl[0], sl[1],\n                                cl[0], cl[1],\n                                0, 0, 0, 0);\n\n                            evt.touches = evt.targetTouches = evt.changedTouches = document.createTouchList(t);\n                        }\n                    }\n                };\n\n                if (document.createEvent) {\n\n                    var ite = !bindingAMouseEvent && !originalIsMouse && (isTouchDevice && touchMap[event] && !Sniff.android),\n                        evtName = ite ? \"TouchEvent\" : \"MouseEvents\";\n\n                    evt = document.createEvent(evtName);\n                    eventGenerators[evtName](evt);\n                    _decorate(evt);\n                    _el.dispatchEvent(evt);\n                }\n                else if (document.createEventObject) {\n                    evt = document.createEventObject();\n                    evt.eventType = evt.eventName = eventToBind;\n                    evt.screenX = sl[0];\n                    evt.screenY = sl[1];\n                    evt.clientX = cl[0];\n                    evt.clientY = cl[1];\n                    _decorate(evt);\n                    _el.fireEvent('on' + eventToBind, evt);\n                }\n            });\n            return this;\n        }\n    };\n\n    /**\n     * Static method to assist in 'consuming' an element: uses `stopPropagation` where available, or sets\n     * `e.returnValue=false` where it is not.\n     * @method Mottle.consume\n     * @param {Event} e Event to consume\n     * @param {Boolean} [doNotPreventDefault=false] If true, does not call `preventDefault()` on the event.\n     */\n    root.Mottle.consume = function (e, doNotPreventDefault) {\n        if (e.stopPropagation)\n            e.stopPropagation();\n        else\n            e.returnValue = false;\n\n        if (!doNotPreventDefault && e.preventDefault)\n            e.preventDefault();\n    };\n\n    /**\n     * Gets the page location corresponding to the given event. For touch events this means get the page location of the first touch.\n     * @method Mottle.pageLocation\n     * @param {Event} e Event to get page location for.\n     * @return {Number[]} [left, top] for the given event.\n     */\n    root.Mottle.pageLocation = _pageLocation;\n\n    /**\n     * Forces touch events to be turned \"on\". Useful for testing: even if you don't have a touch device, you can still\n     * trigger a touch event when this is switched on and it will be captured and acted on.\n     * @method setForceTouchEvents\n     * @param {Boolean} value If true, force touch events to be on.\n     */\n    root.Mottle.setForceTouchEvents = function (value) {\n        isTouchDevice = value;\n    };\n\n    /**\n     * Forces mouse events to be turned \"on\". Useful for testing: even if you don't have a mouse, you can still\n     * trigger a mouse event when this is switched on and it will be captured and acted on.\n     * @method setForceMouseEvents\n     * @param {Boolean} value If true, force mouse events to be on.\n     */\n    root.Mottle.setForceMouseEvents = function (value) {\n        isMouseDevice = value;\n    };\n\n    root.Mottle.version = \"0.8.0\";\n\n    if (typeof exports !== \"undefined\") {\n        exports.Mottle = root.Mottle;\n    }\n\n}).call(typeof window === \"undefined\" ? this : window);\n\n/**\n drag/drop functionality for use with jsPlumb but with\n no knowledge of jsPlumb. supports multiple scopes (separated by whitespace), dragging\n multiple elements, constrain to parent, drop filters, drag start filters, custom\n css classes.\n\n a lot of the functionality of this script is expected to be plugged in:\n\n addClass\n removeClass\n\n addEvent\n removeEvent\n\n getPosition\n setPosition\n getSize\n\n indexOf\n intersects\n\n the name came from here:\n\n http://mrsharpoblunto.github.io/foswig.js/\n\n copyright 2016 jsPlumb\n */\n\n;(function() {\n\n    \"use strict\";\n    var root = this;\n\n    var _suggest = function(list, item, head) {\n        if (list.indexOf(item) === -1) {\n            head ? list.unshift(item) : list.push(item);\n            return true;\n        }\n        return false;\n    };\n\n    var _vanquish = function(list, item) {\n        var idx = list.indexOf(item);\n        if (idx != -1) list.splice(idx, 1);\n    };\n\n    var _difference = function(l1, l2) {\n        var d = [];\n        for (var i = 0; i < l1.length; i++) {\n            if (l2.indexOf(l1[i]) == -1)\n                d.push(l1[i]);\n        }\n        return d;\n    };\n\n    var _isString = function(f) {\n        return f == null ? false : (typeof f === \"string\" || f.constructor == String);\n    };\n\n    var getOffsetRect = function (elem) {\n        // (1)\n        var box = elem.getBoundingClientRect(),\n            body = document.body,\n            docElem = document.documentElement,\n        // (2)\n            scrollTop = window.pageYOffset || docElem.scrollTop || body.scrollTop,\n            scrollLeft = window.pageXOffset || docElem.scrollLeft || body.scrollLeft,\n        // (3)\n            clientTop = docElem.clientTop || body.clientTop || 0,\n            clientLeft = docElem.clientLeft || body.clientLeft || 0,\n        // (4)\n            top  = box.top +  scrollTop - clientTop,\n            left = box.left + scrollLeft - clientLeft;\n\n        return { top: Math.round(top), left: Math.round(left) };\n    };\n\n    var matchesSelector = function(el, selector, ctx) {\n        ctx = ctx || el.parentNode;\n        var possibles = ctx.querySelectorAll(selector);\n        for (var i = 0; i < possibles.length; i++) {\n            if (possibles[i] === el)\n                return true;\n        }\n        return false;\n    };\n\n    var iev = (function() {\n            var rv = -1;\n            if (navigator.appName == 'Microsoft Internet Explorer') {\n                var ua = navigator.userAgent,\n                    re = new RegExp(\"MSIE ([0-9]{1,}[\\.0-9]{0,})\");\n                if (re.exec(ua) != null)\n                    rv = parseFloat(RegExp.$1);\n            }\n            return rv;\n        })(),\n        DEFAULT_GRID_X = 50,\n        DEFAULT_GRID_Y = 50,\n        isIELT9 = iev > -1 && iev < 9,\n        isIE9 = iev == 9,\n        _pl = function(e) {\n            if (isIELT9) {\n                return [ e.clientX + document.documentElement.scrollLeft, e.clientY + document.documentElement.scrollTop ];\n            }\n            else {\n                var ts = _touches(e), t = _getTouch(ts, 0);\n                // for IE9 pageX might be null if the event was synthesized. We try for pageX/pageY first,\n                // falling back to clientX/clientY if necessary. In every other browser we want to use pageX/pageY.\n                return isIE9 ? [t.pageX || t.clientX, t.pageY || t.clientY] : [t.pageX, t.pageY];\n            }\n        },\n        _getTouch = function(touches, idx) { return touches.item ? touches.item(idx) : touches[idx]; },\n        _touches = function(e) {\n            return e.touches && e.touches.length > 0 ? e.touches :\n                    e.changedTouches && e.changedTouches.length > 0 ? e.changedTouches :\n                    e.targetTouches && e.targetTouches.length > 0 ? e.targetTouches :\n                [ e ];\n        },\n        _classes = {\n            draggable:\"katavorio-draggable\",    // draggable elements\n            droppable:\"katavorio-droppable\",    // droppable elements\n            drag : \"katavorio-drag\",            // elements currently being dragged\n            selected:\"katavorio-drag-selected\", // elements in current drag selection\n            active : \"katavorio-drag-active\",   // droppables that are targets of a currently dragged element\n            hover : \"katavorio-drag-hover\",     // droppables over which a matching drag element is hovering\n            noSelect : \"katavorio-drag-no-select\", // added to the body to provide a hook to suppress text selection\n            ghostProxy:\"katavorio-ghost-proxy\"  // added to a ghost proxy element in use when a drag has exited the bounds of its parent.\n        },\n        _defaultScope = \"katavorio-drag-scope\",\n        _events = [ \"stop\", \"start\", \"drag\", \"drop\", \"over\", \"out\", \"beforeStart\" ],\n        _devNull = function() {},\n        _true = function() { return true; },\n        _foreach = function(l, fn, from) {\n            for (var i = 0; i < l.length; i++) {\n                if (l[i] != from)\n                    fn(l[i]);\n            }\n        },\n        _setDroppablesActive = function(dd, val, andHover, drag) {\n            _foreach(dd, function(e) {\n                e.setActive(val);\n                if (val) e.updatePosition();\n                if (andHover) e.setHover(drag, val);\n            });\n        },\n        _each = function(obj, fn) {\n            if (obj == null) return;\n            obj = !_isString(obj) && (obj.tagName == null && obj.length != null) ? obj : [ obj ];\n            for (var i = 0; i < obj.length; i++)\n                fn.apply(obj[i], [ obj[i] ]);\n        },\n        _consume = function(e) {\n            if (e.stopPropagation) {\n                e.stopPropagation();\n                e.preventDefault();\n            }\n            else {\n                e.returnValue = false;\n            }\n        },\n        _defaultInputFilterSelector = \"input,textarea,select,button,option\",\n    //\n    // filters out events on all input elements, like textarea, checkbox, input, select.\n        _inputFilter = function(e, el, _katavorio) {\n            var t = e.srcElement || e.target;\n            return !matchesSelector(t, _katavorio.getInputFilterSelector(), el);\n        };\n\n    var Super = function(el, params, css, scope) {\n        this.params = params || {};\n        this.el = el;\n        this.params.addClass(this.el, this._class);\n        this.uuid = _uuid();\n        var enabled = true;\n        this.setEnabled = function(e) { enabled = e; };\n        this.isEnabled = function() { return enabled; };\n        this.toggleEnabled = function() { enabled = !enabled; };\n        this.setScope = function(scopes) {\n            this.scopes = scopes ? scopes.split(/\\s+/) : [ scope ];\n        };\n        this.addScope = function(scopes) {\n            var m = {};\n            _each(this.scopes, function(s) { m[s] = true;});\n            _each(scopes ? scopes.split(/\\s+/) : [], function(s) { m[s] = true;});\n            this.scopes = [];\n            for (var i in m) this.scopes.push(i);\n        };\n        this.removeScope = function(scopes) {\n            var m = {};\n            _each(this.scopes, function(s) { m[s] = true;});\n            _each(scopes ? scopes.split(/\\s+/) : [], function(s) { delete m[s];});\n            this.scopes = [];\n            for (var i in m) this.scopes.push(i);\n        };\n        this.toggleScope = function(scopes) {\n            var m = {};\n            _each(this.scopes, function(s) { m[s] = true;});\n            _each(scopes ? scopes.split(/\\s+/) : [], function(s) {\n                if (m[s]) delete m[s];\n                else m[s] = true;\n            });\n            this.scopes = [];\n            for (var i in m) this.scopes.push(i);\n        };\n        this.setScope(params.scope);\n        this.k = params.katavorio;\n        return params.katavorio;\n    };\n\n    var TRUE = function() { return true; };\n    var FALSE = function() { return false; };\n\n    var Drag = function(el, params, css, scope) {\n        this._class = css.draggable;\n        var k = Super.apply(this, arguments);\n        this.rightButtonCanDrag = this.params.rightButtonCanDrag;\n        var downAt = [0,0], posAtDown = null, pagePosAtDown = null, pageDelta = [0,0], moving = false,\n            consumeStartEvent = this.params.consumeStartEvent !== false,\n            dragEl = this.el,\n            clone = this.params.clone,\n            scroll = this.params.scroll,\n            _multipleDrop = params.multipleDrop !== false,\n            isConstrained = false,\n            useGhostProxy = params.ghostProxy === true ? TRUE : params.ghostProxy && typeof params.ghostProxy === \"function\" ? params.ghostProxy : FALSE,\n            ghostProxy = function(el) { return el.cloneNode(true); };\n\n        var snapThreshold = params.snapThreshold || 5,\n            _snap = function(pos, x, y, thresholdX, thresholdY) {\n                thresholdX = thresholdX || snapThreshold;\n                thresholdY = thresholdY || snapThreshold;\n                var _dx = Math.floor(pos[0] / x),\n                    _dxl = x * _dx,\n                    _dxt = _dxl + x,\n                    _x = Math.abs(pos[0] - _dxl) <= thresholdX ? _dxl : Math.abs(_dxt - pos[0]) <= thresholdX ? _dxt : pos[0];\n\n                var _dy = Math.floor(pos[1] / y),\n                    _dyl = y * _dy,\n                    _dyt = _dyl + y,\n                    _y = Math.abs(pos[1] - _dyl) <= thresholdY ? _dyl : Math.abs(_dyt - pos[1]) <= thresholdY ? _dyt : pos[1];\n\n                return [ _x, _y];\n            };\n\n        this.posses = [];\n        this.posseRoles = {};\n\n        this.toGrid = function(pos) {\n            if (this.params.grid == null) {\n                return pos;\n            }\n            else {\n                return _snap(pos, this.params.grid[0], this.params.grid[1]);\n            }\n        };\n\n        this.snap = function(x, y) {\n            if (dragEl == null) return;\n            x = x || (this.params.grid ? this.params.grid[0] : DEFAULT_GRID_X);\n            y = y || (this.params.grid ? this.params.grid[1] : DEFAULT_GRID_Y);\n            var p = this.params.getPosition(dragEl);\n            this.params.setPosition(dragEl, _snap(p, x, y, x, y));\n        };\n\n        this.setUseGhostProxy = function(val) {\n            useGhostProxy = val ? TRUE : FALSE;\n        };\n\n        var constrain;\n        var negativeFilter = function(pos) {\n            return (params.allowNegative === false) ? [ Math.max (0, pos[0]), Math.max(0, pos[1]) ] : pos;\n        };\n\n        var _setConstrain = function(value) {\n            constrain = typeof value === \"function\" ? value : value ? function(pos) {\n                return negativeFilter([\n                    Math.max(0, Math.min(constrainRect.w - this.size[0], pos[0])),\n                    Math.max(0, Math.min(constrainRect.h - this.size[1], pos[1]))\n                ]);\n            }.bind(this) : function(pos) { return negativeFilter(pos); };\n        }.bind(this);\n\n        _setConstrain(typeof this.params.constrain === \"function\" ? this.params.constrain  : (this.params.constrain || this.params.containment));\n\n\n        /**\n         * Sets whether or not the Drag is constrained. A value of 'true' means constrain to parent bounds; a function\n         * will be executed and returns true if the position is allowed.\n         * @param value\n         */\n        this.setConstrain = function(value) {\n            _setConstrain(value);\n        };\n\n        var revertFunction;\n        /**\n         * Sets a function to call on drag stop, which, if it returns true, indicates that the given element should\n         * revert to its position before the previous drag.\n         * @param fn\n         */\n        this.setRevert = function(fn) {\n            revertFunction = fn;\n        };\n\n        var _assignId = function(obj) {\n                if (typeof obj == \"function\") {\n                    obj._katavorioId = _uuid();\n                    return obj._katavorioId;\n                } else {\n                    return obj;\n                }\n            },\n        // a map of { spec -> [ fn, exclusion ] } entries.\n            _filters = {},\n            _testFilter = function(e) {\n                for (var key in _filters) {\n                    var f = _filters[key];\n                    var rv = f[0](e);\n                    if (f[1]) rv = !rv;\n                    if (!rv) return false;\n                }\n                return true;\n            },\n            _setFilter = this.setFilter = function(f, _exclude) {\n                if (f) {\n                    var key = _assignId(f);\n                    _filters[key] = [\n                        function(e) {\n                            var t = e.srcElement || e.target, m;\n                            if (_isString(f)) {\n                                m = matchesSelector(t, f, el);\n                            }\n                            else if (typeof f === \"function\") {\n                                m = f(e, el);\n                            }\n                            return m;\n                        },\n                            _exclude !== false\n                    ];\n\n                }\n            },\n            _addFilter = this.addFilter = _setFilter,\n            _removeFilter = this.removeFilter = function(f) {\n                var key = typeof f == \"function\" ? f._katavorioId : f;\n                delete _filters[key];\n            };\n\n        this.clearAllFilters = function() {\n            _filters = {};\n        };\n\n        this.canDrag = this.params.canDrag || _true;\n\n        var constrainRect,\n            matchingDroppables = [], intersectingDroppables = [];\n\n        this.downListener = function(e) {\n            var isNotRightClick = this.rightButtonCanDrag || (e.which !== 3 && e.button !== 2);\n            if (isNotRightClick && this.isEnabled() && this.canDrag()) {\n                var _f =  _testFilter(e) && _inputFilter(e, this.el, this.k);\n                if (_f) {\n                    if (!clone)\n                        dragEl = this.el;\n                    else {\n                        dragEl = this.el.cloneNode(true);\n                        dragEl.setAttribute(\"id\", null);\n                        dragEl.style.position = \"absolute\";\n                        // the clone node is added to the body; getOffsetRect gives us a value\n                        // relative to the body.\n                        var b = getOffsetRect(this.el);\n                        dragEl.style.left = b.left + \"px\";\n                        dragEl.style.top = b.top + \"px\";\n                        document.body.appendChild(dragEl);\n                    }\n                    consumeStartEvent && _consume(e);\n                    downAt = _pl(e);\n                    //\n                    this.params.bind(document, \"mousemove\", this.moveListener);\n                    this.params.bind(document, \"mouseup\", this.upListener);\n                    k.markSelection(this);\n                    k.markPosses(this);\n                    this.params.addClass(document.body, css.noSelect);\n                    _dispatch(\"beforeStart\", {el:this.el, pos:posAtDown, e:e, drag:this});\n                }\n                else if (this.params.consumeFilteredEvents) {\n                    _consume(e);\n                }\n            }\n        }.bind(this);\n\n        this.moveListener = function(e) {\n            if (downAt) {\n                if (!moving) {\n                    var _continue = _dispatch(\"start\", {el:this.el, pos:posAtDown, e:e, drag:this});\n                    if (_continue !== false) {\n                        if (!downAt) return;\n                        this.mark(true);\n                        moving = true;\n                    }\n                }\n\n                // it is possible that the start event caused the drag to be aborted. So we check\n                // again that we are currently dragging.\n                if (downAt) {\n                    intersectingDroppables.length = 0;\n                    var pos = _pl(e), dx = pos[0] - downAt[0], dy = pos[1] - downAt[1],\n                        z = this.params.ignoreZoom ? 1 : k.getZoom();\n                    dx /= z;\n                    dy /= z;\n                    this.moveBy(dx, dy, e);\n                    k.updateSelection(dx, dy, this);\n                    k.updatePosses(dx, dy, this);\n                }\n            }\n        }.bind(this);\n\n        this.upListener = function(e) {\n            if (downAt) {\n                downAt = null;\n                this.params.unbind(document, \"mousemove\", this.moveListener);\n                this.params.unbind(document, \"mouseup\", this.upListener);\n                this.params.removeClass(document.body, css.noSelect);\n                this.unmark(e);\n                k.unmarkSelection(this, e);\n                k.unmarkPosses(this, e);\n                this.stop(e);\n                k.notifySelectionDragStop(this, e);\n                k.notifyPosseDragStop(this, e);\n                moving = false;\n                if (clone) {\n                    dragEl && dragEl.parentNode && dragEl.parentNode.removeChild(dragEl);\n                    dragEl = null;\n                }\n\n                if (revertFunction && revertFunction(this.el, this.params.getPosition(this.el)) === true) {\n                    this.params.setPosition(this.el, posAtDown);\n                    _dispatch(\"revert\", this.el);\n                }\n            }\n        }.bind(this);\n\n        this.getFilters = function() { return _filters; };\n\n        this.abort = function() {\n            if (downAt != null)\n                this.upListener();\n        };\n\n        this.getDragElement = function() {\n            return dragEl || this.el;\n        };\n\n        var listeners = {\"start\":[], \"drag\":[], \"stop\":[], \"over\":[], \"out\":[], \"beforeStart\":[], \"revert\":[] };\n        if (params.events.start) listeners.start.push(params.events.start);\n        if (params.events.beforeStart) listeners.beforeStart.push(params.events.beforeStart);\n        if (params.events.stop) listeners.stop.push(params.events.stop);\n        if (params.events.drag) listeners.drag.push(params.events.drag);\n        if (params.events.revert) listeners.revert.push(params.events.revert);\n\n        this.on = function(evt, fn) {\n            if (listeners[evt]) listeners[evt].push(fn);\n        };\n\n        this.off = function(evt, fn) {\n            if (listeners[evt]) {\n                var l = [];\n                for (var i = 0; i < listeners[evt].length; i++) {\n                    if (listeners[evt][i] !== fn) l.push(listeners[evt][i]);\n                }\n                listeners[evt] = l;\n            }\n        };\n\n        var _dispatch = function(evt, value) {\n            if (listeners[evt]) {\n                for (var i = 0; i < listeners[evt].length; i++) {\n                    try {\n                        listeners[evt][i](value);\n                    }\n                    catch (e) { }\n                }\n            }\n        };\n\n        this.notifyStart = function(e) {\n            _dispatch(\"start\", {el:this.el, pos:this.params.getPosition(dragEl), e:e, drag:this});\n        };\n\n        this.stop = function(e, force) {\n            if (force || moving) {\n                var positions = [],\n                    sel = k.getSelection(),\n                    dPos = this.params.getPosition(dragEl);\n\n                if (sel.length > 1) {\n                    for (var i = 0; i < sel.length; i++) {\n                        var p = this.params.getPosition(sel[i].el);\n                        positions.push([ sel[i].el, { left: p[0], top: p[1] }, sel[i] ]);\n                    }\n                }\n                else {\n                    positions.push([ dragEl, {left:dPos[0], top:dPos[1]}, this ]);\n                }\n\n                _dispatch(\"stop\", {\n                    el: dragEl,\n                    pos: ghostProxyOffsets || dPos,\n                    finalPos:dPos,\n                    e: e,\n                    drag: this,\n                    selection:positions\n                });\n            }\n        };\n\n        this.mark = function(andNotify) {\n            posAtDown = this.params.getPosition(dragEl);\n            pagePosAtDown = this.params.getPosition(dragEl, true);\n            pageDelta = [pagePosAtDown[0] - posAtDown[0], pagePosAtDown[1] - posAtDown[1]];\n            this.size = this.params.getSize(dragEl);\n            matchingDroppables = k.getMatchingDroppables(this);\n            _setDroppablesActive(matchingDroppables, true, false, this);\n            this.params.addClass(dragEl, this.params.dragClass || css.drag);\n            //if (this.params.constrain || this.params.containment) {\n            var cs = this.params.getSize(dragEl.parentNode);\n            constrainRect = { w:cs[0], h:cs[1] };\n            //}\n            if (andNotify) {\n                k.notifySelectionDragStart(this);\n            }\n        };\n        var ghostProxyOffsets;\n        this.unmark = function(e, doNotCheckDroppables) {\n            _setDroppablesActive(matchingDroppables, false, true, this);\n\n\n            if (isConstrained && useGhostProxy(this.el)) {\n                ghostProxyOffsets = [dragEl.offsetLeft, dragEl.offsetTop];\n                this.el.parentNode.removeChild(dragEl);\n                dragEl = this.el;\n            }\n            else {\n                ghostProxyOffsets = null;\n            }\n\n            this.params.removeClass(dragEl, this.params.dragClass || css.drag);\n            matchingDroppables.length = 0;\n            isConstrained = false;\n            if (!doNotCheckDroppables) {\n                if (intersectingDroppables.length > 0 && ghostProxyOffsets) {\n                    params.setPosition(this.el, ghostProxyOffsets);\n                }\n                intersectingDroppables.sort(_rankSort);\n                for (var i = 0; i < intersectingDroppables.length; i++) {\n                    var retVal = intersectingDroppables[i].drop(this, e);\n                    if (retVal === true) break;\n                }\n            }\n        };\n        this.moveBy = function(dx, dy, e) {\n            intersectingDroppables.length = 0;\n            var desiredLoc = this.toGrid([posAtDown[0] + dx, posAtDown[1] + dy]),\n                cPos = constrain(desiredLoc, dragEl);\n\n            if (useGhostProxy(this.el)) {\n                if (desiredLoc[0] != cPos[0] || desiredLoc[1] != cPos[1]) {\n                    if (!isConstrained) {\n                        var gp = ghostProxy(this.el);\n                        params.addClass(gp, _classes.ghostProxy);\n                        this.el.parentNode.appendChild(gp);\n                        dragEl = gp;\n                        isConstrained = true;\n                    }\n                    cPos = desiredLoc;\n                }\n                else {\n                    if (isConstrained) {\n                        this.el.parentNode.removeChild(dragEl);\n                        dragEl = this.el;\n                        isConstrained = false;\n                    }\n                }\n            }\n\n            var rect = { x:cPos[0], y:cPos[1], w:this.size[0], h:this.size[1]},\n                pageRect = { x:rect.x + pageDelta[0], y:rect.y + pageDelta[1], w:rect.w, h:rect.h},\n                focusDropElement = null;\n\n\n\n            this.params.setPosition(dragEl, cPos);\n            for (var i = 0; i < matchingDroppables.length; i++) {\n                var r2 = { x:matchingDroppables[i].pagePosition[0], y:matchingDroppables[i].pagePosition[1], w:matchingDroppables[i].size[0], h:matchingDroppables[i].size[1]};\n                if (this.params.intersects(pageRect, r2) && (_multipleDrop || focusDropElement == null || focusDropElement == matchingDroppables[i].el) && matchingDroppables[i].canDrop(this)) {\n                    if (!focusDropElement) focusDropElement = matchingDroppables[i].el;\n                    intersectingDroppables.push(matchingDroppables[i]);\n                    matchingDroppables[i].setHover(this, true, e);\n                }\n                else if (matchingDroppables[i].isHover()) {\n                    matchingDroppables[i].setHover(this, false, e);\n                }\n            }\n\n            _dispatch(\"drag\", {el:this.el, pos:cPos, e:e, drag:this});\n\n            /* test to see if the parent needs to be scrolled (future)\n             if (scroll) {\n             var pnsl = dragEl.parentNode.scrollLeft, pnst = dragEl.parentNode.scrollTop;\n             console.log(\"scroll!\", pnsl, pnst);\n             }*/\n        };\n        this.destroy = function() {\n            this.params.unbind(this.el, \"mousedown\", this.downListener);\n            this.params.unbind(document, \"mousemove\", this.moveListener);\n            this.params.unbind(document, \"mouseup\", this.upListener);\n            this.downListener = null;\n            this.upListener = null;\n            this.moveListener = null;\n        };\n\n        // init:register mousedown, and perhaps set a filter\n        this.params.bind(this.el, \"mousedown\", this.downListener);\n\n        // if handle provded, use that.  otherwise, try to set a filter.\n        // note that a `handle` selector always results in filterExclude being set to false, ie.\n        // the selector defines the handle element(s).\n        if (this.params.handle)\n            _setFilter(this.params.handle, false);\n        else\n            _setFilter(this.params.filter, this.params.filterExclude);\n    };\n\n    var Drop = function(el, params, css, scope) {\n        this._class = css.droppable;\n        this.params = params || {};\n        this.rank = params.rank || 0;\n        this._activeClass = this.params.activeClass || css.active;\n        this._hoverClass = this.params.hoverClass || css.hover;\n        Super.apply(this, arguments);\n        var hover = false;\n        this.allowLoopback = this.params.allowLoopback !== false;\n\n        this.setActive = function(val) {\n            this.params[val ? \"addClass\" : \"removeClass\"](this.el, this._activeClass);\n        };\n\n        this.updatePosition = function() {\n            this.position = this.params.getPosition(this.el);\n            this.pagePosition = this.params.getPosition(this.el, true);\n            this.size = this.params.getSize(this.el);\n        };\n\n        this.canDrop = this.params.canDrop || function(drag) {\n            return true;\n        };\n\n        this.isHover = function() { return hover; };\n\n        this.setHover = function(drag, val, e) {\n            // if turning off hover but this was not the drag that caused the hover, ignore.\n            if (val || this.el._katavorioDragHover == null || this.el._katavorioDragHover == drag.el._katavorio) {\n                this.params[val ? \"addClass\" : \"removeClass\"](this.el, this._hoverClass);\n                //this.el._katavorioDragHover = val ? drag.el._katavorio : null;\n                this.el._katavorioDragHover = val ? drag.el._katavorio : null;\n                if (hover !== val)\n                    this.params.events[val ? \"over\" : \"out\"]({el:this.el, e:e, drag:drag, drop:this});\n                hover = val;\n            }\n        };\n\n        this.drop = function(drag, event) {\n            return this.params.events[\"drop\"]({ drag:drag, e:event, drop:this });\n        };\n\n        this.destroy = function() {\n            this._class = null;\n            this._activeClass = null;\n            this._hoverClass = null;\n            //this.params = null;\n            hover = null;\n            //this.el = null;\n        };\n    };\n\n    var _uuid = function() {\n        return ('xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n            var r = Math.random()*16|0, v = c == 'x' ? r : (r&0x3|0x8);\n            return v.toString(16);\n        }));\n    };\n\n    var _rankSort = function(a,b) {\n        return a.rank < b.rank ? 1 : a.rank > b.rank ? -1 : 0;\n    };\n\n    var _gel = function(el) {\n        if (el == null) return null;\n        el = (typeof el === \"string\" || el.constructor == String)  ? document.getElementById(el) : el;\n        if (el == null) return null;\n        el._katavorio = el._katavorio || _uuid();\n        return el;\n    };\n\n    root.Katavorio = function(katavorioParams) {\n\n        var _selection = [],\n            _selectionMap = {};\n\n        this._dragsByScope = {};\n        this._dropsByScope = {};\n        var _zoom = 1,\n            _reg = function(obj, map) {\n                _each(obj, function(_obj) {\n                    for(var i = 0; i < _obj.scopes.length; i++) {\n                        map[_obj.scopes[i]] = map[_obj.scopes[i]] || [];\n                        map[_obj.scopes[i]].push(_obj);\n                    }\n                });\n            },\n            _unreg = function(obj, map) {\n                var c = 0;\n                _each(obj, function(_obj) {\n                    for(var i = 0; i < _obj.scopes.length; i++) {\n                        if (map[_obj.scopes[i]]) {\n                            var idx = katavorioParams.indexOf(map[_obj.scopes[i]], _obj);\n                            if (idx != -1) {\n                                map[_obj.scopes[i]].splice(idx, 1);\n                                c++;\n                            }\n                        }\n                    }\n                });\n\n                return c > 0 ;\n            },\n            _getMatchingDroppables = this.getMatchingDroppables = function(drag) {\n                var dd = [], _m = {};\n                for (var i = 0; i < drag.scopes.length; i++) {\n                    var _dd = this._dropsByScope[drag.scopes[i]];\n                    if (_dd) {\n                        for (var j = 0; j < _dd.length; j++) {\n                            if (_dd[j].canDrop(drag) &&  !_m[_dd[j].uuid] && (_dd[j].allowLoopback || _dd[j].el !== drag.el)) {\n                                _m[_dd[j].uuid] = true;\n                                dd.push(_dd[j]);\n                            }\n                        }\n                    }\n                }\n                dd.sort(_rankSort);\n                return dd;\n            },\n            _prepareParams = function(p) {\n                p = p || {};\n                var _p = {\n                    events:{}\n                }, i;\n                for (i in katavorioParams) _p[i] = katavorioParams[i];\n                for (i in p) _p[i] = p[i];\n                // events\n\n                for (i = 0; i < _events.length; i++) {\n                    _p.events[_events[i]] = p[_events[i]] || _devNull;\n                }\n                _p.katavorio = this;\n                return _p;\n            }.bind(this),\n            _mistletoe = function(existingDrag, params) {\n                for (var i = 0; i < _events.length; i++) {\n                    if (params[_events[i]]) {\n                        existingDrag.on(_events[i], params[_events[i]]);\n                    }\n                }\n            }.bind(this),\n            _css = {},\n            overrideCss = katavorioParams.css || {},\n            _scope = katavorioParams.scope || _defaultScope;\n\n        // prepare map of css classes based on defaults frst, then optional overrides\n        for (var i in _classes) _css[i] = _classes[i];\n        for (var i in overrideCss) _css[i] = overrideCss[i];\n\n        var inputFilterSelector = katavorioParams.inputFilterSelector || _defaultInputFilterSelector;\n        /**\n         * Gets the selector identifying which input elements to filter from drag events.\n         * @method getInputFilterSelector\n         * @return {String} Current input filter selector.\n         */\n        this.getInputFilterSelector = function() { return inputFilterSelector; };\n\n        /**\n         * Sets the selector identifying which input elements to filter from drag events.\n         * @method setInputFilterSelector\n         * @param {String} selector Input filter selector to set.\n         * @return {Katavorio} Current instance; method may be chained.\n         */\n        this.setInputFilterSelector = function(selector) {\n            inputFilterSelector = selector;\n            return this;\n        };\n\n        this.draggable = function(el, params) {\n            var o = [];\n            _each(el, function(_el) {\n                _el = _gel(_el);\n                if (_el != null) {\n                    if (_el._katavorioDrag == null) {\n                        var p = _prepareParams(params);\n                        _el._katavorioDrag = new Drag(_el, p, _css, _scope);\n                        _reg(_el._katavorioDrag, this._dragsByScope);\n                        o.push(_el._katavorioDrag);\n                        katavorioParams.addClass(_el, _css.draggable);\n                    }\n                    else {\n                        _mistletoe(_el._katavorioDrag, params);\n                    }\n                }\n            }.bind(this));\n            return o;\n\n        };\n\n        this.droppable = function(el, params) {\n            var o = [];\n            _each(el, function(_el) {\n                _el = _gel(_el);\n                if (_el != null) {\n                    var drop = new Drop(_el, _prepareParams(params), _css, _scope);\n                    _el._katavorioDrop = _el._katavorioDrop || [];\n                    _el._katavorioDrop.push(drop);\n                    _reg(drop, this._dropsByScope);\n                    o.push(drop);\n                    katavorioParams.addClass(_el, _css.droppable);\n                }\n            }.bind(this));\n            return o;\n        };\n\n        /**\n         * @name Katavorio#select\n         * @function\n         * @desc Adds an element to the current selection (for multiple node drag)\n         * @param {Element|String} DOM element - or id of the element - to add.\n         */\n        this.select = function(el) {\n            _each(el, function() {\n                var _el = _gel(this);\n                if (_el && _el._katavorioDrag) {\n                    if (!_selectionMap[_el._katavorio]) {\n                        _selection.push(_el._katavorioDrag);\n                        _selectionMap[_el._katavorio] = [ _el, _selection.length - 1 ];\n                        katavorioParams.addClass(_el, _css.selected);\n                    }\n                }\n            });\n            return this;\n        };\n\n        /**\n         * @name Katavorio#deselect\n         * @function\n         * @desc Removes an element from the current selection (for multiple node drag)\n         * @param {Element|String} DOM element - or id of the element - to remove.\n         */\n        this.deselect = function(el) {\n            _each(el, function() {\n                var _el = _gel(this);\n                if (_el && _el._katavorio) {\n                    var e = _selectionMap[_el._katavorio];\n                    if (e) {\n                        var _s = [];\n                        for (var i = 0; i < _selection.length; i++)\n                            if (_selection[i].el !== _el) _s.push(_selection[i]);\n                        _selection = _s;\n                        delete _selectionMap[_el._katavorio];\n                        katavorioParams.removeClass(_el, _css.selected);\n                    }\n                }\n            });\n            return this;\n        };\n\n        this.deselectAll = function() {\n            for (var i in _selectionMap) {\n                var d = _selectionMap[i];\n                katavorioParams.removeClass(d[0], _css.selected);\n            }\n\n            _selection.length = 0;\n            _selectionMap = {};\n        };\n\n        this.markSelection = function(drag) {\n            _foreach(_selection, function(e) { e.mark(); }, drag);\n        };\n\n        this.markPosses = function(drag) {\n            if (drag.posses) {\n                _each(drag.posses, function(p) {\n                    if (drag.posseRoles[p] && _posses[p]) {\n                        _foreach(_posses[p].members, function (d) {\n                            d.mark();\n                        }, drag);\n                    }\n                })\n            }\n        };\n\n        this.unmarkSelection = function(drag, event) {\n            _foreach(_selection, function(e) { e.unmark(event); }, drag);\n        };\n\n        this.unmarkPosses = function(drag, event) {\n            if (drag.posses) {\n                _each(drag.posses, function(p) {\n                    if (drag.posseRoles[p] && _posses[p]) {\n                        _foreach(_posses[p].members, function (d) {\n                            d.unmark(event, true);\n                        }, drag);\n                    }\n                });\n            }\n        };\n\n        this.getSelection = function() { return _selection.slice(0); };\n\n        this.updateSelection = function(dx, dy, drag) {\n            _foreach(_selection, function(e) { e.moveBy(dx, dy); }, drag);\n        };\n\n        var _posseAction = function(fn, drag) {\n            if (drag.posses) {\n                _each(drag.posses, function(p) {\n                    if (drag.posseRoles[p] && _posses[p]) {\n                        _foreach(_posses[p].members, function (e) {\n                            fn(e);\n                        }, drag);\n                    }\n                });\n            }\n        };\n\n        this.updatePosses = function(dx, dy, drag) {\n            _posseAction(function(e) { e.moveBy(dx, dy); }, drag);\n        };\n\n        this.notifyPosseDragStop = function(drag, evt) {\n            _posseAction(function(e) { e.stop(evt, true); }, drag);\n        };\n\n        this.notifySelectionDragStop = function(drag, evt) {\n            _foreach(_selection, function(e) { e.stop(evt, true); }, drag);\n        };\n\n        this.notifySelectionDragStart = function(drag, evt) {\n            _foreach(_selection, function(e) { e.notifyStart(evt);}, drag);\n        };\n\n        this.setZoom = function(z) { _zoom = z; };\n        this.getZoom = function() { return _zoom; };\n\n        // does the work of changing scopes\n        var _scopeManip = function(kObj, scopes, map, fn) {\n            _each(kObj, function(_kObj) {\n                _unreg(_kObj, map);  // deregister existing scopes\n                _kObj[fn](scopes); // set scopes\n                _reg(_kObj, map); // register new ones\n            });\n        };\n\n        _each([ \"set\", \"add\", \"remove\", \"toggle\"], function(v) {\n            this[v + \"Scope\"] = function(el, scopes) {\n                _scopeManip(el._katavorioDrag, scopes, this._dragsByScope, v + \"Scope\");\n                _scopeManip(el._katavorioDrop, scopes, this._dropsByScope, v + \"Scope\");\n            }.bind(this);\n            this[v + \"DragScope\"] = function(el, scopes) {\n                _scopeManip(el.constructor === Drag ? el : el._katavorioDrag, scopes, this._dragsByScope, v + \"Scope\");\n            }.bind(this);\n            this[v + \"DropScope\"] = function(el, scopes) {\n                _scopeManip(el.constructor === Drop ? el : el._katavorioDrop, scopes, this._dropsByScope, v + \"Scope\");\n            }.bind(this);\n        }.bind(this));\n\n        this.snapToGrid = function(x, y) {\n            for (var s in this._dragsByScope) {\n                _foreach(this._dragsByScope[s], function(d) { d.snap(x, y); });\n            }\n        };\n\n        this.getDragsForScope = function(s) { return this._dragsByScope[s]; };\n        this.getDropsForScope = function(s) { return this._dropsByScope[s]; };\n\n        var _destroy = function(el, type, map) {\n            el = _gel(el);\n            if (el[type]) {\n\n                // remove from selection, if present.\n                var selIdx = _selection.indexOf(el[type]);\n                if (selIdx >= 0) {\n                    _selection.splice(selIdx, 1);\n                }\n\n                if (_unreg(el[type], map)) {\n                    _each(el[type], function(kObj) { kObj.destroy() });\n                }\n\n                delete el[type];\n            }\n        };\n\n        this.elementRemoved = function(el) {\n            this.destroyDraggable(el);\n            this.destroyDroppable(el);\n        };\n\n        this.destroyDraggable = function(el) {\n            _destroy(el, \"_katavorioDrag\", this._dragsByScope);\n        };\n\n        this.destroyDroppable = function(el) {\n            _destroy(el, \"_katavorioDrop\", this._dropsByScope);\n        };\n\n        this.reset = function() {\n            this._dragsByScope = {};\n            this._dropsByScope = {};\n            _selection = [];\n            _selectionMap = {};\n            _posses = {};\n        };\n\n        // ----- groups\n        var _posses = {};\n\n        var _processOneSpec = function(el, _spec, dontAddExisting) {\n            var posseId = _isString(_spec) ? _spec : _spec.id;\n            var active = _isString(_spec) ? true : _spec.active !== false;\n            var posse = _posses[posseId] || (function() {\n                var g = {name:posseId, members:[]};\n                _posses[posseId] = g;\n                return g;\n            })();\n            _each(el, function(_el) {\n                if (_el._katavorioDrag) {\n\n                    if (dontAddExisting && _el._katavorioDrag.posseRoles[posse.name] != null) return;\n\n                    _suggest(posse.members, _el._katavorioDrag);\n                    _suggest(_el._katavorioDrag.posses, posse.name);\n                    _el._katavorioDrag.posseRoles[posse.name] = active;\n                }\n            });\n            return posse;\n        };\n\n        /**\n         * Add the given element to the posse with the given id, creating the group if it at first does not exist.\n         * @method addToPosse\n         * @param {Element} el Element to add.\n         * @param {String...|Object...} spec Variable args parameters. Each argument can be a either a String, indicating\n         * the ID of a Posse to which the element should be added as an active participant, or an Object containing\n         * `{ id:\"posseId\", active:false/true}`. In the latter case, if `active` is not provided it is assumed to be\n         * true.\n         * @returns {Posse|Posse[]} The Posse(s) to which the element(s) was/were added.\n         */\n        this.addToPosse = function(el, spec) {\n\n            var posses = [];\n\n            for (var i = 1; i < arguments.length; i++) {\n                posses.push(_processOneSpec(el, arguments[i]));\n            }\n\n            return posses.length == 1 ? posses[0] : posses;\n        };\n\n        /**\n         * Sets the posse(s) for the element with the given id, creating those that do not yet exist, and removing from\n         * the element any current Posses that are not specified by this method call. This method will not change the\n         * active/passive state if it is given a posse in which the element is already a member.\n         * @method setPosse\n         * @param {Element} el Element to set posse(s) on.\n         * @param {String...|Object...} spec Variable args parameters. Each argument can be a either a String, indicating\n         * the ID of a Posse to which the element should be added as an active participant, or an Object containing\n         * `{ id:\"posseId\", active:false/true}`. In the latter case, if `active` is not provided it is assumed to be\n         * true.\n         * @returns {Posse|Posse[]} The Posse(s) to which the element(s) now belongs.\n         */\n        this.setPosse = function(el, spec) {\n\n            var posses = [];\n\n            for (var i = 1; i < arguments.length; i++) {\n                posses.push(_processOneSpec(el, arguments[i], true).name);\n            }\n\n            _each(el, function(_el) {\n                if (_el._katavorioDrag) {\n                    var diff = _difference(_el._katavorioDrag.posses, posses);\n                    var p = [];\n                    Array.prototype.push.apply(p, _el._katavorioDrag.posses);\n                    for (var i = 0; i < diff.length; i++) {\n                        this.removeFromPosse(_el, diff[i]);\n                    }\n                }\n            }.bind(this));\n\n            return posses.length == 1 ? posses[0] : posses;\n        };\n\n        /**\n         * Remove the given element from the given posse(s).\n         * @method removeFromPosse\n         * @param {Element} el Element to remove.\n         * @param {String...} posseId Varargs parameter: one value for each posse to remove the element from.\n         */\n        this.removeFromPosse = function(el, posseId) {\n            if (arguments.length < 2) throw new TypeError(\"No posse id provided for remove operation\");\n            for(var i = 1; i < arguments.length; i++) {\n                posseId = arguments[i];\n                _each(el, function (_el) {\n                    if (_el._katavorioDrag && _el._katavorioDrag.posses) {\n                        var d = _el._katavorioDrag;\n                        _each(posseId, function (p) {\n                            _vanquish(_posses[p].members, d);\n                            _vanquish(d.posses, p);\n                            delete d.posseRoles[p];\n                        });\n                    }\n                });\n            }\n        };\n\n        /**\n         * Remove the given element from all Posses to which it belongs.\n         * @method removeFromAllPosses\n         * @param {Element|Element[]} el Element to remove from Posses.\n         */\n        this.removeFromAllPosses = function(el) {\n            _each(el, function(_el) {\n                if (_el._katavorioDrag && _el._katavorioDrag.posses) {\n                    var d = _el._katavorioDrag;\n                    _each(d.posses, function(p) {\n                        _vanquish(_posses[p].members, d);\n                    });\n                    d.posses.length = 0;\n                    d.posseRoles = {};\n                }\n            });\n        };\n\n        /**\n         * Changes the participation state for the element in the Posse with the given ID.\n         * @param {Element|Element[]} el Element(s) to change state for.\n         * @param {String} posseId ID of the Posse to change element state for.\n         * @param {Boolean} state True to make active, false to make passive.\n         */\n        this.setPosseState = function(el, posseId, state) {\n            var posse = _posses[posseId];\n            if (posse) {\n                _each(el, function(_el) {\n                    if (_el._katavorioDrag && _el._katavorioDrag.posses) {\n                        _el._katavorioDrag.posseRoles[posse.name] = state;\n                    }\n                });\n            }\n        };\n\n    };\n\n    root.Katavorio.version = \"0.19.1\";\n\n    if (typeof exports !== \"undefined\") {\n        exports.Katavorio = root.Katavorio;\n    }\n\n}).call(typeof window !== 'undefined' ? window : this);\n\n/*\n * jsPlumb\n *\n * Title:jsPlumb 2.3.0\n *\n * Provides a way to visually connect elements on an HTML page, using SVG.\n *\n * This file contains utility functions that run in both browsers and headless.\n *\n * Copyright (c) 2010 - 2017 jsPlumb (hello@jsplumbtoolkit.com)\n *\n * http://jsplumbtoolkit.com\n * http://github.com/sporritt/jsplumb\n *\n * Dual licensed under the MIT and GPL2 licenses.\n */\n\n;\n(function () {\n\n    var _isa = function (a) {\n            return Object.prototype.toString.call(a) === \"[object Array]\";\n        },\n        _isnum = function (n) {\n            return Object.prototype.toString.call(n) === \"[object Number]\";\n        },\n        _iss = function (s) {\n            return typeof s === \"string\";\n        },\n        _isb = function (s) {\n            return typeof s === \"boolean\";\n        },\n        _isnull = function (s) {\n            return s == null;\n        },\n        _iso = function (o) {\n            return o == null ? false : Object.prototype.toString.call(o) === \"[object Object]\";\n        },\n        _isd = function (o) {\n            return Object.prototype.toString.call(o) === \"[object Date]\";\n        },\n        _isf = function (o) {\n            return Object.prototype.toString.call(o) === \"[object Function]\";\n        },\n        _isNamedFunction = function(o) {\n            return _isf(o) && o.name != null && o.name.length > 0;\n        },\n        _ise = function (o) {\n            for (var i in o) {\n                if (o.hasOwnProperty(i)) return false;\n            }\n            return true;\n        };\n\n    var root = this;\n    root.jsPlumbUtil = {\n        isArray: _isa,\n        isString: _iss,\n        isBoolean: _isb,\n        isNull: _isnull,\n        isObject: _iso,\n        isDate: _isd,\n        isFunction: _isf,\n        isEmpty: _ise,\n        isNumber: _isnum,\n        clone: function (a) {\n            if (_iss(a)) return \"\" + a;\n            else if (_isb(a)) return !!a;\n            else if (_isd(a)) return new Date(a.getTime());\n            else if (_isf(a)) return a;\n            else if (_isa(a)) {\n                var b = [];\n                for (var i = 0; i < a.length; i++)\n                    b.push(this.clone(a[i]));\n                return b;\n            }\n            else if (_iso(a)) {\n                var c = {};\n                for (var j in a)\n                    c[j] = this.clone(a[j]);\n                return c;\n            }\n            else return a;\n        },\n        merge: function (a, b, collations) {\n            // first change the collations array - if present - into a lookup table, because its faster.\n            var cMap = {}, ar, i;\n            collations = collations || [];\n            for (i = 0; i < collations.length; i++)\n                cMap[collations[i]] = true;\n\n            var c = this.clone(a);\n            for (i in b) {\n                if (c[i] == null) {\n                    c[i] = b[i];\n                }\n                else if (_iss(b[i]) || _isb(b[i])) {\n                    if (!cMap[i]) {\n                        c[i] = b[i]; // if we dont want to collate, just copy it in.\n                    }\n                    else {\n                        ar = [];\n                        // if c's object is also an array we can keep its values.\n                        ar.push.apply(ar, _isa(c[i]) ? c[i] : [ c[i] ]);\n                        ar.push.apply(ar, _isa(b[i]) ? b[i] : [ b[i] ]);\n                        c[i] = ar;\n                    }\n                }\n                else {\n                    if (_isa(b[i])) {\n                        ar = [];\n                        // if c's object is also an array we can keep its values.\n                        if (_isa(c[i])) ar.push.apply(ar, c[i]);\n                        ar.push.apply(ar, b[i]);\n                        c[i] = ar;\n                    }\n                    else if (_iso(b[i])) {\n                        // overwite c's value with an object if it is not already one.\n                        if (!_iso(c[i]))\n                            c[i] = {};\n                        for (var j in b[i]) {\n                            c[i][j] = b[i][j];\n                        }\n                    }\n                }\n\n            }\n            return c;\n        },\n        replace: function (inObj, path, value) {\n            if (inObj == null) return;\n            var q = inObj, t = q;\n            path.replace(/([^\\.])+/g, function (term, lc, pos, str) {\n                var array = term.match(/([^\\[0-9]+){1}(\\[)([0-9+])/),\n                    last = pos + term.length >= str.length,\n                    _getArray = function () {\n                        return t[array[1]] || (function () {\n                            t[array[1]] = [];\n                            return t[array[1]];\n                        })();\n                    };\n\n                if (last) {\n                    // set term = value on current t, creating term as array if necessary.\n                    if (array)\n                        _getArray()[array[3]] = value;\n                    else\n                        t[term] = value;\n                }\n                else {\n                    // set to current t[term], creating t[term] if necessary.\n                    if (array) {\n                        var a = _getArray();\n                        t = a[array[3]] || (function () {\n                            a[array[3]] = {};\n                            return a[array[3]];\n                        })();\n                    }\n                    else\n                        t = t[term] || (function () {\n                            t[term] = {};\n                            return t[term];\n                        })();\n                }\n            });\n\n            return inObj;\n        },\n        //\n        // chain a list of functions, supplied by [ object, method name, args ], and return on the first\n        // one that returns the failValue. if none return the failValue, return the successValue.\n        //\n        functionChain: function (successValue, failValue, fns) {\n            for (var i = 0; i < fns.length; i++) {\n                var o = fns[i][0][fns[i][1]].apply(fns[i][0], fns[i][2]);\n                if (o === failValue) {\n                    return o;\n                }\n            }\n            return successValue;\n        },\n        // take the given model and expand out any parameters.\n        // 'functionPrefix' is optional, and if present, helps jsplumb figure out what to do if a value is a Function.\n        // if you do not provide it, jsplumb will run the given values through any functions it finds, and use the function's\n        // output as the value in the result. if you do provide the prefix, only functions that are named and have this prefix\n        // will be executed; other functions will be passed as values to the output.\n        populate: function (model, values, functionPrefix) {\n            // for a string, see if it has parameter matches, and if so, try to make the substitutions.\n            var getValue = function (fromString) {\n                    var matches = fromString.match(/(\\${.*?})/g);\n                    if (matches != null) {\n                        for (var i = 0; i < matches.length; i++) {\n                            var val = values[matches[i].substring(2, matches[i].length - 1)] || \"\";\n                            if (val != null) {\n                                fromString = fromString.replace(matches[i], val);\n                            }\n                        }\n                    }\n                    return fromString;\n                },\n            // process one entry.\n                _one = function (d) {\n                    if (d != null) {\n                        if (_iss(d)) {\n                            return getValue(d);\n                        }\n                        else if (_isf(d) && (functionPrefix == null || (d.name || \"\").indexOf(functionPrefix) === 0)) {\n                            return d(values);\n                        }\n                        else if (_isa(d)) {\n                            var r = [];\n                            for (var i = 0; i < d.length; i++)\n                                r.push(_one(d[i]));\n                            return r;\n                        }\n                        else if (_iso(d)) {\n                            var s = {};\n                            for (var j in d) {\n                                s[j] = _one(d[j]);\n                            }\n                            return s;\n                        }\n                        else {\n                            return d;\n                        }\n                    }\n                };\n\n            return _one(model);\n        },\n        findWithFunction: function (a, f) {\n            if (a)\n                for (var i = 0; i < a.length; i++) if (f(a[i])) return i;\n            return -1;\n        },\n        removeWithFunction: function (a, f) {\n            var idx = root.jsPlumbUtil.findWithFunction(a, f);\n            if (idx > -1) a.splice(idx, 1);\n            return idx != -1;\n        },\n        remove: function (l, v) {\n            var idx = l.indexOf(v);\n            if (idx > -1) l.splice(idx, 1);\n            return idx != -1;\n        },\n        // TODO support insert index\n        addWithFunction: function (list, item, hashFunction) {\n            if (root.jsPlumbUtil.findWithFunction(list, hashFunction) == -1) list.push(item);\n        },\n        addToList: function (map, key, value, insertAtStart) {\n            var l = map[key];\n            if (l == null) {\n                l = [];\n                map[key] = l;\n            }\n            l[insertAtStart ? \"unshift\" : \"push\"](value);\n            return l;\n        },\n        suggest : function(list, item, insertAtHead) {\n            if (list.indexOf(item) === -1) {\n                if (insertAtHead) {\n                    list.unshift(item);\n                } else {\n                    list.push(item);\n                }\n                return true;\n            }\n            return false;\n        },\n        //\n        // extends the given obj (which can be an array) with the given constructor function, prototype functions, and\n        // class members, any of which may be null.\n        //\n        extend: function (child, parent, _protoFn) {\n            var i;\n            parent = _isa(parent) ? parent : [ parent ];\n\n            for (i = 0; i < parent.length; i++) {\n                for (var j in parent[i].prototype) {\n                    if (parent[i].prototype.hasOwnProperty(j)) {\n                        child.prototype[j] = parent[i].prototype[j];\n                    }\n                }\n            }\n\n            var _makeFn = function (name, protoFn) {\n                return function () {\n                    for (i = 0; i < parent.length; i++) {\n                        if (parent[i].prototype[name])\n                            parent[i].prototype[name].apply(this, arguments);\n                    }\n                    return protoFn.apply(this, arguments);\n                };\n            };\n\n            var _oneSet = function (fns) {\n                for (var k in fns) {\n                    child.prototype[k] = _makeFn(k, fns[k]);\n                }\n            };\n\n            if (arguments.length > 2) {\n                for (i = 2; i < arguments.length; i++)\n                    _oneSet(arguments[i]);\n            }\n\n            return child;\n        },\n        uuid: function () {\n            return ('xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n                var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);\n                return v.toString(16);\n            }));\n        },\n        logEnabled: true,\n        log: function () {\n            if (root.jsPlumbUtil.logEnabled && typeof console != \"undefined\") {\n                try {\n                    var msg = arguments[arguments.length - 1];\n                    console.log(msg);\n                }\n                catch (e) {\n                }\n            }\n        },\n\n        /**\n         * Wraps one function with another, creating a placeholder for the\n         * wrapped function if it was null. this is used to wrap the various\n         * drag/drop event functions - to allow jsPlumb to be notified of\n         * important lifecycle events without imposing itself on the user's\n         * drag/drop functionality.\n         * @method jsPlumbUtil.wrap\n         * @param {Function} wrappedFunction original function to wrap; may be null.\n         * @param {Function} newFunction function to wrap the original with.\n         * @param {Object} [returnOnThisValue] Optional. Indicates that the wrappedFunction should\n         * not be executed if the newFunction returns a value matching 'returnOnThisValue'.\n         * note that this is a simple comparison and only works for primitives right now.\n         */\n        wrap: function (wrappedFunction, newFunction, returnOnThisValue) {\n            wrappedFunction = wrappedFunction || function () {\n            };\n            newFunction = newFunction || function () {\n            };\n            return function () {\n                var r = null;\n                try {\n                    r = newFunction.apply(this, arguments);\n                } catch (e) {\n                    root.jsPlumbUtil.log(\"jsPlumb function failed : \" + e);\n                }\n                if (returnOnThisValue == null || (r !== returnOnThisValue)) {\n                    try {\n                        r = wrappedFunction.apply(this, arguments);\n                    } catch (e) {\n                        root.jsPlumbUtil.log(\"wrapped function failed : \" + e);\n                    }\n                }\n                return r;\n            };\n        }\n    };\n\n    root.jsPlumbUtil.EventGenerator = function () {\n        var _listeners = {},\n            eventsSuspended = false,\n        // this is a list of events that should re-throw any errors that occur during their dispatch. it is current private.\n            eventsToDieOn = { \"ready\": true };\n\n        this.bind = function (event, listener, insertAtStart) {\n            var _one = function(evt) {\n                root.jsPlumbUtil.addToList(_listeners, evt, listener, insertAtStart);\n                listener.__jsPlumb = listener.__jsPlumb || {};\n                listener.__jsPlumb[root.jsPlumbUtil.uuid()] = evt;\n            };\n\n            if (typeof event === \"string\") _one(event);\n            else if (event.length != null) {\n                for (var i = 0; i < event.length; i++) {\n                    _one(event[i]);\n                }\n            }\n\n            return this;\n        };\n\n        this.fire = function (event, value, originalEvent) {\n            if (!eventsSuspended && _listeners[event]) {\n                var l = _listeners[event].length, i = 0, _gone = false, ret = null;\n                if (!this.shouldFireEvent || this.shouldFireEvent(event, value, originalEvent)) {\n                    while (!_gone && i < l && ret !== false) {\n                        // doing it this way rather than catching and then possibly re-throwing means that an error propagated by this\n                        // method will have the whole call stack available in the debugger.\n                        if (eventsToDieOn[event])\n                            _listeners[event][i].apply(this, [ value, originalEvent]);\n                        else {\n                            try {\n                                ret = _listeners[event][i].apply(this, [ value, originalEvent ]);\n                            } catch (e) {\n                                root.jsPlumbUtil.log(\"jsPlumb: fire failed for event \" + event + \" : \" + e);\n                            }\n                        }\n                        i++;\n                        if (_listeners == null || _listeners[event] == null)\n                            _gone = true;\n                    }\n                }\n            }\n            return this;\n        };\n\n        this.unbind = function (eventOrListener, listener) {\n\n            if (arguments.length === 0) {\n                _listeners = {};\n            }\n            else if (arguments.length === 1) {\n                if (typeof eventOrListener === \"string\")\n                    delete _listeners[eventOrListener];\n                else if (eventOrListener.__jsPlumb) {\n                    var evt;\n                    for (var i in eventOrListener.__jsPlumb) {\n                        evt = eventOrListener.__jsPlumb[i];\n                        root.jsPlumbUtil.remove(_listeners[evt] || [], eventOrListener);\n                    }\n                }\n            }\n            else if (arguments.length === 2) {\n                root.jsPlumbUtil.remove(_listeners[eventOrListener] || [], listener);\n            }\n\n            return this;\n        };\n\n        this.getListener = function (forEvent) {\n            return _listeners[forEvent];\n        };\n        this.setSuspendEvents = function (val) {\n            eventsSuspended = val;\n        };\n        this.isSuspendEvents = function () {\n            return eventsSuspended;\n        };\n        this.silently = function(fn) {\n            this.setSuspendEvents(true);\n            try {\n                fn();\n            }\n            catch (e) {\n                root.jsPlumbUtil.log(\"Cannot execute silent function \" + e);\n            }\n            this.setSuspendEvents(false);\n        };\n        this.cleanupListeners = function () {\n            for (var i in _listeners) {\n                _listeners[i] = null;\n            }\n        };\n    };\n\n    root.jsPlumbUtil.EventGenerator.prototype = {\n        cleanup: function () {\n            this.cleanupListeners();\n        }\n    };\n\n    if (typeof exports !== \"undefined\") {\n        exports.jsPlumbUtil = root.jsPlumbUtil;\n    }\n\n}).call(typeof window !== 'undefined' ? window : this);\n\n/*\n * jsPlumb\n *\n * Title:jsPlumb 2.3.0\n *\n * Provides a way to visually connect elements on an HTML page, using SVG.\n *\n * This file contains utility functions that run in browsers only.\n *\n * Copyright (c) 2010 - 2017 jsPlumb (hello@jsplumbtoolkit.com)\n *\n * http://jsplumbtoolkit.com\n * http://github.com/sporritt/jsplumb\n *\n * Dual licensed under the MIT and GPL2 licenses.\n */\n ;(function() {\n\n  \"use strict\";\n\n   var root = this;\n\n    root.jsPlumbUtil.matchesSelector = function(el, selector, ctx) {\n       ctx = ctx || el.parentNode;\n       var possibles = ctx.querySelectorAll(selector);\n       for (var i = 0; i < possibles.length; i++) {\n           if (possibles[i] === el)\n               return true;\n       }\n       return false;\n   };\n\n    root.jsPlumbUtil.consume = function(e, doNotPreventDefault) {\n       if (e.stopPropagation)\n           e.stopPropagation();\n       else\n           e.returnValue = false;\n\n       if (!doNotPreventDefault && e.preventDefault)\n            e.preventDefault();\n   };\n\n   /*\n    * Function: sizeElement\n    * Helper to size and position an element. You would typically use\n    * this when writing your own Connector or Endpoint implementation.\n    *\n    * Parameters:\n    *  x - [int] x position for the element origin\n    *  y - [int] y position for the element origin\n    *  w - [int] width of the element\n    *  h - [int] height of the element\n    *\n    */\n    root.jsPlumbUtil.sizeElement = function(el, x, y, w, h) {\n       if (el) {\n           el.style.height = h + \"px\";\n           el.height = h;\n           el.style.width = w + \"px\";\n           el.width = w;\n           el.style.left = x + \"px\";\n           el.style.top = y + \"px\";\n       }\n   };\n\n }).call(typeof window !== 'undefined' ? window : this);\n\n/*\n * jsPlumb\n * \n * Title:jsPlumb 2.3.0\n * \n * Provides a way to visually connect elements on an HTML page, using SVG.\n * \n * This file contains the core code.\n *\n * Copyright (c) 2010 - 2017 jsPlumb (hello@jsplumbtoolkit.com)\n * \n * http://jsplumbtoolkit.com\n * http://github.com/sporritt/jsplumb\n * \n * Dual licensed under the MIT and GPL2 licenses.\n */\n(function () {\n\n    \"use strict\";\n\n    var root = this;\n    var connectorTypes = [], rendererTypes;\n\n    var _ju = root.jsPlumbUtil,\n        _getOffset = function (el, _instance, relativeToRoot) {\n            return _instance.getOffset(el, relativeToRoot);\n        },\n\n        /**\n         * creates a timestamp, using milliseconds since 1970, but as a string.\n         */\n        _timestamp = function () {\n            return \"\" + (new Date()).getTime();\n        },\n\n    // helper method to update the hover style whenever it, or paintStyle, changes.\n    // we use paintStyle as the foundation and merge hoverPaintStyle over the\n    // top.\n        _updateHoverStyle = function (component) {\n            if (component._jsPlumb.paintStyle && component._jsPlumb.hoverPaintStyle) {\n                var mergedHoverStyle = {};\n                jsPlumb.extend(mergedHoverStyle, component._jsPlumb.paintStyle);\n                jsPlumb.extend(mergedHoverStyle, component._jsPlumb.hoverPaintStyle);\n                delete component._jsPlumb.hoverPaintStyle;\n                // we want the fill of paintStyle to override a gradient, if possible.\n                if (mergedHoverStyle.gradient && component._jsPlumb.paintStyle.fill)\n                    delete mergedHoverStyle.gradient;\n                component._jsPlumb.hoverPaintStyle = mergedHoverStyle;\n            }\n        },\n        events = [\"tap\", \"dbltap\", \"click\", \"dblclick\", \"mouseover\", \"mouseout\", \"mousemove\", \"mousedown\", \"mouseup\", \"contextmenu\" ],\n        eventFilters = { \"mouseout\": \"mouseleave\", \"mouseexit\": \"mouseleave\" },\n        _updateAttachedElements = function (component, state, timestamp, sourceElement) {\n            var affectedElements = component.getAttachedElements();\n            if (affectedElements) {\n                for (var i = 0, j = affectedElements.length; i < j; i++) {\n                    if (!sourceElement || sourceElement != affectedElements[i])\n                        affectedElements[i].setHover(state, true, timestamp);\t\t\t// tell the attached elements not to inform their own attached elements.\n                }\n            }\n        },\n        _splitType = function (t) {\n            return t == null ? null : t.split(\" \");\n        },\n        _mapType = function(map, obj, typeId) {\n            for (var i in obj)\n                map[i] = typeId;\n        },\n        _each = function(fn, obj) {\n            obj = _ju.isArray(obj) || (obj.length != null && !_ju.isString(obj)) ? obj : [ obj ];\n            for (var i = 0; i < obj.length; i++) {\n                try {\n                    fn.apply(obj[i], [ obj[i] ]);\n                }\n                catch (e) {\n                    _ju.log(\".each iteration failed : \" + e);\n                }\n            }\n        },\n        _applyTypes = function (component, params, doNotRepaint) {\n            if (component.getDefaultType) {\n                var td = component.getTypeDescriptor(), map = {};\n                var defType = component.getDefaultType();\n                var o = _ju.merge({}, defType);\n                _mapType(map, defType, \"__default\");\n                for (var i = 0, j = component._jsPlumb.types.length; i < j; i++) {\n                    var tid = component._jsPlumb.types[i];\n                    if (tid !== \"__default\") {\n                        var _t = component._jsPlumb.instance.getType(tid, td);\n                        if (_t != null) {\n                            o = _ju.merge(o, _t, [ \"cssClass\" ]);\n                            _mapType(map, _t, tid);\n                        }\n                    }\n                }\n\n                if (params) {\n                    o = _ju.populate(o, params, \"_\");\n                }\n\n                component.applyType(o, doNotRepaint, map);\n                if (!doNotRepaint) component.repaint();\n            }\n        },\n\n// ------------------------------ BEGIN jsPlumbUIComponent --------------------------------------------\n\n        jsPlumbUIComponent = root.jsPlumbUIComponent = function (params) {\n\n            _ju.EventGenerator.apply(this, arguments);\n\n            var self = this,\n                a = arguments,\n                idPrefix = self.idPrefix,\n                id = idPrefix + (new Date()).getTime();\n\n            this._jsPlumb = {\n                instance: params._jsPlumb,\n                parameters: params.parameters || {},\n                paintStyle: null,\n                hoverPaintStyle: null,\n                paintStyleInUse: null,\n                hover: false,\n                beforeDetach: params.beforeDetach,\n                beforeDrop: params.beforeDrop,\n                overlayPlacements: [],\n                hoverClass: params.hoverClass || params._jsPlumb.Defaults.HoverClass,\n                types: [],\n                typeCache:{}\n            };\n\n            this.cacheTypeItem = function(key, item, typeId) {\n                this._jsPlumb.typeCache[typeId] = this._jsPlumb.typeCache[typeId] || {};\n                this._jsPlumb.typeCache[typeId][key] = item;\n            };\n            this.getCachedTypeItem = function(key, typeId) {\n                return this._jsPlumb.typeCache[typeId] ? this._jsPlumb.typeCache[typeId][key] : null;\n            };\n\n            this.getId = function () {\n                return id;\n            };\n\n// ----------------------------- default type --------------------------------------------\n\n\n            var o = params.overlays || [], oo = {};\n            if (this.defaultOverlayKeys) {\n                for (var i = 0; i < this.defaultOverlayKeys.length; i++)\n                    Array.prototype.push.apply(o, this._jsPlumb.instance.Defaults[this.defaultOverlayKeys[i]] || []);\n\n                for (i = 0; i < o.length; i++) {\n                    // if a string, convert to object representation so that we can store the typeid on it.\n                    // also assign an id.\n                    var fo = jsPlumb.convertToFullOverlaySpec(o[i]);\n                    oo[fo[1].id] = fo;\n                }\n            }\n\n            var _defaultType = {\n                overlays:oo,\n                parameters: params.parameters || {},\n                scope: params.scope || this._jsPlumb.instance.getDefaultScope()\n            };\n            this.getDefaultType = function() {\n                return _defaultType;\n            };\n            this.appendToDefaultType = function(obj) {\n                for (var i in obj) _defaultType[i] = obj[i];\n            };\n\n// ----------------------------- end default type --------------------------------------------\n\n            // all components can generate events\n\n            if (params.events) {\n                for (i in params.events)\n                    self.bind(i, params.events[i]);\n            }\n\n            // all components get this clone function.\n            // TODO issue 116 showed a problem with this - it seems 'a' that is in\n            // the clone function's scope is shared by all invocations of it, the classic\n            // JS closure problem.  for now, jsPlumb does a version of this inline where\n            // it used to call clone.  but it would be nice to find some time to look\n            // further at this.\n            this.clone = function () {\n                var o = Object.create(this.constructor.prototype);\n                this.constructor.apply(o, a);\n                return o;\n            }.bind(this);\n\n            // user can supply a beforeDetach callback, which will be executed before a detach\n            // is performed; returning false prevents the detach.\n            this.isDetachAllowed = function (connection) {\n                var r = true;\n                if (this._jsPlumb.beforeDetach) {\n                    try {\n                        r = this._jsPlumb.beforeDetach(connection);\n                    }\n                    catch (e) {\n                        _ju.log(\"jsPlumb: beforeDetach callback failed\", e);\n                    }\n                }\n                return r;\n            };\n\n            // user can supply a beforeDrop callback, which will be executed before a dropped\n            // connection is confirmed. user can return false to reject connection.\n            this.isDropAllowed = function (sourceId, targetId, scope, connection, dropEndpoint, source, target) {\n                var r = this._jsPlumb.instance.checkCondition(\"beforeDrop\", {\n                    sourceId: sourceId,\n                    targetId: targetId,\n                    scope: scope,\n                    connection: connection,\n                    dropEndpoint: dropEndpoint,\n                    source: source, target: target\n                });\n                if (this._jsPlumb.beforeDrop) {\n                    try {\n                        r = this._jsPlumb.beforeDrop({\n                            sourceId: sourceId,\n                            targetId: targetId,\n                            scope: scope,\n                            connection: connection,\n                            dropEndpoint: dropEndpoint,\n                            source: source, target: target\n                        });\n                    }\n                    catch (e) {\n                        _ju.log(\"jsPlumb: beforeDrop callback failed\", e);\n                    }\n                }\n                return r;\n            };\n\n            var boundListeners = [],\n                bindAListener = function (obj, type, fn) {\n                    boundListeners.push([obj, type, fn]);\n                    obj.bind(type, fn);\n                },\n                domListeners = [];\n\n            // sets the component associated with listener events. for instance, an overlay delegates\n            // its events back to a connector. but if the connector is swapped on the underlying connection,\n            // then this component must be changed. This is called by setConnector in the Connection class.\n            this.setListenerComponent = function (c) {\n                for (var i = 0; i < domListeners.length; i++)\n                    domListeners[i][3] = c;\n            };\n\n\n        };\n\n    var _removeTypeCssHelper = function (component, typeIndex) {\n        var typeId = component._jsPlumb.types[typeIndex],\n            type = component._jsPlumb.instance.getType(typeId, component.getTypeDescriptor());\n\n        if (type != null) {\n\n            if (type.cssClass && component.canvas)\n                component._jsPlumb.instance.removeClass(component.canvas, type.cssClass);\n        }\n    };\n\n    _ju.extend(root.jsPlumbUIComponent, _ju.EventGenerator, {\n\n        getParameter: function (name) {\n            return this._jsPlumb.parameters[name];\n        },\n\n        setParameter: function (name, value) {\n            this._jsPlumb.parameters[name] = value;\n        },\n\n        getParameters: function () {\n            return this._jsPlumb.parameters;\n        },\n\n        setParameters: function (p) {\n            this._jsPlumb.parameters = p;\n        },\n\n        getClass:function() {\n            return jsPlumb.getClass(this.canvas);\n        },\n\n        hasClass:function(clazz) {\n            return jsPlumb.hasClass(this.canvas, clazz);\n        },\n\n        addClass: function (clazz) {\n            jsPlumb.addClass(this.canvas, clazz);\n        },\n\n        removeClass: function (clazz) {\n            jsPlumb.removeClass(this.canvas, clazz);\n        },\n\n        updateClasses: function (classesToAdd, classesToRemove) {\n            jsPlumb.updateClasses(this.canvas, classesToAdd, classesToRemove);\n        },\n\n        setType: function (typeId, params, doNotRepaint) {\n            this.clearTypes();\n            this._jsPlumb.types = _splitType(typeId) || [];\n            _applyTypes(this, params, doNotRepaint);\n        },\n\n        getType: function () {\n            return this._jsPlumb.types;\n        },\n\n        reapplyTypes: function (params, doNotRepaint) {\n            _applyTypes(this, params, doNotRepaint);\n        },\n\n        hasType: function (typeId) {\n            return this._jsPlumb.types.indexOf(typeId) != -1;\n        },\n\n        addType: function (typeId, params, doNotRepaint) {\n            var t = _splitType(typeId), _cont = false;\n            if (t != null) {\n                for (var i = 0, j = t.length; i < j; i++) {\n                    if (!this.hasType(t[i])) {\n                        this._jsPlumb.types.push(t[i]);\n                        _cont = true;\n                    }\n                }\n                if (_cont) _applyTypes(this, params, doNotRepaint);\n            }\n        },\n\n        removeType: function (typeId, params, doNotRepaint) {\n            var t = _splitType(typeId), _cont = false, _one = function (tt) {\n                var idx = this._jsPlumb.types.indexOf(tt);\n                if (idx != -1) {\n                    // remove css class if necessary\n                    _removeTypeCssHelper(this, idx);\n                    this._jsPlumb.types.splice(idx, 1);\n                    return true;\n                }\n                return false;\n            }.bind(this);\n\n            if (t != null) {\n                for (var i = 0, j = t.length; i < j; i++) {\n                    _cont = _one(t[i]) || _cont;\n                }\n                if (_cont) _applyTypes(this, params, doNotRepaint);\n            }\n        },\n        clearTypes: function (params, doNotRepaint) {\n            var i = this._jsPlumb.types.length;\n            for (var j = 0; j < i; j++) {\n                _removeTypeCssHelper(this, 0);\n                this._jsPlumb.types.splice(0, 1);\n            }\n            _applyTypes(this, params, doNotRepaint);\n        },\n\n        toggleType: function (typeId, params, doNotRepaint) {\n            var t = _splitType(typeId);\n            if (t != null) {\n                for (var i = 0, j = t.length; i < j; i++) {\n                    var idx = this._jsPlumb.types.indexOf(t[i]);\n                    if (idx != -1) {\n                        _removeTypeCssHelper(this, idx);\n                        this._jsPlumb.types.splice(idx, 1);\n                    }\n                    else\n                        this._jsPlumb.types.push(t[i]);\n                }\n\n                _applyTypes(this, params, doNotRepaint);\n            }\n        },\n        applyType: function (t, doNotRepaint) {\n            this.setPaintStyle(t.paintStyle, doNotRepaint);\n            this.setHoverPaintStyle(t.hoverPaintStyle, doNotRepaint);\n            if (t.parameters) {\n                for (var i in t.parameters)\n                    this.setParameter(i, t.parameters[i]);\n            }\n            this._jsPlumb.paintStyleInUse = this.getPaintStyle();\n        },\n        setPaintStyle: function (style, doNotRepaint) {\n//\t\t    \tthis._jsPlumb.paintStyle = jsPlumb.extend({}, style);\n// TODO figure out if we want components to clone paintStyle so as not to share it.\n            this._jsPlumb.paintStyle = style;\n            this._jsPlumb.paintStyleInUse = this._jsPlumb.paintStyle;\n            _updateHoverStyle(this);\n            if (!doNotRepaint) this.repaint();\n        },\n        getPaintStyle: function () {\n            return this._jsPlumb.paintStyle;\n        },\n        setHoverPaintStyle: function (style, doNotRepaint) {\n            //this._jsPlumb.hoverPaintStyle = jsPlumb.extend({}, style);\n// TODO figure out if we want components to clone paintStyle so as not to share it.\t\t    \t\n            this._jsPlumb.hoverPaintStyle = style;\n            _updateHoverStyle(this);\n            if (!doNotRepaint) this.repaint();\n        },\n        getHoverPaintStyle: function () {\n            return this._jsPlumb.hoverPaintStyle;\n        },\n        destroy: function (force) {\n            if (force || this.typeId == null) {\n                this.cleanupListeners(); // this is on EventGenerator\n                this.clone = null;\n                this._jsPlumb = null;\n            }\n        },\n\n        isHover: function () {\n            return this._jsPlumb.hover;\n        },\n\n        setHover: function (hover, ignoreAttachedElements, timestamp) {\n            // while dragging, we ignore these events.  this keeps the UI from flashing and\n            // swishing and whatevering.\n            if (this._jsPlumb && !this._jsPlumb.instance.currentlyDragging && !this._jsPlumb.instance.isHoverSuspended()) {\n\n                this._jsPlumb.hover = hover;\n\n                if (this.canvas != null) {\n                    if (this._jsPlumb.instance.hoverClass != null) {\n                        var method = hover ? \"addClass\" : \"removeClass\";\n                        this._jsPlumb.instance[method](this.canvas, this._jsPlumb.instance.hoverClass);\n                    }\n                    if (this._jsPlumb.hoverClass != null) {\n                        this._jsPlumb.instance[method](this.canvas, this._jsPlumb.hoverClass);\n                    }\n                }\n                if (this._jsPlumb.hoverPaintStyle != null) {\n                    this._jsPlumb.paintStyleInUse = hover ? this._jsPlumb.hoverPaintStyle : this._jsPlumb.paintStyle;\n                    if (!this._jsPlumb.instance.isSuspendDrawing()) {\n                        timestamp = timestamp || _timestamp();\n                        this.repaint({timestamp: timestamp, recalc: false});\n                    }\n                }\n                // get the list of other affected elements, if supported by this component.\n                // for a connection, its the endpoints.  for an endpoint, its the connections! surprise.\n                if (this.getAttachedElements && !ignoreAttachedElements)\n                    _updateAttachedElements(this, hover, _timestamp(), this);\n            }\n        }\n    });\n\n// ------------------------------ END jsPlumbUIComponent --------------------------------------------\n\n    var _jsPlumbInstanceIndex = 0,\n        getInstanceIndex = function () {\n            var i = _jsPlumbInstanceIndex + 1;\n            _jsPlumbInstanceIndex++;\n            return i;\n        };\n\n    var jsPlumbInstance = root.jsPlumbInstance = function (_defaults) {\n\n        this.version = \"2.3.0\";\n\n        if (_defaults) jsPlumb.extend(this.Defaults, _defaults);\n\n        this.logEnabled = this.Defaults.LogEnabled;\n        this._connectionTypes = {};\n        this._endpointTypes = {};\n\n        _ju.EventGenerator.apply(this);\n\n        var _currentInstance = this,\n            _instanceIndex = getInstanceIndex(),\n            _bb = _currentInstance.bind,\n            _initialDefaults = {},\n            _zoom = 1,\n            _info = function (el) {\n                if (el == null) return null;\n                else if (el.nodeType == 3 || el.nodeType == 8) {\n                    return { el:el, text:true };\n                }\n                else {\n                    var _el = _currentInstance.getElement(el);\n                    return { el: _el, id: (_ju.isString(el) && _el == null) ? el : _getId(_el) };\n                }\n            };\n\n        this.getInstanceIndex = function () {\n            return _instanceIndex;\n        };\n\n        this.setZoom = function (z, repaintEverything) {\n            _zoom = z;\n            _currentInstance.fire(\"zoom\", _zoom);\n            if (repaintEverything) _currentInstance.repaintEverything();\n            return true;\n        };\n        this.getZoom = function () {\n            return _zoom;\n        };\n\n        for (var i in this.Defaults)\n            _initialDefaults[i] = this.Defaults[i];\n\n        var _container, _containerDelegations = [];\n        this.unbindContainer = function() {\n            if (_container != null && _containerDelegations.length > 0) {\n                for (var i = 0; i < _containerDelegations.length; i++) {\n                    _currentInstance.off(_container, _containerDelegations[i][0], _containerDelegations[i][1]);\n                }\n            }\n        };\n        this.setContainer = function (c) {\n\n            this.unbindContainer();\n\n            // get container as dom element.\n            c = this.getElement(c);\n            // move existing connections and endpoints, if any.\n            this.select().each(function (conn) {\n                conn.moveParent(c);\n            });\n            this.selectEndpoints().each(function (ep) {\n                ep.moveParent(c);\n            });\n\n            // set container.\n            var previousContainer = _container;\n            _container = c;\n            _containerDelegations.length = 0;\n            var eventAliases = {\n                \"endpointclick\":\"endpointClick\",\n                \"endpointdblclick\":\"endpointDblClick\"\n            };\n\n            var _oneDelegateHandler = function (id, e, componentType) {\n                var t = e.srcElement || e.target,\n                    jp = (t && t.parentNode ? t.parentNode._jsPlumb : null) || (t ? t._jsPlumb : null) || (t && t.parentNode && t.parentNode.parentNode ? t.parentNode.parentNode._jsPlumb : null);\n                if (jp) {\n                    jp.fire(id, jp, e);\n                    var alias = componentType ? eventAliases[componentType + id] || id : id;\n                    // jsplumb also fires every event coming from components/overlays. That's what the test for `jp.component` is for.\n                    _currentInstance.fire(alias, jp.component || jp, e);\n                }\n            };\n\n            var _addOneDelegate = function(eventId, selector, fn) {\n                _containerDelegations.push([eventId, fn]);\n                _currentInstance.on(_container, eventId, selector, fn);\n            };\n\n            // delegate one event on the container to jsplumb elements. it might be possible to\n            // abstract this out: each of endpoint, connection and overlay could register themselves with\n            // jsplumb as \"component types\" or whatever, and provide a suitable selector. this would be\n            // done by the renderer (although admittedly from 2.0 onwards we're not supporting vml anymore)\n            var _oneDelegate = function (id) {\n                // connections.\n                _addOneDelegate(id, \".jtk-connector\", function (e) {\n                    _oneDelegateHandler(id, e);\n                });\n                // endpoints. note they can have an enclosing div, or not.\n                _addOneDelegate(id, \".jtk-endpoint\", function (e) {\n                    _oneDelegateHandler(id, e, \"endpoint\");\n                });\n                // overlays\n                _addOneDelegate(id, \".jtk-overlay\", function (e) {\n                    _oneDelegateHandler(id, e);\n                });\n            };\n\n            for (var i = 0; i < events.length; i++)\n                _oneDelegate(events[i]);\n\n            // managed elements\n            for (var elId in managedElements) {\n                var el = managedElements[elId].el;\n                if (el.parentNode === previousContainer) {\n                    previousContainer.removeChild(el);\n                    _container.appendChild(el);\n                }\n            }\n\n        };\n        this.getContainer = function () {\n            return _container;\n        };\n\n        this.bind = function (event, fn) {\n            if (\"ready\" === event && initialized) fn();\n            else _bb.apply(_currentInstance, [event, fn]);\n        };\n\n        _currentInstance.importDefaults = function (d) {\n            for (var i in d) {\n                _currentInstance.Defaults[i] = d[i];\n            }\n            if (d.Container)\n                _currentInstance.setContainer(d.Container);\n\n            return _currentInstance;\n        };\n\n        _currentInstance.restoreDefaults = function () {\n            _currentInstance.Defaults = jsPlumb.extend({}, _initialDefaults);\n            return _currentInstance;\n        };\n\n        var log = null,\n            initialized = false,\n        // TODO remove from window scope\n            connections = [],\n        // map of element id -> endpoint lists. an element can have an arbitrary\n        // number of endpoints on it, and not all of them have to be connected\n        // to anything.\n            endpointsByElement = {},\n            endpointsByUUID = {},\n            managedElements = {},\n            offsets = {},\n            offsetTimestamps = {},\n            draggableStates = {},\n            connectionBeingDragged = false,\n            sizes = [],\n            _suspendDrawing = false,\n            _suspendedAt = null,\n            DEFAULT_SCOPE = this.Defaults.Scope,\n            _curIdStamp = 1,\n            _idstamp = function () {\n                return \"\" + _curIdStamp++;\n            },\n\n        //\n        // appends an element to some other element, which is calculated as follows:\n        //\n        // 1. if Container exists, use that element.\n        // 2. if the 'parent' parameter exists, use that.\n        // 3. otherwise just use the root element.\n        //\n        //\n            _appendElement = function (el, parent) {\n                if (_container)\n                    _container.appendChild(el);\n                else if (!parent)\n                    this.appendToRoot(el);\n                else\n                    this.getElement(parent).appendChild(el);\n            }.bind(this),\n\n        //\n        // Draws an endpoint and its connections. this is the main entry point into drawing connections as well\n        // as endpoints, since jsPlumb is endpoint-centric under the hood.\n        //\n        // @param element element to draw (of type library specific element object)\n        // @param ui UI object from current library's event system. optional.\n        // @param timestamp timestamp for this paint cycle. used to speed things up a little by cutting down the amount of offset calculations we do.\n        // @param clearEdits defaults to false; indicates that mouse edits for connectors should be cleared\n        ///\n            _draw = function (element, ui, timestamp, clearEdits) {\n\n                if (!_suspendDrawing) {\n                    var id = _getId(element),\n                        repaintEls,\n                        dm = _currentInstance.getDragManager();\n\n                    if (dm) repaintEls = dm.getElementsForDraggable(id);\n\n                    if (timestamp == null) timestamp = _timestamp();\n\n                    // update the offset of everything _before_ we try to draw anything.\n                    var o = _updateOffset({ elId: id, offset: ui, recalc: false, timestamp: timestamp });\n\n                    if (repaintEls && o && o.o) {\n                        for (var i in repaintEls) {\n                            _updateOffset({\n                                elId: repaintEls[i].id,\n                                offset: {\n                                    left: o.o.left + repaintEls[i].offset.left,\n                                    top: o.o.top + repaintEls[i].offset.top\n                                },\n                                recalc: false,\n                                timestamp: timestamp\n                            });\n                        }\n                    }\n\n                    _currentInstance.anchorManager.redraw(id, ui, timestamp, null, clearEdits);\n\n                    if (repaintEls) {\n                        for (var j in repaintEls) {\n                            _currentInstance.anchorManager.redraw(repaintEls[j].id, ui, timestamp, repaintEls[j].offset, clearEdits, true);\n                        }\n                    }\n                }\n            },\n\n        //\n        // gets an Endpoint by uuid.\n        //\n            _getEndpoint = function (uuid) {\n                return endpointsByUUID[uuid];\n            },\n\n            /**\n             * inits a draggable if it's not already initialised.\n             * TODO: somehow abstract this to the adapter, because the concept of \"draggable\" has no\n             * place on the server.\n             */\n            _initDraggableIfNecessary = function (element, isDraggable, dragOptions, id, fireEvent) {\n                // move to DragManager?\n                if (!jsPlumb.headless) {\n                    var _draggable = isDraggable == null ? false : isDraggable;\n                    if (_draggable) {\n                        if (jsPlumb.isDragSupported(element, _currentInstance)) {\n                            var options = dragOptions || _currentInstance.Defaults.DragOptions;\n                            options = jsPlumb.extend({}, options); // make a copy.\n                            if (!jsPlumb.isAlreadyDraggable(element, _currentInstance)) {\n                                var dragEvent = jsPlumb.dragEvents.drag,\n                                    stopEvent = jsPlumb.dragEvents.stop,\n                                    startEvent = jsPlumb.dragEvents.start,\n                                    _started = false;\n\n                                _manage(id, element);\n\n                                options[startEvent] = _ju.wrap(options[startEvent], function () {\n                                    _currentInstance.setHoverSuspended(true);\n                                    _currentInstance.select({source: element}).addClass(_currentInstance.elementDraggingClass + \" \" + _currentInstance.sourceElementDraggingClass, true);\n                                    _currentInstance.select({target: element}).addClass(_currentInstance.elementDraggingClass + \" \" + _currentInstance.targetElementDraggingClass, true);\n                                    _currentInstance.setConnectionBeingDragged(true);\n                                    if (options.canDrag) return dragOptions.canDrag();\n                                }, false);\n\n                                options[dragEvent] = _ju.wrap(options[dragEvent], function () {\n                                    // TODO: here we could actually use getDragObject, and then compute it ourselves,\n                                    // since every adapter does the same thing. but i'm not sure why YUI's getDragObject\n                                    // differs from getUIPosition so much\n                                    var ui = _currentInstance.getUIPosition(arguments, _currentInstance.getZoom());\n                                    if (ui != null) {\n                                        _draw(element, ui, null, true);\n                                        if (_started) _currentInstance.addClass(element, \"jtk-dragged\");\n                                        _started = true;\n                                    }\n                                });\n                                options[stopEvent] = _ju.wrap(options[stopEvent], function () {\n                                    var elements = arguments[0].selection, uip;\n\n                                    var _one = function (_e) {\n                                        if (_e[1] != null) {\n                                            // run the reported offset through the code that takes parent containers\n                                            // into account, to adjust if necessary (issue 554)\n                                            uip = _currentInstance.getUIPosition([{\n                                                el:_e[2].el,\n                                                pos:[_e[1].left, _e[1].top]\n                                            }]);\n                                            _draw(_e[2].el, uip);\n                                        }\n                                        _currentInstance.removeClass(_e[0], \"jtk-dragged\");\n                                        _currentInstance.select({source: _e[2].el}).removeClass(_currentInstance.elementDraggingClass + \" \" + _currentInstance.sourceElementDraggingClass, true);\n                                        _currentInstance.select({target: _e[2].el}).removeClass(_currentInstance.elementDraggingClass + \" \" + _currentInstance.targetElementDraggingClass, true);\n                                        _currentInstance.getDragManager().dragEnded(_e[2].el);\n                                    };\n\n                                    for (var i = 0; i < elements.length; i++) {\n                                        _one(elements[i]);\n                                    }\n\n                                    _started = false;\n                                    _currentInstance.setHoverSuspended(false);\n                                    _currentInstance.setConnectionBeingDragged(false);\n                                });\n                                var elId = _getId(element); // need ID\n                                draggableStates[elId] = true;\n                                var draggable = draggableStates[elId];\n                                options.disabled = draggable == null ? false : !draggable;\n                                _currentInstance.initDraggable(element, options);\n                                _currentInstance.getDragManager().register(element);\n                                if (fireEvent) _currentInstance.fire(\"elementDraggable\", {el:element, options:options});\n                            }\n                            else {\n                                // already draggable. attach any start, drag or stop listeners to the current Drag.\n                                if (dragOptions.force) {\n                                    _currentInstance.initDraggable(element, options);\n                                }\n                            }\n                        }\n                    }\n                }\n            },\n\n            _scopeMatch = function (e1, e2) {\n                var s1 = e1.scope.split(/\\s/), s2 = e2.scope.split(/\\s/);\n                for (var i = 0; i < s1.length; i++)\n                    for (var j = 0; j < s2.length; j++)\n                        if (s2[j] == s1[i]) return true;\n\n                return false;\n            },\n\n        /*\n         * prepares a final params object that can be passed to _newConnection, taking into account defaults, events, etc.\n         */\n            _prepareConnectionParams = function (params, referenceParams) {\n                var _p = jsPlumb.extend({ }, params);\n                if (referenceParams) jsPlumb.extend(_p, referenceParams);\n\n                // hotwire endpoints passed as source or target to sourceEndpoint/targetEndpoint, respectively.\n                if (_p.source) {\n                    if (_p.source.endpoint)\n                        _p.sourceEndpoint = _p.source;\n                    else\n                        _p.source = _currentInstance.getElement(_p.source);\n                }\n                if (_p.target) {\n                    if (_p.target.endpoint)\n                        _p.targetEndpoint = _p.target;\n                    else\n                        _p.target = _currentInstance.getElement(_p.target);\n                }\n\n                // test for endpoint uuids to connect\n                if (params.uuids) {\n                    _p.sourceEndpoint = _getEndpoint(params.uuids[0]);\n                    _p.targetEndpoint = _getEndpoint(params.uuids[1]);\n                }\n\n                // now ensure that if we do have Endpoints already, they're not full.\n                // source:\n                if (_p.sourceEndpoint && _p.sourceEndpoint.isFull()) {\n                    _ju.log(_currentInstance, \"could not add connection; source endpoint is full\");\n                    return;\n                }\n\n                // target:\n                if (_p.targetEndpoint && _p.targetEndpoint.isFull()) {\n                    _ju.log(_currentInstance, \"could not add connection; target endpoint is full\");\n                    return;\n                }\n\n                // if source endpoint mandates connection type and nothing specified in our params, use it.\n                if (!_p.type && _p.sourceEndpoint)\n                    _p.type = _p.sourceEndpoint.connectionType;\n\n                // copy in any connectorOverlays that were specified on the source endpoint.\n                // it doesnt copy target endpoint overlays.  i'm not sure if we want it to or not.\n                if (_p.sourceEndpoint && _p.sourceEndpoint.connectorOverlays) {\n                    _p.overlays = _p.overlays || [];\n                    for (var i = 0, j = _p.sourceEndpoint.connectorOverlays.length; i < j; i++) {\n                        _p.overlays.push(_p.sourceEndpoint.connectorOverlays[i]);\n                    }\n                }\n\n                // scope\n                if (_p.sourceEndpoint && _p.sourceEndpoint.scope) {\n                    _p.scope = _p.sourceEndpoint.scope;\n                }\n\n                // pointer events\n                if (!_p[\"pointer-events\"] && _p.sourceEndpoint && _p.sourceEndpoint.connectorPointerEvents)\n                    _p[\"pointer-events\"] = _p.sourceEndpoint.connectorPointerEvents;\n\n                var _mergeOverrides = function (def, values) {\n                    var m = jsPlumb.extend({}, def);\n                    for (var i in values) {\n                        if (values[i]) m[i] = values[i];\n                    }\n                    return m;\n                };\n\n                var _addEndpoint = function (el, def, idx) {\n                    return _currentInstance.addEndpoint(el, _mergeOverrides(def, {\n                        anchor: _p.anchors ? _p.anchors[idx] : _p.anchor,\n                        endpoint: _p.endpoints ? _p.endpoints[idx] : _p.endpoint,\n                        paintStyle: _p.endpointStyles ? _p.endpointStyles[idx] : _p.endpointStyle,\n                        hoverPaintStyle: _p.endpointHoverStyles ? _p.endpointHoverStyles[idx] : _p.endpointHoverStyle\n                    }));\n                };\n\n                // check for makeSource/makeTarget specs.\n\n                var _oneElementDef = function (type, idx, defs, matchType) {\n                    if (_p[type] && !_p[type].endpoint && !_p[type + \"Endpoint\"] && !_p.newConnection) {\n                        var tid = _getId(_p[type]), tep = defs[tid];\n\n                        tep = tep ? tep[matchType] : null;\n\n                        if (tep) {\n                            // if not enabled, return.\n                            if (!tep.enabled) return false;\n                            var newEndpoint = tep.endpoint != null && tep.endpoint._jsPlumb ? tep.endpoint : _addEndpoint(_p[type], tep.def, idx);\n                            if (newEndpoint.isFull()) return false;\n                            _p[type + \"Endpoint\"] = newEndpoint;\n                            if (!_p.scope && tep.def.scope) _p.scope = tep.def.scope; // provide scope if not already provided and endpoint def has one.\n                            newEndpoint._doNotDeleteOnDetach = false; // reset.\n                            newEndpoint._deleteOnDetach = true;\n                            if (tep.uniqueEndpoint) {\n                                if (!tep.endpoint) {\n                                    tep.endpoint = newEndpoint;\n                                    newEndpoint._deleteOnDetach = false;\n                                    newEndpoint._doNotDeleteOnDetach = true;\n                                }\n                                else\n                                    newEndpoint.finalEndpoint = tep.endpoint;\n                            }\n                        }\n                    }\n                };\n\n                if (_oneElementDef(\"source\", 0, this.sourceEndpointDefinitions, _p.type || \"default\") === false) return;\n                if (_oneElementDef(\"target\", 1, this.targetEndpointDefinitions, _p.type || \"default\") === false) return;\n\n                // last, ensure scopes match\n                if (_p.sourceEndpoint && _p.targetEndpoint)\n                    if (!_scopeMatch(_p.sourceEndpoint, _p.targetEndpoint)) _p = null;\n\n                return _p;\n            }.bind(_currentInstance),\n\n            _newConnection = function (params) {\n                var connectionFunc = _currentInstance.Defaults.ConnectionType || _currentInstance.getDefaultConnectionType();\n\n                params._jsPlumb = _currentInstance;\n                params.newConnection = _newConnection;\n                params.newEndpoint = _newEndpoint;\n                params.endpointsByUUID = endpointsByUUID;\n                params.endpointsByElement = endpointsByElement;\n                params.finaliseConnection = _finaliseConnection;\n                params.id = \"con_\" + _idstamp();\n                var con = new connectionFunc(params);\n\n                // if the connection is draggable, then maybe we need to tell the target endpoint to init the\n                // dragging code. it won't run again if it already configured to be draggable.\n                if (con.isDetachable()) {\n                    con.endpoints[0].initDraggable(\"_jsPlumbSource\");\n                    con.endpoints[1].initDraggable(\"_jsPlumbTarget\");\n                }\n\n                return con;\n            },\n\n        //\n        // adds the connection to the backing model, fires an event if necessary and then redraws\n        //\n            _finaliseConnection = _currentInstance.finaliseConnection = function (jpc, params, originalEvent, doInformAnchorManager) {\n                params = params || {};\n                // add to list of connections (by scope).\n                if (!jpc.suspendedEndpoint)\n                    connections.push(jpc);\n\n                jpc.pending = null;\n\n                // turn off isTemporarySource on the source endpoint (only viable on first draw)\n                jpc.endpoints[0].isTemporarySource = false;\n\n                // always inform the anchor manager\n                // except that if jpc has a suspended endpoint it's not true to say the\n                // connection is new; it has just (possibly) moved. the question is whether\n                // to make that call here or in the anchor manager.  i think perhaps here.\n                if (doInformAnchorManager !== false)\n                    _currentInstance.anchorManager.newConnection(jpc);\n\n                // force a paint\n                _draw(jpc.source);\n\n                // fire an event\n                if (!params.doNotFireConnectionEvent && params.fireEvent !== false) {\n\n                    var eventArgs = {\n                        connection: jpc,\n                        source: jpc.source, target: jpc.target,\n                        sourceId: jpc.sourceId, targetId: jpc.targetId,\n                        sourceEndpoint: jpc.endpoints[0], targetEndpoint: jpc.endpoints[1]\n                    };\n\n                    _currentInstance.fire(\"connection\", eventArgs, originalEvent);\n                }\n            },\n\n        /*\n         factory method to prepare a new endpoint.  this should always be used instead of creating Endpoints\n         manually, since this method attaches event listeners and an id.\n         */\n            _newEndpoint = function (params, id) {\n                var endpointFunc = _currentInstance.Defaults.EndpointType || jsPlumb.Endpoint;\n                var _p = jsPlumb.extend({}, params);\n                _p._jsPlumb = _currentInstance;\n                _p.newConnection = _newConnection;\n                _p.newEndpoint = _newEndpoint;\n                _p.endpointsByUUID = endpointsByUUID;\n                _p.endpointsByElement = endpointsByElement;\n                _p.fireDetachEvent = fireDetachEvent;\n                _p.elementId = id || _getId(_p.source);\n                var ep = new endpointFunc(_p);\n                ep.id = \"ep_\" + _idstamp();\n                _manage(_p.elementId, _p.source);\n\n                if (!jsPlumb.headless)\n                    _currentInstance.getDragManager().endpointAdded(_p.source, id);\n\n                return ep;\n            },\n\n        /*\n         * performs the given function operation on all the connections found\n         * for the given element id; this means we find all the endpoints for\n         * the given element, and then for each endpoint find the connectors\n         * connected to it. then we pass each connection in to the given\n         * function.\n         */\n            _operation = function (elId, func, endpointFunc) {\n                var endpoints = endpointsByElement[elId];\n                if (endpoints && endpoints.length) {\n                    for (var i = 0, ii = endpoints.length; i < ii; i++) {\n                        for (var j = 0, jj = endpoints[i].connections.length; j < jj; j++) {\n                            var retVal = func(endpoints[i].connections[j]);\n                            // if the function passed in returns true, we exit.\n                            // most functions return false.\n                            if (retVal) return;\n                        }\n                        if (endpointFunc) endpointFunc(endpoints[i]);\n                    }\n                }\n            },\n\n            _setDraggable = function (element, draggable) {\n                return jsPlumb.each(element, function (el) {\n                    if (_currentInstance.isDragSupported(el)) {\n                        draggableStates[_currentInstance.getAttribute(el, \"id\")] = draggable;\n                        _currentInstance.setElementDraggable(el, draggable);\n                    }\n                });\n            },\n        /*\n         * private method to do the business of hiding/showing.\n         *\n         * @param el\n         *            either Id of the element in question or a library specific\n         *            object for the element.\n         * @param state\n         *            String specifying a value for the css 'display' property\n         *            ('block' or 'none').\n         */\n            _setVisible = function (el, state, alsoChangeEndpoints) {\n                state = state === \"block\";\n                var endpointFunc = null;\n                if (alsoChangeEndpoints) {\n                    endpointFunc = function (ep) {\n                        ep.setVisible(state, true, true);\n                    };\n                }\n                var info = _info(el);\n                _operation(info.id, function (jpc) {\n                    if (state && alsoChangeEndpoints) {\n                        // this test is necessary because this functionality is new, and i wanted to maintain backwards compatibility.\n                        // this block will only set a connection to be visible if the other endpoint in the connection is also visible.\n                        var oidx = jpc.sourceId === info.id ? 1 : 0;\n                        if (jpc.endpoints[oidx].isVisible()) jpc.setVisible(true);\n                    }\n                    else  // the default behaviour for show, and what always happens for hide, is to just set the visibility without getting clever.\n                        jpc.setVisible(state);\n                }, endpointFunc);\n            },\n        /*\n         * toggles the draggable state of the given element(s).\n         * el is either an id, or an element object, or a list of ids/element objects.\n         */\n            _toggleDraggable = function (el) {\n                var state;\n                jsPlumb.each(el, function (el) {\n                    var elId = _currentInstance.getAttribute(el, \"id\");\n                    state = draggableStates[elId] == null ? false : draggableStates[elId];\n                    state = !state;\n                    draggableStates[elId] = state;\n                    _currentInstance.setDraggable(el, state);\n                    return state;\n                }.bind(this));\n                return state;\n            },\n            /**\n             * private method to do the business of toggling hiding/showing.\n             */\n            _toggleVisible = function (elId, changeEndpoints) {\n                var endpointFunc = null;\n                if (changeEndpoints) {\n                    endpointFunc = function (ep) {\n                        var state = ep.isVisible();\n                        ep.setVisible(!state);\n                    };\n                }\n                _operation(elId, function (jpc) {\n                    var state = jpc.isVisible();\n                    jpc.setVisible(!state);\n                }, endpointFunc);\n            },\n\n        // TODO comparison performance\n            _getCachedData = function (elId) {\n                var o = offsets[elId];\n                if (!o)\n                    return _updateOffset({elId: elId});\n                else\n                    return {o: o, s: sizes[elId]};\n            },\n\n            /**\n             * gets an id for the given element, creating and setting one if\n             * necessary.  the id is of the form\n             *\n             *    jsPlumb_<instance index>_<index in instance>\n             *\n             * where \"index in instance\" is a monotonically increasing integer that starts at 0,\n             * for each instance.  this method is used not only to assign ids to elements that do not\n             * have them but also to connections and endpoints.\n             */\n            _getId = function (element, uuid, doNotCreateIfNotFound) {\n                if (_ju.isString(element)) return element;\n                if (element == null) return null;\n                var id = _currentInstance.getAttribute(element, \"id\");\n                if (!id || id === \"undefined\") {\n                    // check if fixed uuid parameter is given\n                    if (arguments.length == 2 && arguments[1] !== undefined)\n                        id = uuid;\n                    else if (arguments.length == 1 || (arguments.length == 3 && !arguments[2]))\n                        id = \"jsPlumb_\" + _instanceIndex + \"_\" + _idstamp();\n\n                    if (!doNotCreateIfNotFound) _currentInstance.setAttribute(element, \"id\", id);\n                }\n                return id;\n            };\n\n        this.setConnectionBeingDragged = function (v) {\n            connectionBeingDragged = v;\n        };\n        this.isConnectionBeingDragged = function () {\n            return connectionBeingDragged;\n        };\n\n        /**\n         * Returns a map of all the elements this jsPlumbInstance is currently managing.\n         * @returns {Object} Map of [id-> {el, endpoint[], connection, position}] information.\n         */\n        this.getManagedElements = function() {\n            return managedElements;\n        };\n\n        this.connectorClass = \"jtk-connector\";\n        this.connectorOutlineClass = \"jtk-connector-outline\";\n        this.editableConnectorClass = \"jtk-connector-editable\";\n        this.connectedClass = \"jtk-connected\";\n        this.hoverClass = \"jtk-hover\";\n        this.endpointClass = \"jtk-endpoint\";\n        this.endpointConnectedClass = \"jtk-endpoint-connected\";\n        this.endpointFullClass = \"jtk-endpoint-full\";\n        this.endpointDropAllowedClass = \"jtk-endpoint-drop-allowed\";\n        this.endpointDropForbiddenClass = \"jtk-endpoint-drop-forbidden\";\n        this.overlayClass = \"jtk-overlay\";\n        this.draggingClass = \"jtk-dragging\";\n        this.elementDraggingClass = \"jtk-element-dragging\";\n        this.sourceElementDraggingClass = \"jtk-source-element-dragging\";\n        this.targetElementDraggingClass = \"jtk-target-element-dragging\";\n        this.endpointAnchorClassPrefix = \"jtk-endpoint-anchor\";\n        this.hoverSourceClass = \"jtk-source-hover\";\n        this.hoverTargetClass = \"jtk-target-hover\";\n        this.dragSelectClass = \"jtk-drag-select\";\n\n        this.Anchors = {};\n        this.Connectors = {  \"svg\": {} };\n        this.Endpoints = { \"svg\": {} };\n        this.Overlays = { \"svg\": {} } ;\n        this.ConnectorRenderers = {};\n        this.SVG = \"svg\";\n\n// --------------------------- jsPlumbInstance public API ---------------------------------------------------------\n\n\n        this.addEndpoint = function (el, params, referenceParams) {\n            referenceParams = referenceParams || {};\n            var p = jsPlumb.extend({}, referenceParams);\n            jsPlumb.extend(p, params);\n            p.endpoint = p.endpoint || _currentInstance.Defaults.Endpoint;\n            p.paintStyle = p.paintStyle || _currentInstance.Defaults.EndpointStyle;\n\n            var results = [],\n                inputs = (_ju.isArray(el) || (el.length != null && !_ju.isString(el))) ? el : [ el ];\n\n            for (var i = 0, j = inputs.length; i < j; i++) {\n                p.source = _currentInstance.getElement(inputs[i]);\n                _ensureContainer(p.source);\n\n                var id = _getId(p.source), e = _newEndpoint(p, id);\n\n                // SP new. here we have introduced a class-wide element manager, which is responsible\n                // for getting object dimensions and width/height, and for updating these values only\n                // when necessary (after a drag, or on a forced refresh call).\n                var myOffset = _manage(id, p.source).info.o;\n                _ju.addToList(endpointsByElement, id, e);\n\n                if (!_suspendDrawing) {\n                    e.paint({\n                        anchorLoc: e.anchor.compute({ xy: [ myOffset.left, myOffset.top ], wh: sizes[id], element: e, timestamp: _suspendedAt }),\n                        timestamp: _suspendedAt\n                    });\n                }\n\n                results.push(e);\n                e._doNotDeleteOnDetach = true; // mark this as being added via addEndpoint.\n            }\n\n            return results.length == 1 ? results[0] : results;\n        };\n\n        this.addEndpoints = function (el, endpoints, referenceParams) {\n            var results = [];\n            for (var i = 0, j = endpoints.length; i < j; i++) {\n                var e = _currentInstance.addEndpoint(el, endpoints[i], referenceParams);\n                if (_ju.isArray(e))\n                    Array.prototype.push.apply(results, e);\n                else results.push(e);\n            }\n            return results;\n        };\n\n        this.animate = function (el, properties, options) {\n            if (!this.animationSupported) return false;\n\n            options = options || {};\n            var del = _currentInstance.getElement(el),\n                id = _getId(del),\n                stepFunction = jsPlumb.animEvents.step,\n                completeFunction = jsPlumb.animEvents.complete;\n\n            options[stepFunction] = _ju.wrap(options[stepFunction], function () {\n                _currentInstance.revalidate(id);\n            });\n\n            // onComplete repaints, just to make sure everything looks good at the end of the animation.\n            options[completeFunction] = _ju.wrap(options[completeFunction], function () {\n                _currentInstance.revalidate(id);\n            });\n\n            _currentInstance.doAnimate(del, properties, options);\n        };\n\n        /**\n         * checks for a listener for the given condition, executing it if found, passing in the given value.\n         * condition listeners would have been attached using \"bind\" (which is, you could argue, now overloaded, since\n         * firing click events etc is a bit different to what this does).  i thought about adding a \"bindCondition\"\n         * or something, but decided against it, for the sake of simplicity. jsPlumb will never fire one of these\n         * condition events anyway.\n         */\n        this.checkCondition = function (conditionName, args) {\n            var l = _currentInstance.getListener(conditionName),\n                r = true;\n\n            if (l && l.length > 0) {\n                var values = Array.prototype.slice.call(arguments, 1);\n                try {\n                    for (var i = 0, j = l.length; i < j; i++) {\n                        r = r && l[i].apply(l[i], values);\n                    }\n                }\n                catch (e) {\n                    _ju.log(_currentInstance, \"cannot check condition [\" + conditionName + \"]\" + e);\n                }\n            }\n            return r;\n        };\n\n        this.connect = function (params, referenceParams) {\n            // prepare a final set of parameters to create connection with\n            var _p = _prepareConnectionParams(params, referenceParams), jpc;\n            // TODO probably a nicer return value if the connection was not made.  _prepareConnectionParams\n            // will return null (and log something) if either endpoint was full.  what would be nicer is to\n            // create a dedicated 'error' object.\n            if (_p) {\n                if (_p.source == null && _p.sourceEndpoint == null) {\n                    _ju.log(\"Cannot establish connection - source does not exist\");\n                    return;\n                }\n                if (_p.target == null && _p.targetEndpoint == null) {\n                    _ju.log(\"Cannot establish connection - target does not exist\");\n                    return;\n                }\n                _ensureContainer(_p.source);\n                // create the connection.  it is not yet registered\n                jpc = _newConnection(_p);\n                // now add it the model, fire an event, and redraw\n                _finaliseConnection(jpc, _p);\n            }\n            return jpc;\n        };\n\n        var stTypes = [\n            { el: \"source\", elId: \"sourceId\", epDefs: \"sourceEndpointDefinitions\" },\n            { el: \"target\", elId: \"targetId\", epDefs: \"targetEndpointDefinitions\" }\n        ];\n\n        var _set = function (c, el, idx, doNotRepaint) {\n            var ep, _st = stTypes[idx], cId = c[_st.elId], cEl = c[_st.el], sid, sep,\n                oldEndpoint = c.endpoints[idx];\n\n            var evtParams = {\n                index: idx,\n                originalSourceId: idx === 0 ? cId : c.sourceId,\n                newSourceId: c.sourceId,\n                originalTargetId: idx == 1 ? cId : c.targetId,\n                newTargetId: c.targetId,\n                connection: c\n            };\n\n            if (el.constructor == jsPlumb.Endpoint) { // TODO here match the current endpoint class; users can change it {\n                ep = el;\n                ep.addConnection(c);\n                el = ep.element;\n            }\n            else {\n                sid = _getId(el);\n                sep = this[_st.epDefs][sid];\n\n                if (sid === c[_st.elId])\n                    ep = null;  // dont change source/target if the element is already the one given.\n                else if (sep) {\n                    for (var t in sep) {\n                        if (!sep[t].enabled) return;\n                        ep = sep[t].endpoint != null && sep[t].endpoint._jsPlumb ? sep[t].endpoint : this.addEndpoint(el, sep[t].def);\n                        if (sep[t].uniqueEndpoint) sep[t].endpoint = ep;\n                        ep._doNotDeleteOnDetach = false;\n                        ep._deleteOnDetach = true;\n                        ep.addConnection(c);\n                    }\n                }\n                else {\n                    ep = c.makeEndpoint(idx === 0, el, sid);\n                    ep._doNotDeleteOnDetach = false;\n                    ep._deleteOnDetach = true;\n                }\n            }\n\n            if (ep != null) {\n                oldEndpoint.detachFromConnection(c);\n                c.endpoints[idx] = ep;\n                c[_st.el] = ep.element;\n                c[_st.elId] = ep.elementId;\n                evtParams[idx === 0 ? \"newSourceId\" : \"newTargetId\"] = ep.elementId;\n\n                fireMoveEvent(evtParams);\n\n                if (!doNotRepaint)\n                    c.repaint();\n            }\n\n            evtParams.element = el;\n            return evtParams;\n\n        }.bind(this);\n\n        this.setSource = function (connection, el, doNotRepaint) {\n            var p = _set(connection, el, 0, doNotRepaint);\n            this.anchorManager.sourceChanged(p.originalSourceId, p.newSourceId, connection, p.el);\n        };\n        this.setTarget = function (connection, el, doNotRepaint) {\n            var p = _set(connection, el, 1, doNotRepaint);\n            this.anchorManager.updateOtherEndpoint(p.originalSourceId, p.originalTargetId, p.newTargetId, connection);\n        };\n\n        this.deleteEndpoint = function (object, dontUpdateHover, deleteAttachedObjects) {\n            var endpoint = (typeof object === \"string\") ? endpointsByUUID[object] : object;\n            if (endpoint) {\n                _currentInstance.deleteObject({ endpoint: endpoint, dontUpdateHover: dontUpdateHover, deleteAttachedObjects:deleteAttachedObjects });\n            }\n            return _currentInstance;\n        };\n\n        this.deleteEveryEndpoint = function () {\n            var _is = _currentInstance.setSuspendDrawing(true);\n            for (var id in endpointsByElement) {\n                var endpoints = endpointsByElement[id];\n                if (endpoints && endpoints.length) {\n                    for (var i = 0, j = endpoints.length; i < j; i++) {\n                        _currentInstance.deleteEndpoint(endpoints[i], true);\n                    }\n                }\n            }\n            endpointsByElement = {};\n            // SP new\n            managedElements = {};\n            endpointsByUUID = {};\n            offsets = {};\n            offsetTimestamps = {};\n            _currentInstance.anchorManager.reset();\n            _currentInstance.getDragManager().reset();\n            if (!_is) _currentInstance.setSuspendDrawing(false);\n            return _currentInstance;\n        };\n\n        var fireDetachEvent = function (jpc, doFireEvent, originalEvent) {\n            // may have been given a connection, or in special cases, an object\n            var connType = _currentInstance.Defaults.ConnectionType || _currentInstance.getDefaultConnectionType(),\n                argIsConnection = jpc.constructor == connType,\n                params = argIsConnection ? {\n                    connection: jpc,\n                    source: jpc.source, target: jpc.target,\n                    sourceId: jpc.sourceId, targetId: jpc.targetId,\n                    sourceEndpoint: jpc.endpoints[0], targetEndpoint: jpc.endpoints[1]\n                } : jpc;\n\n            if (doFireEvent) {\n                _currentInstance.fire(\"connectionDetached\", params, originalEvent);\n            }\n\n            // always fire this. used by internal jsplumb stuff.\n            _currentInstance.fire(\"internal.connectionDetached\", params, originalEvent);\n\n            _currentInstance.anchorManager.connectionDetached(params);\n        };\n\n        var fireMoveEvent = _currentInstance.fireMoveEvent = function (params, evt) {\n            _currentInstance.fire(\"connectionMoved\", params, evt);\n        };\n\n        this.unregisterEndpoint = function (endpoint) {\n            //if (endpoint._jsPlumb == null) return;\n            if (endpoint._jsPlumb.uuid) endpointsByUUID[endpoint._jsPlumb.uuid] = null;\n            _currentInstance.anchorManager.deleteEndpoint(endpoint);\n            // TODO at least replace this with a removeWithFunction call.\n            for (var e in endpointsByElement) {\n                var endpoints = endpointsByElement[e];\n                if (endpoints) {\n                    var newEndpoints = [];\n                    for (var i = 0, j = endpoints.length; i < j; i++)\n                        if (endpoints[i] != endpoint) newEndpoints.push(endpoints[i]);\n\n                    endpointsByElement[e] = newEndpoints;\n                }\n                if (endpointsByElement[e].length < 1) {\n                    delete endpointsByElement[e];\n                }\n            }\n        };\n\n        this.detach = function () {\n\n            if (arguments.length === 0) return;\n            var connType = _currentInstance.Defaults.ConnectionType || _currentInstance.getDefaultConnectionType(),\n                firstArgIsConnection = arguments[0].constructor == connType,\n                params = arguments.length == 2 ? firstArgIsConnection ? (arguments[1] || {}) : arguments[0] : arguments[0],\n                fireEvent = (params.fireEvent !== false),\n                forceDetach = params.forceDetach,\n                conn = firstArgIsConnection ? arguments[0] : params.connection,\n                deleteAttachedObjects = firstArgIsConnection ? null : params.deleteAttachedObjects;\n\n            if (conn) {\n                if (forceDetach || _ju.functionChain(true, false, [\n                    [ conn.endpoints[0], \"isDetachAllowed\", [ conn ] ],\n                    [ conn.endpoints[1], \"isDetachAllowed\", [ conn ] ],\n                    [ conn, \"isDetachAllowed\", [ conn ] ],\n                    [ _currentInstance, \"checkCondition\", [ \"beforeDetach\", conn ] ]\n                ])) {\n\n                    conn.endpoints[0].detach({\n                        connection:conn,\n                        ignoreTarget:false,\n                        forceDetach:true,\n                        fireEvent:fireEvent,\n                        deleteAttachedObjects:deleteAttachedObjects\n                    });\n                }\n            }\n            else {\n                var _p = jsPlumb.extend({}, params); // a backwards compatibility hack: source should be thought of as 'params' in this case.\n                // test for endpoint uuids to detach\n                if (_p.uuids) {\n                    _getEndpoint(_p.uuids[0]).detachFrom(_getEndpoint(_p.uuids[1]), fireEvent);\n                } else if (_p.sourceEndpoint && _p.targetEndpoint) {\n                    _p.sourceEndpoint.detachFrom(_p.targetEndpoint);\n                } else {\n                    var sourceId = _getId(_currentInstance.getElement(_p.source)),\n                        targetId = _getId(_currentInstance.getElement(_p.target));\n                    _operation(sourceId, function (jpc) {\n                        if ((jpc.sourceId == sourceId && jpc.targetId == targetId) || (jpc.targetId == sourceId && jpc.sourceId == targetId)) {\n                            if (_currentInstance.checkCondition(\"beforeDetach\", jpc)) {\n                                jpc.endpoints[0].detach({\n                                    connection:jpc,\n                                    ignoreTarget:false,\n                                    forceDetach:true,\n                                    fireEvent:fireEvent\n                                });\n                            }\n                        }\n                    });\n                }\n            }\n        };\n\n        this.detachAllConnections = function (el, params) {\n            params = params || {};\n            el = _currentInstance.getElement(el);\n            var id = _getId(el),\n                endpoints = endpointsByElement[id];\n            if (endpoints && endpoints.length) {\n                for (var i = 0, j = endpoints.length; i < j; i++) {\n                    endpoints[i].detachAll(params.fireEvent !== false, params.forceDetach);\n                }\n            }\n            return _currentInstance;\n        };\n\n        this.detachEveryConnection = function (params) {\n            params = params || {};\n            _currentInstance.batch(function () {\n                for (var id in endpointsByElement) {\n                    var endpoints = endpointsByElement[id];\n                    if (endpoints && endpoints.length) {\n                        for (var i = 0, j = endpoints.length; i < j; i++) {\n                            endpoints[i].detachAll(params.fireEvent !== false, params.forceDetach);\n                        }\n                    }\n                }\n                connections.length = 0;\n            });\n            return _currentInstance;\n        };\n\n        /// not public.  but of course its exposed. how to change this.\n        this.deleteObject = function (params) {\n            var result = {\n                    endpoints: {},\n                    connections: {},\n                    endpointCount: 0,\n                    connectionCount: 0\n                },\n                fireEvent = params.fireEvent !== false,\n                deleteAttachedObjects = params.deleteAttachedObjects !== false;\n\n            var unravelConnection = function (connection) {\n                if (connection != null && result.connections[connection.id] == null) {\n                    if (!params.dontUpdateHover && connection._jsPlumb != null) connection.setHover(false);\n                    result.connections[connection.id] = connection;\n                    result.connectionCount++;\n                    if (deleteAttachedObjects) {\n                        for (var j = 0; j < connection.endpoints.length; j++) {\n                            if (connection.endpoints[j]._deleteOnDetach)\n                                unravelEndpoint(connection.endpoints[j]);\n                        }\n                    }\n                }\n            };\n            var unravelEndpoint = function (endpoint) {\n                if (endpoint != null && result.endpoints[endpoint.id] == null) {\n                    if (!params.dontUpdateHover && endpoint._jsPlumb != null) endpoint.setHover(false);\n                    result.endpoints[endpoint.id] = endpoint;\n                    result.endpointCount++;\n\n                    if (deleteAttachedObjects) {\n                        for (var i = 0; i < endpoint.connections.length; i++) {\n                            var c = endpoint.connections[i];\n                            unravelConnection(c);\n                        }\n                    }\n                }\n            };\n\n            if (params.connection)\n                unravelConnection(params.connection);\n            else unravelEndpoint(params.endpoint);\n\n            // loop through connections\n            for (var i in result.connections) {\n                var c = result.connections[i];\n                if (c._jsPlumb) {\n                    _ju.removeWithFunction(connections, function (_c) {\n                        return c.id == _c.id;\n                    });\n\n                    fireDetachEvent(c, params.fireEvent === false ? false : !c.pending, params.originalEvent);\n                    var doNotCleanup = params.deleteAttachedObjects == null ? null : !params.deleteAttachedObjects;\n\n                    c.endpoints[0].detachFromConnection(c, null, doNotCleanup);\n                    c.endpoints[1].detachFromConnection(c, null, doNotCleanup);\n\n                    c.cleanup(true);\n                    c.destroy(true);\n                }\n            }\n\n            // loop through endpoints\n            for (var j in result.endpoints) {\n                var e = result.endpoints[j];\n                if (e._jsPlumb) {\n                    _currentInstance.unregisterEndpoint(e);\n                    // FIRE some endpoint deleted event?\n                    e.cleanup(true);\n                    e.destroy(true);\n                }\n            }\n\n            return result;\n        };\n\n        this.draggable = function (el, options) {\n            var info;\n            _each(function(_el) {\n                 info = _info(_el);\n                if (info.el) _initDraggableIfNecessary(info.el, true, options, info.id, true);\n            }, el);\n            return _currentInstance;\n        };\n\n        this.droppable = function(el, options) {\n            var info;\n            options = options || {};\n            options.allowLoopback = false;\n            _each(function(_el) {\n                info = _info(_el);\n                if (info.el) _currentInstance.initDroppable(info.el, options);\n            }, el);\n            return _currentInstance;\n        };\n\n        // helpers for select/selectEndpoints\n        var _setOperation = function (list, func, args, selector) {\n                for (var i = 0, j = list.length; i < j; i++) {\n                    list[i][func].apply(list[i], args);\n                }\n                return selector(list);\n            },\n            _getOperation = function (list, func, args) {\n                var out = [];\n                for (var i = 0, j = list.length; i < j; i++) {\n                    out.push([ list[i][func].apply(list[i], args), list[i] ]);\n                }\n                return out;\n            },\n            setter = function (list, func, selector) {\n                return function () {\n                    return _setOperation(list, func, arguments, selector);\n                };\n            },\n            getter = function (list, func) {\n                return function () {\n                    return _getOperation(list, func, arguments);\n                };\n            },\n            prepareList = function (input, doNotGetIds) {\n                var r = [];\n                if (input) {\n                    if (typeof input == 'string') {\n                        if (input === \"*\") return input;\n                        r.push(input);\n                    }\n                    else {\n                        if (doNotGetIds) r = input;\n                        else {\n                            if (input.length) {\n                                for (var i = 0, j = input.length; i < j; i++)\n                                    r.push(_info(input[i]).id);\n                            }\n                            else\n                                r.push(_info(input).id);\n                        }\n                    }\n                }\n                return r;\n            },\n            filterList = function (list, value, missingIsFalse) {\n                if (list === \"*\") return true;\n                return list.length > 0 ? list.indexOf(value) != -1 : !missingIsFalse;\n            };\n\n        // get some connections, specifying source/target/scope\n        this.getConnections = function (options, flat) {\n            if (!options) {\n                options = {};\n            } else if (options.constructor == String) {\n                options = { \"scope\": options };\n            }\n            var scope = options.scope || _currentInstance.getDefaultScope(),\n                scopes = prepareList(scope, true),\n                sources = prepareList(options.source),\n                targets = prepareList(options.target),\n                results = (!flat && scopes.length > 1) ? {} : [],\n                _addOne = function (scope, obj) {\n                    if (!flat && scopes.length > 1) {\n                        var ss = results[scope];\n                        if (ss == null) {\n                            ss = results[scope] = [];\n                        }\n                        ss.push(obj);\n                    } else results.push(obj);\n                };\n\n            for (var j = 0, jj = connections.length; j < jj; j++) {\n                var c = connections[j],\n                    sourceId = c.proxies && c.proxies[0] ? c.proxies[0].originalEp.elementId : c.sourceId,\n                    targetId = c.proxies && c.proxies[1] ? c.proxies[1].originalEp.elementId : c.targetId;\n\n                if (filterList(scopes, c.scope) && filterList(sources, sourceId) && filterList(targets, targetId))\n                    _addOne(c.scope, c);\n            }\n\n            return results;\n        };\n\n        var _curryEach = function (list, executor) {\n                return function (f) {\n                    for (var i = 0, ii = list.length; i < ii; i++) {\n                        f(list[i]);\n                    }\n                    return executor(list);\n                };\n            },\n            _curryGet = function (list) {\n                return function (idx) {\n                    return list[idx];\n                };\n            };\n\n        var _makeCommonSelectHandler = function (list, executor) {\n            var out = {\n                    length: list.length,\n                    each: _curryEach(list, executor),\n                    get: _curryGet(list)\n                },\n                setters = [\"setHover\", \"removeAllOverlays\", \"setLabel\", \"addClass\", \"addOverlay\", \"removeOverlay\",\n                    \"removeOverlays\", \"showOverlay\", \"hideOverlay\", \"showOverlays\", \"hideOverlays\", \"setPaintStyle\",\n                    \"setHoverPaintStyle\", \"setSuspendEvents\", \"setParameter\", \"setParameters\", \"setVisible\",\n                    \"repaint\", \"addType\", \"toggleType\", \"removeType\", \"removeClass\", \"setType\", \"bind\", \"unbind\" ],\n\n                getters = [\"getLabel\", \"getOverlay\", \"isHover\", \"getParameter\", \"getParameters\", \"getPaintStyle\",\n                    \"getHoverPaintStyle\", \"isVisible\", \"hasType\", \"getType\", \"isSuspendEvents\" ],\n                i, ii;\n\n            for (i = 0, ii = setters.length; i < ii; i++)\n                out[setters[i]] = setter(list, setters[i], executor);\n\n            for (i = 0, ii = getters.length; i < ii; i++)\n                out[getters[i]] = getter(list, getters[i]);\n\n            return out;\n        };\n\n        var _makeConnectionSelectHandler = function (list) {\n            var common = _makeCommonSelectHandler(list, _makeConnectionSelectHandler);\n            return jsPlumb.extend(common, {\n                // setters\n                setDetachable: setter(list, \"setDetachable\", _makeConnectionSelectHandler),\n                setReattach: setter(list, \"setReattach\", _makeConnectionSelectHandler),\n                setConnector: setter(list, \"setConnector\", _makeConnectionSelectHandler),\n                detach: function () {\n                    for (var i = 0, ii = list.length; i < ii; i++)\n                        _currentInstance.detach(list[i]);\n                },\n                // getters\n                isDetachable: getter(list, \"isDetachable\"),\n                isReattach: getter(list, \"isReattach\")\n            });\n        };\n\n        var _makeEndpointSelectHandler = function (list) {\n            var common = _makeCommonSelectHandler(list, _makeEndpointSelectHandler);\n            return jsPlumb.extend(common, {\n                setEnabled: setter(list, \"setEnabled\", _makeEndpointSelectHandler),\n                setAnchor: setter(list, \"setAnchor\", _makeEndpointSelectHandler),\n                isEnabled: getter(list, \"isEnabled\"),\n                detachAll: function () {\n                    for (var i = 0, ii = list.length; i < ii; i++)\n                        list[i].detachAll();\n                },\n                \"remove\": function () {\n                    for (var i = 0, ii = list.length; i < ii; i++)\n                        _currentInstance.deleteObject({endpoint: list[i]});\n                }\n            });\n        };\n\n        this.select = function (params) {\n            params = params || {};\n            params.scope = params.scope || \"*\";\n            return _makeConnectionSelectHandler(params.connections || _currentInstance.getConnections(params, true));\n        };\n\n        this.selectEndpoints = function (params) {\n            params = params || {};\n            params.scope = params.scope || \"*\";\n            var noElementFilters = !params.element && !params.source && !params.target,\n                elements = noElementFilters ? \"*\" : prepareList(params.element),\n                sources = noElementFilters ? \"*\" : prepareList(params.source),\n                targets = noElementFilters ? \"*\" : prepareList(params.target),\n                scopes = prepareList(params.scope, true);\n\n            var ep = [];\n\n            for (var el in endpointsByElement) {\n                var either = filterList(elements, el, true),\n                    source = filterList(sources, el, true),\n                    sourceMatchExact = sources != \"*\",\n                    target = filterList(targets, el, true),\n                    targetMatchExact = targets != \"*\";\n\n                // if they requested 'either' then just match scope. otherwise if they requested 'source' (not as a wildcard) then we have to match only endpoints that have isSource set to to true, and the same thing with isTarget.\n                if (either || source || target) {\n                    inner:\n                        for (var i = 0, ii = endpointsByElement[el].length; i < ii; i++) {\n                            var _ep = endpointsByElement[el][i];\n                            if (filterList(scopes, _ep.scope, true)) {\n\n                                var noMatchSource = (sourceMatchExact && sources.length > 0 && !_ep.isSource),\n                                    noMatchTarget = (targetMatchExact && targets.length > 0 && !_ep.isTarget);\n\n                                if (noMatchSource || noMatchTarget)\n                                    continue inner;\n\n                                ep.push(_ep);\n                            }\n                        }\n                }\n            }\n\n            return _makeEndpointSelectHandler(ep);\n        };\n\n        // get all connections managed by the instance of jsplumb.\n        this.getAllConnections = function () {\n            return connections;\n        };\n        this.getDefaultScope = function () {\n            return DEFAULT_SCOPE;\n        };\n        // get an endpoint by uuid.\n        this.getEndpoint = _getEndpoint;\n        // get endpoints for some element.\n        this.getEndpoints = function (el) {\n            return endpointsByElement[_info(el).id];\n        };\n        // gets the default endpoint type. used when subclassing. see wiki.\n        this.getDefaultEndpointType = function () {\n            return jsPlumb.Endpoint;\n        };\n        // gets the default connection type. used when subclassing.  see wiki.\n        this.getDefaultConnectionType = function () {\n            return jsPlumb.Connection;\n        };\n        /*\n         * Gets an element's id, creating one if necessary. really only exposed\n         * for the lib-specific functionality to access; would be better to pass\n         * the current instance into the lib-specific code (even though this is\n         * a static call. i just don't want to expose it to the public API).\n         */\n        this.getId = _getId;\n\n        this.appendElement = _appendElement;\n\n        var _hoverSuspended = false;\n        this.isHoverSuspended = function () {\n            return _hoverSuspended;\n        };\n        this.setHoverSuspended = function (s) {\n            _hoverSuspended = s;\n        };\n\n        // set an element's connections to be hidden\n        this.hide = function (el, changeEndpoints) {\n            _setVisible(el, \"none\", changeEndpoints);\n            return _currentInstance;\n        };\n\n        // exposed for other objects to use to get a unique id.\n        this.idstamp = _idstamp;\n\n        this.connectorsInitialized = false;\n        this.registerConnectorType = function (connector, name) {\n            connectorTypes.push([connector, name]);\n        };\n\n        // ensure that, if the current container exists, it is a DOM element and not a selector.\n        // if it does not exist and `candidate` is supplied, the offset parent of that element will be set as the Container.\n        // this is used to do a better default behaviour for the case that the user has not set a container:\n        // addEndpoint, makeSource, makeTarget and connect all call this method with the offsetParent of the\n        // element in question (for connect it is the source element). So if no container is set, it is inferred\n        // to be the offsetParent of the first element the user tries to connect.\n        var _ensureContainer = function (candidate) {\n            if (!_container && candidate) {\n                var can = _currentInstance.getElement(candidate);\n                if (can.offsetParent) _currentInstance.setContainer(can.offsetParent);\n            }\n        };\n\n        var _getContainerFromDefaults = function () {\n            if (_currentInstance.Defaults.Container)\n                _currentInstance.setContainer(_currentInstance.Defaults.Container);\n        };\n\n        // check if a given element is managed or not. if not, add to our map. if drawing is not suspended then\n        // we'll also stash its dimensions; otherwise we'll do this in a lazy way through updateOffset.\n        var _manage = _currentInstance.manage = function (id, element, _transient) {\n            if (!managedElements[id]) {\n                managedElements[id] = {\n                    el: element,\n                    endpoints: [],\n                    connections: []\n                };\n\n                managedElements[id].info = _updateOffset({ elId: id, timestamp: _suspendedAt });\n                if (!_transient) {\n                    _currentInstance.fire(\"manageElement\", { id:id, info:managedElements[id].info, el:element });\n                }\n            }\n\n            return managedElements[id];\n        };\n\n        var _unmanage = function(id) {\n            if (managedElements[id]) {\n                delete managedElements[id];\n                _currentInstance.fire(\"unmanageElement\", id);\n            }\n        };\n\n        /**\n         * updates the offset and size for a given element, and stores the\n         * values. if 'offset' is not null we use that (it would have been\n         * passed in from a drag call) because it's faster; but if it is null,\n         * or if 'recalc' is true in order to force a recalculation, we get the current values.\n         */\n        var _updateOffset = this.updateOffset = function (params) {\n\n            var timestamp = params.timestamp, recalc = params.recalc, offset = params.offset, elId = params.elId, s;\n            if (_suspendDrawing && !timestamp) timestamp = _suspendedAt;\n            if (!recalc) {\n                if (timestamp && timestamp === offsetTimestamps[elId]) {\n                    return {o: params.offset || offsets[elId], s: sizes[elId]};\n                }\n            }\n            if (recalc || (!offset && offsets[elId] == null)) { // if forced repaint or no offset available, we recalculate.\n\n                // get the current size and offset, and store them\n                s = managedElements[elId] ? managedElements[elId].el : null;\n                if (s != null) {\n                    sizes[elId] = _currentInstance.getSize(s);\n                    offsets[elId] = _currentInstance.getOffset(s);\n                    offsetTimestamps[elId] = timestamp;\n                }\n            } else {\n                offsets[elId] = offset || offsets[elId];\n                if (sizes[elId] == null) {\n                    s = managedElements[elId].el;\n                    if (s != null) sizes[elId] = _currentInstance.getSize(s);\n                }\n                offsetTimestamps[elId] = timestamp;\n            }\n\n            if (offsets[elId] && !offsets[elId].right) {\n                offsets[elId].right = offsets[elId].left + sizes[elId][0];\n                offsets[elId].bottom = offsets[elId].top + sizes[elId][1];\n                offsets[elId].width = sizes[elId][0];\n                offsets[elId].height = sizes[elId][1];\n                offsets[elId].centerx = offsets[elId].left + (offsets[elId].width / 2);\n                offsets[elId].centery = offsets[elId].top + (offsets[elId].height / 2);\n            }\n\n            return {o: offsets[elId], s: sizes[elId]};\n        };\n\n        /**\n         * callback from the current library to tell us to prepare ourselves (attach\n         * mouse listeners etc; can't do that until the library has provided a bind method)\n         */\n        this.init = function () {\n            rendererTypes = root.jsPlumb.getRenderModes();\n\n            var _oneType = function (renderer, name, fn) {\n                root.jsPlumb.Connectors[renderer][name] = function () {\n                    fn.apply(this, arguments);\n                    root.jsPlumb.ConnectorRenderers[renderer].apply(this, arguments);\n                };\n                _ju.extend(root.jsPlumb.Connectors[renderer][name], [ fn, root.jsPlumb.ConnectorRenderers[renderer]]);\n            };\n\n            if (!root.jsPlumb.connectorsInitialized) {\n                for (var i = 0; i < connectorTypes.length; i++) {\n                    for (var j = 0; j < rendererTypes.length; j++) {\n                        _oneType(rendererTypes[j], connectorTypes[i][1], connectorTypes[i][0]);\n                    }\n\n                }\n                root.jsPlumb.connectorsInitialized = true;\n            }\n\n            if (!initialized) {\n                _getContainerFromDefaults();\n                _currentInstance.anchorManager = new root.jsPlumb.AnchorManager({jsPlumbInstance: _currentInstance});\n                initialized = true;\n                _currentInstance.fire(\"ready\", _currentInstance);\n            }\n        }.bind(this);\n\n        this.log = log;\n        this.jsPlumbUIComponent = jsPlumbUIComponent;\n\n        /*\n         * Creates an anchor with the given params.\n         *\n         *\n         * Returns: The newly created Anchor.\n         * Throws: an error if a named anchor was not found.\n         */\n        this.makeAnchor = function () {\n            var pp, _a = function (t, p) {\n                if (root.jsPlumb.Anchors[t]) return new root.jsPlumb.Anchors[t](p);\n                if (!_currentInstance.Defaults.DoNotThrowErrors)\n                    throw { msg: \"jsPlumb: unknown anchor type '\" + t + \"'\" };\n            };\n            if (arguments.length === 0) return null;\n            var specimen = arguments[0], elementId = arguments[1], jsPlumbInstance = arguments[2], newAnchor = null;\n            // if it appears to be an anchor already...\n            if (specimen.compute && specimen.getOrientation) return specimen;  //TODO hazy here about whether it should be added or is already added somehow.\n            // is it the name of an anchor type?\n            else if (typeof specimen == \"string\") {\n                newAnchor = _a(arguments[0], {elementId: elementId, jsPlumbInstance: _currentInstance});\n            }\n            // is it an array? it will be one of:\n            // \t\tan array of [spec, params] - this defines a single anchor, which may be dynamic, but has parameters.\n            //\t\tan array of arrays - this defines some dynamic anchors\n            //\t\tan array of numbers - this defines a single anchor.\n            else if (_ju.isArray(specimen)) {\n                if (_ju.isArray(specimen[0]) || _ju.isString(specimen[0])) {\n                    // if [spec, params] format\n                    if (specimen.length == 2 && _ju.isObject(specimen[1])) {\n                        // if first arg is a string, its a named anchor with params\n                        if (_ju.isString(specimen[0])) {\n                            pp = root.jsPlumb.extend({elementId: elementId, jsPlumbInstance: _currentInstance}, specimen[1]);\n                            newAnchor = _a(specimen[0], pp);\n                        }\n                        // otherwise first arg is array, second is params. we treat as a dynamic anchor, which is fine\n                        // even if the first arg has only one entry. you could argue all anchors should be implicitly dynamic in fact.\n                        else {\n                            pp = root.jsPlumb.extend({elementId: elementId, jsPlumbInstance: _currentInstance, anchors: specimen[0]}, specimen[1]);\n                            newAnchor = new root.jsPlumb.DynamicAnchor(pp);\n                        }\n                    }\n                    else\n                        newAnchor = new jsPlumb.DynamicAnchor({anchors: specimen, selector: null, elementId: elementId, jsPlumbInstance: _currentInstance});\n\n                }\n                else {\n                    var anchorParams = {\n                        x: specimen[0], y: specimen[1],\n                        orientation: (specimen.length >= 4) ? [ specimen[2], specimen[3] ] : [0, 0],\n                        offsets: (specimen.length >= 6) ? [ specimen[4], specimen[5] ] : [ 0, 0 ],\n                        elementId: elementId,\n                        jsPlumbInstance: _currentInstance,\n                        cssClass: specimen.length == 7 ? specimen[6] : null\n                    };\n                    newAnchor = new root.jsPlumb.Anchor(anchorParams);\n                    newAnchor.clone = function () {\n                        return new root.jsPlumb.Anchor(anchorParams);\n                    };\n                }\n            }\n\n            if (!newAnchor.id) newAnchor.id = \"anchor_\" + _idstamp();\n            return newAnchor;\n        };\n\n        /**\n         * makes a list of anchors from the given list of types or coords, eg\n         * [\"TopCenter\", \"RightMiddle\", \"BottomCenter\", [0, 1, -1, -1] ]\n         */\n        this.makeAnchors = function (types, elementId, jsPlumbInstance) {\n            var r = [];\n            for (var i = 0, ii = types.length; i < ii; i++) {\n                if (typeof types[i] == \"string\")\n                    r.push(root.jsPlumb.Anchors[types[i]]({elementId: elementId, jsPlumbInstance: jsPlumbInstance}));\n                else if (_ju.isArray(types[i]))\n                    r.push(_currentInstance.makeAnchor(types[i], elementId, jsPlumbInstance));\n            }\n            return r;\n        };\n\n        /**\n         * Makes a dynamic anchor from the given list of anchors (which may be in shorthand notation as strings or dimension arrays, or Anchor\n         * objects themselves) and the given, optional, anchorSelector function (jsPlumb uses a default if this is not provided; most people will\n         * not need to provide this - i think).\n         */\n        this.makeDynamicAnchor = function (anchors, anchorSelector) {\n            return new root.jsPlumb.DynamicAnchor({anchors: anchors, selector: anchorSelector, elementId: null, jsPlumbInstance: _currentInstance});\n        };\n\n// --------------------- makeSource/makeTarget ---------------------------------------------- \n\n        this.targetEndpointDefinitions = {};\n        var _setEndpointPaintStylesAndAnchor = function (ep, epIndex, _instance) {\n           /* ep.paintStyle = ep.paintStyle ||\n                _instance.Defaults.EndpointStyles[epIndex] ||\n                _instance.Defaults.EndpointStyle;\n\n            ep.hoverPaintStyle = ep.hoverPaintStyle ||\n                _instance.Defaults.EndpointHoverStyles[epIndex] ||\n                _instance.Defaults.EndpointHoverStyle;\n\n            ep.anchor = ep.anchor ||\n                _instance.Defaults.Anchors[epIndex] ||\n                _instance.Defaults.Anchor;\n\n            ep.endpoint = ep.endpoint ||\n                _instance.Defaults.Endpoints[epIndex] ||\n                _instance.Defaults.Endpoint;*/\n        };\n\n        // TODO put all the source stuff inside one parent, keyed by id.\n        this.sourceEndpointDefinitions = {};\n\n        var selectorFilter = function (evt, _el, selector, _instance, negate) {\n            var t = evt.target || evt.srcElement, ok = false,\n                sel = _instance.getSelector(_el, selector);\n            for (var j = 0; j < sel.length; j++) {\n                if (sel[j] == t) {\n                    ok = true;\n                    break;\n                }\n            }\n            return negate ? !ok : ok;\n        };\n\n        // SP target source refactor\n        var _makeElementDropHandler = function (elInfo, p, dropOptions, isSource, isTarget) {\n            var proxyComponent = new jsPlumbUIComponent(p);\n            var _drop = p._jsPlumb.EndpointDropHandler({\n                jsPlumb: _currentInstance,\n                enabled: function () {\n                    return elInfo.def.enabled;\n                },\n                isFull: function () {\n                    var targetCount = _currentInstance.select({target: elInfo.id}).length;\n                    return elInfo.def.maxConnections > 0 && targetCount >= elInfo.def.maxConnections;\n                },\n                element: elInfo.el,\n                elementId: elInfo.id,\n                isSource: isSource,\n                isTarget: isTarget,\n                addClass: function (clazz) {\n                    _currentInstance.addClass(elInfo.el, clazz);\n                },\n                removeClass: function (clazz) {\n                    _currentInstance.removeClass(elInfo.el, clazz);\n                },\n                onDrop: function (jpc) {\n                    var source = jpc.endpoints[0];\n                    source.anchor.locked = false;\n                },\n                isDropAllowed: function () {\n                    return proxyComponent.isDropAllowed.apply(proxyComponent, arguments);\n                },\n                isRedrop:function(jpc) {\n                    return (jpc.suspendedElement != null && jpc.suspendedEndpoint != null && jpc.suspendedEndpoint.element === elInfo.el);\n                },\n                getEndpoint: function (jpc) {\n\n                    // make a new Endpoint for the target, or get it from the cache if uniqueEndpoint\n                    // is set. if its a redrop the new endpoint will be immediately cleaned up.\n\n                    var newEndpoint = elInfo.def.endpoint;\n\n                    // if no cached endpoint, or there was one but it has been cleaned up\n                    // (ie. detached), create a new one\n                    if (newEndpoint == null || newEndpoint._jsPlumb == null) {\n                        var eps = _currentInstance.deriveEndpointAndAnchorSpec(jpc.getType().join(\" \"), true);\n                        var pp = eps.endpoints ? root.jsPlumb.extend(p, {\n                            endpoint:elInfo.def.def.endpoint || eps.endpoints[1]\n                        }) :p;\n                        if (eps.anchors) {\n                            pp = root.jsPlumb.extend(pp, {\n                                anchor:elInfo.def.def.anchor || eps.anchors[1]\n                            });\n                        }\n                        newEndpoint = _currentInstance.addEndpoint(elInfo.el, pp);\n                        newEndpoint._mtNew = true;\n                    }\n\n                    if (p.uniqueEndpoint) elInfo.def.endpoint = newEndpoint;  // may of course just store what it just pulled out. that's ok.\n                    // TODO test options to makeTarget to see if we should do this?\n                    newEndpoint._doNotDeleteOnDetach = false; // reset.\n                    newEndpoint._deleteOnDetach = true;\n\n                    // if connection is detachable, init the new endpoint to be draggable, to support that happening.\n                    if (jpc.isDetachable())\n                        newEndpoint.initDraggable();\n\n                    // if the anchor has a 'positionFinder' set, then delegate to that function to find\n                    // out where to locate the anchor.\n                    if (newEndpoint.anchor.positionFinder != null) {\n                        var dropPosition = _currentInstance.getUIPosition(arguments, _currentInstance.getZoom()),\n                            elPosition = _currentInstance.getOffset(elInfo.el),\n                            elSize = _currentInstance.getSize(elInfo.el),\n                            ap = dropPosition == null ? [0,0] : newEndpoint.anchor.positionFinder(dropPosition, elPosition, elSize, newEndpoint.anchor.constructorParams);\n\n                        newEndpoint.anchor.x = ap[0];\n                        newEndpoint.anchor.y = ap[1];\n                        // now figure an orientation for it..kind of hard to know what to do actually. probably the best thing i can do is to\n                        // support specifying an orientation in the anchor's spec. if one is not supplied then i will make the orientation\n                        // be what will cause the most natural link to the source: it will be pointing at the source, but it needs to be\n                        // specified in one axis only, and so how to make that choice? i think i will use whichever axis is the one in which\n                        // the target is furthest away from the source.\n                    }\n\n                    return newEndpoint;\n                },\n                maybeCleanup: function (ep) {\n                    if (ep._mtNew && ep.connections.length === 0) {\n                        _currentInstance.deleteObject({endpoint: ep});\n                    }\n                    else\n                        delete ep._mtNew;\n                }\n            });\n\n            // wrap drop events as needed and initialise droppable\n            var dropEvent = root.jsPlumb.dragEvents.drop;\n            dropOptions.scope = dropOptions.scope || (p.scope || _currentInstance.Defaults.Scope);\n            dropOptions[dropEvent] = _ju.wrap(dropOptions[dropEvent], _drop, true);\n\n            // if target, return true from the over event. this will cause katavorio to stop setting drops to hover\n            // if multipleDrop is set to false.\n            if (isTarget) {\n                dropOptions[root.jsPlumb.dragEvents.over] = function () { return true; };\n            }\n\n            // vanilla jsplumb only\n            if (p.allowLoopback === false) {\n                dropOptions.canDrop = function (_drag) {\n                    var de = _drag.getDragElement()._jsPlumbRelatedElement;\n                    return de != elInfo.el;\n                };\n            }\n            _currentInstance.initDroppable(elInfo.el, dropOptions, \"internal\");\n\n            return _drop;\n\n        };\n\n        // see API docs\n        this.makeTarget = function (el, params, referenceParams) {\n\n            // put jsplumb ref into params without altering the params passed in\n            var p = root.jsPlumb.extend({_jsPlumb: this}, referenceParams);\n            root.jsPlumb.extend(p, params);\n\n            // calculate appropriate paint styles and anchor from the params given\n            _setEndpointPaintStylesAndAnchor(p, 1, this);\n\n            var maxConnections = p.maxConnections || -1,\n\n                _doOne = function (el) {\n\n                    // get the element's id and store the endpoint definition for it.  jsPlumb.connect calls will look for one of these,\n                    // and use the endpoint definition if found.\n                    // decode the info for this element (id and element)\n                    var elInfo = _info(el),\n                        elid = elInfo.id,\n                        dropOptions = root.jsPlumb.extend({}, p.dropOptions || {}),\n                        type = p.connectionType || \"default\";\n\n                    this.targetEndpointDefinitions[elid] = this.targetEndpointDefinitions[elid] || {};\n\n                    _ensureContainer(elid);\n\n                    // if this is a group and the user has not mandated a rank, set to -1 so that Nodes takes\n                    // precedence.\n                    if (elInfo.el._isJsPlumbGroup && dropOptions.rank == null) {\n                        dropOptions.rank = -1;\n                    }\n\n                    // store the definition\n                    var _def = {\n                        def: root.jsPlumb.extend({}, p),\n                        uniqueEndpoint: p.uniqueEndpoint,\n                        maxConnections: maxConnections,\n                        enabled: true\n                    };\n                    elInfo.def = _def;\n                    this.targetEndpointDefinitions[elid][type] = _def;\n                    _makeElementDropHandler(elInfo, p, dropOptions, p.isSource === true, true);\n                    // stash the definition on the drop\n                    elInfo.el._katavorioDrop[elInfo.el._katavorioDrop.length - 1].targetDef = _def;\n\n                }.bind(this);\n\n            // make an array if only given one element\n            var inputs = el.length && el.constructor != String ? el : [ el ];\n\n            // register each one in the list.\n            for (var i = 0, ii = inputs.length; i < ii; i++) {\n                _doOne(inputs[i]);\n            }\n\n            return this;\n        };\n\n        // see api docs\n        this.unmakeTarget = function (el, doNotClearArrays) {\n            var info = _info(el);\n            _currentInstance.destroyDroppable(info.el, \"internal\");\n            if (!doNotClearArrays) {\n                delete this.targetEndpointDefinitions[info.id];\n            }\n\n            return this;\n        };\n\n        // see api docs\n        this.makeSource = function (el, params, referenceParams) {\n            var p = root.jsPlumb.extend({_jsPlumb: this}, referenceParams);\n            root.jsPlumb.extend(p, params);\n            var type = p.connectionType || \"default\";\n            var aae = _currentInstance.deriveEndpointAndAnchorSpec(type);\n            p.endpoint = p.endpoint || aae.endpoints[0];\n            p.anchor = p.anchor || aae.anchors[0];\n            _setEndpointPaintStylesAndAnchor(p, 0, this);\n            var maxConnections = p.maxConnections || -1,\n                onMaxConnections = p.onMaxConnections,\n                _doOne = function (elInfo) {\n                    // get the element's id and store the endpoint definition for it.  jsPlumb.connect calls will look for one of these,\n                    // and use the endpoint definition if found.\n                    var elid = elInfo.id,\n                        _del = this.getElement(elInfo.el);\n\n                    this.sourceEndpointDefinitions[elid] = this.sourceEndpointDefinitions[elid] || {};\n                    _ensureContainer(elid);\n\n                    var _def = {\n                        def:root.jsPlumb.extend({}, p),\n                        uniqueEndpoint: p.uniqueEndpoint,\n                        maxConnections: maxConnections,\n                        enabled: true\n                    };\n\n\n                    this.sourceEndpointDefinitions[elid][type] = _def;\n                    elInfo.def = _def;\n\n                    var stopEvent = root.jsPlumb.dragEvents.stop,\n                        dragEvent = root.jsPlumb.dragEvents.drag,\n                        dragOptions = root.jsPlumb.extend({ }, p.dragOptions || {}),\n                        existingDrag = dragOptions.drag,\n                        existingStop = dragOptions.stop,\n                        ep = null,\n                        endpointAddedButNoDragYet = false;\n\n                    // set scope if its not set in dragOptions but was passed in in params\n                    dragOptions.scope = dragOptions.scope || p.scope;\n\n                    dragOptions[dragEvent] = _ju.wrap(dragOptions[dragEvent], function () {\n                        if (existingDrag) existingDrag.apply(this, arguments);\n                        endpointAddedButNoDragYet = false;\n                    });\n\n                    dragOptions[stopEvent] = _ju.wrap(dragOptions[stopEvent], function () {\n\n                        if (existingStop) existingStop.apply(this, arguments);\n                        this.currentlyDragging = false;\n                        if (ep._jsPlumb != null) { // if not cleaned up...\n\n                            // reset the anchor to the anchor that was initially provided. the one we were using to drag\n                            // the connection was just a placeholder that was located at the place the user pressed the\n                            // mouse button to initiate the drag.\n                            var anchorDef = p.anchor || this.Defaults.Anchor,\n                                oldAnchor = ep.anchor,\n                                oldConnection = ep.connections[0];\n\n                            var    newAnchor = this.makeAnchor(anchorDef, elid, this),\n                                _el = ep.element;\n\n                            // if the anchor has a 'positionFinder' set, then delegate to that function to find\n                            // out where to locate the anchor. issue 117.\n                            if (newAnchor.positionFinder != null) {\n                                var elPosition = _currentInstance.getOffset(_el),\n                                    elSize = this.getSize(_el),\n                                    dropPosition = { left: elPosition.left + (oldAnchor.x * elSize[0]), top: elPosition.top + (oldAnchor.y * elSize[1]) },\n                                    ap = newAnchor.positionFinder(dropPosition, elPosition, elSize, newAnchor.constructorParams);\n\n                                newAnchor.x = ap[0];\n                                newAnchor.y = ap[1];\n                            }\n\n                            ep.setAnchor(newAnchor, true);\n                            ep.repaint();\n                            this.repaint(ep.elementId);\n                            if (oldConnection != null) this.repaint(oldConnection.targetId);\n                        }\n                    }.bind(this));\n\n                    // when the user presses the mouse, add an Endpoint, if we are enabled.\n                    var mouseDownListener = function (e) {\n                        // on right mouse button, abort.\n                        if (e.which === 3 || e.button === 2) return;\n\n                        // TODO store def on element.\n                        var def = this.sourceEndpointDefinitions[elid][type];\n\n                        // if disabled, return.\n                        if (!def.enabled) return;\n\n                        elid = this.getId(this.getElement(elInfo.el)); // elid might have changed since this method was called to configure the element.\n\n                        // if a filter was given, run it, and return if it says no.\n                        if (p.filter) {\n                            var r = _ju.isString(p.filter) ? selectorFilter(e, elInfo.el, p.filter, this, p.filterExclude) : p.filter(e, elInfo.el);\n                            if (r === false) return;\n                        }\n\n                        // if maxConnections reached\n                        var sourceCount = this.select({source: elid}).length;\n                        if (def.maxConnections >= 0 && (sourceCount >= def.maxConnections)) {\n                            if (onMaxConnections) {\n                                onMaxConnections({\n                                    element: elInfo.el,\n                                    maxConnections: maxConnections\n                                }, e);\n                            }\n                            return false;\n                        }\n\n                        // find the position on the element at which the mouse was pressed; this is where the endpoint\n                        // will be located.\n                        var elxy = root.jsPlumb.getPositionOnElement(e, _del, _zoom);\n\n                        // we need to override the anchor in here, and force 'isSource', but we don't want to mess with\n                        // the params passed in, because after a connection is established we're going to reset the endpoint\n                        // to have the anchor we were given.\n                        var tempEndpointParams = {};\n                        root.jsPlumb.extend(tempEndpointParams, p);\n                        tempEndpointParams.isTemporarySource = true;\n                        tempEndpointParams.anchor = [ elxy[0], elxy[1] , 0, 0];\n                        tempEndpointParams.dragOptions = dragOptions;\n\n                        if (def.def.scope) tempEndpointParams.scope = def.def.scope;\n\n                        ep = this.addEndpoint(elid, tempEndpointParams);\n                        endpointAddedButNoDragYet = true;\n                        ep._doNotDeleteOnDetach = false; // reset.\n                        ep._deleteOnDetach = true;\n\n                        // if unique endpoint and it's already been created, push it onto the endpoint we create. at the end\n                        // of a successful connection we'll switch to that endpoint.\n                        // TODO this is the same code as the programmatic endpoints create on line 1050 ish\n                        if (def.uniqueEndpoint) {\n                            if (!def.endpoint) {\n                                def.endpoint = ep;\n                                ep._deleteOnDetach = false;\n                                ep._doNotDeleteOnDetach = true;\n                            }\n                            else\n                                ep.finalEndpoint = def.endpoint;\n                        }\n\n                        var _delTempEndpoint = function () {\n                            // this mouseup event is fired only if no dragging occurred, by jquery and yui, but for mootools\n                            // it is fired even if dragging has occurred, in which case we would blow away a perfectly\n                            // legitimate endpoint, were it not for this check.  the flag is set after adding an\n                            // endpoint and cleared in a drag listener we set in the dragOptions above.\n                            _currentInstance.off(ep.canvas, \"mouseup\", _delTempEndpoint);\n                            _currentInstance.off(elInfo.el, \"mouseup\", _delTempEndpoint);\n                            if (endpointAddedButNoDragYet) {\n                                endpointAddedButNoDragYet = false;\n                                _currentInstance.deleteEndpoint(ep);\n                            }\n                        };\n\n                        _currentInstance.on(ep.canvas, \"mouseup\", _delTempEndpoint);\n                        _currentInstance.on(elInfo.el, \"mouseup\", _delTempEndpoint);\n\n                        // optionally check for attributes to extract from the source element\n                        var payload = {};\n                        if (def.def.extract) {\n                            for (var att in def.def.extract) {\n                                var v = (e.srcElement || e.target).getAttribute(att);\n                                if (v) {\n                                    payload[def.def.extract[att]] = v;\n                                }\n                            }\n                        }\n\n                        // and then trigger its mousedown event, which will kick off a drag, which will start dragging\n                        // a new connection from this endpoint.\n                        _currentInstance.trigger(ep.canvas, \"mousedown\", e, payload);\n\n                        _ju.consume(e);\n\n                    }.bind(this);\n\n                    this.on(elInfo.el, \"mousedown\", mouseDownListener);\n                    _def.trigger = mouseDownListener;\n\n                    // if a filter was provided, set it as a dragFilter on the element,\n                    // to prevent the element drag function from kicking in when we want to\n                    // drag a new connection\n                    if (p.filter && (_ju.isString(p.filter) || _ju.isFunction(p.filter))) {\n                        _currentInstance.setDragFilter(elInfo.el, p.filter);\n                    }\n\n                    var dropOptions = root.jsPlumb.extend({}, p.dropOptions || {});\n\n                    _makeElementDropHandler(elInfo, p, dropOptions, true, p.isTarget === true);\n\n                }.bind(this);\n\n            var inputs = el.length && el.constructor != String ? el : [ el ];\n            for (var i = 0, ii = inputs.length; i < ii; i++) {\n                _doOne(_info(inputs[i]));\n            }\n\n            return this;\n        };\n\n        // see api docs\n        this.unmakeSource = function (el, connectionType, doNotClearArrays) {\n            var info = _info(el);\n            _currentInstance.destroyDroppable(info.el, \"internal\");\n            var eldefs = this.sourceEndpointDefinitions[info.id];\n            if (eldefs) {\n                for (var def in eldefs) {\n                    if (connectionType == null || connectionType === def) {\n                        var mouseDownListener = eldefs[def].trigger;\n                        if (mouseDownListener)\n                            _currentInstance.off(info.el, \"mousedown\", mouseDownListener);\n                        if (!doNotClearArrays) {\n                            delete this.sourceEndpointDefinitions[info.id][def];\n                        }\n                    }\n                }\n            }\n\n            return this;\n        };\n\n        // see api docs\n        this.unmakeEverySource = function () {\n            for (var i in this.sourceEndpointDefinitions)\n                _currentInstance.unmakeSource(i, null, true);\n\n            this.sourceEndpointDefinitions = {};\n            return this;\n        };\n\n        var _getScope = function (el, types, connectionType) {\n            types = _ju.isArray(types) ? types : [ types ];\n            var id = _getId(el);\n            connectionType = connectionType || \"default\";\n            for (var i = 0; i < types.length; i++) {\n                var eldefs = this[types[i]][id];\n                if (eldefs && eldefs[connectionType]) return eldefs[connectionType].def.scope || this.Defaults.Scope;\n            }\n        }.bind(this);\n\n        var _setScope = function (el, scope, types, connectionType) {\n            types = _ju.isArray(types) ? types : [ types ];\n            var id = _getId(el);\n            connectionType = connectionType || \"default\";\n            for (var i = 0; i < types.length; i++) {\n                var eldefs = this[types[i]][id];\n                if (eldefs && eldefs[connectionType]) {\n                    eldefs[connectionType].def.scope = scope;\n                }\n            }\n\n        }.bind(this);\n\n        this.getScope = function (el, scope) {\n            return _getScope(el, [ \"sourceEndpointDefinitions\", \"targetEndpointDefinitions\" ]);\n        };\n        this.getSourceScope = function (el) {\n            return _getScope(el, \"sourceEndpointDefinitions\");\n        };\n        this.getTargetScope = function (el) {\n            return _getScope(el, \"targetEndpointDefinitions\");\n        };\n        this.setScope = function (el, scope, connectionType) {\n            this.setSourceScope(el, scope, connectionType);\n            this.setTargetScope(el, scope, connectionType);\n        };\n        this.setSourceScope = function (el, scope, connectionType) {\n            _setScope(el, scope, \"sourceEndpointDefinitions\", connectionType);\n            // we get the source scope during the mousedown event, but we also want to set this.\n            this.setDragScope(el, scope);\n        };\n        this.setTargetScope = function (el, scope, connectionType) {\n            _setScope(el, scope, \"targetEndpointDefinitions\", connectionType);\n            this.setDropScope(el, scope);\n        };\n\n        // see api docs\n        this.unmakeEveryTarget = function () {\n            for (var i in this.targetEndpointDefinitions)\n                _currentInstance.unmakeTarget(i, true);\n\n            this.targetEndpointDefinitions = {};\n            return this;\n        };\n\n        // does the work of setting a source enabled or disabled.\n        var _setEnabled = function (type, el, state, toggle, connectionType) {\n            var a = type == \"source\" ? this.sourceEndpointDefinitions : this.targetEndpointDefinitions,\n                originalState, info, newState;\n\n            connectionType = connectionType || \"default\";\n\n            // a selector or an array\n            if (el.length && !_ju.isString(el)) {\n                originalState = [];\n                for (var i = 0, ii = el.length; i < ii; i++) {\n                    info = _info(el[i]);\n                    if (a[info.id] && a[info.id][connectionType]) {\n                        originalState[i] = a[info.id][connectionType].enabled;\n                        newState = toggle ? !originalState[i] : state;\n                        a[info.id][connectionType].enabled = newState;\n                        _currentInstance[newState ? \"removeClass\" : \"addClass\"](info.el, \"jtk-\" + type + \"-disabled\");\n                    }\n                }\n            }\n            // otherwise a DOM element or a String ID.\n            else {\n                info = _info(el);\n                var id = info.id;\n                if (a[id] && a[id][connectionType]) {\n                    originalState = a[id][connectionType].enabled;\n                    newState = toggle ? !originalState : state;\n                    a[id][connectionType].enabled = newState;\n                    _currentInstance[newState ? \"removeClass\" : \"addClass\"](info.el, \"jtk-\" + type + \"-disabled\");\n                }\n            }\n            return originalState;\n        }.bind(this);\n\n        var _first = function (el, fn) {\n            if (_ju.isString(el) || !el.length)\n                return fn.apply(this, [ el ]);\n            else if (el.length)\n                return fn.apply(this, [ el[0] ]);\n\n        }.bind(this);\n\n        this.toggleSourceEnabled = function (el, connectionType) {\n            _setEnabled(\"source\", el, null, true, connectionType);\n            return this.isSourceEnabled(el, connectionType);\n        };\n\n        this.setSourceEnabled = function (el, state, connectionType) {\n            return _setEnabled(\"source\", el, state, null, connectionType);\n        };\n        this.isSource = function (el, connectionType) {\n            connectionType = connectionType || \"default\";\n            return _first(el, function (_el) {\n                var eldefs = this.sourceEndpointDefinitions[_info(_el).id];\n                return eldefs != null && eldefs[connectionType] != null;\n            }.bind(this));\n        };\n        this.isSourceEnabled = function (el, connectionType) {\n            connectionType = connectionType || \"default\";\n            return _first(el, function (_el) {\n                var sep = this.sourceEndpointDefinitions[_info(_el).id];\n                return sep && sep[connectionType] && sep[connectionType].enabled === true;\n            }.bind(this));\n        };\n\n        this.toggleTargetEnabled = function (el, connectionType) {\n            _setEnabled(\"target\", el, null, true, connectionType);\n            return this.isTargetEnabled(el, connectionType);\n        };\n\n        this.isTarget = function (el, connectionType) {\n            connectionType = connectionType || \"default\";\n            return _first(el, function (_el) {\n                var eldefs = this.targetEndpointDefinitions[_info(_el).id];\n                return eldefs != null && eldefs[connectionType] != null;\n            }.bind(this));\n        };\n        this.isTargetEnabled = function (el, connectionType) {\n            connectionType = connectionType || \"default\";\n            return _first(el, function (_el) {\n                var tep = this.targetEndpointDefinitions[_info(_el).id];\n                return tep && tep[connectionType] && tep[connectionType].enabled === true;\n            }.bind(this));\n        };\n        this.setTargetEnabled = function (el, state, connectionType) {\n            return _setEnabled(\"target\", el, state, null, connectionType);\n        };\n\n// --------------------- end makeSource/makeTarget ---------------------------------------------- \t\t\t\t\n\n        this.ready = function (fn) {\n            _currentInstance.bind(\"ready\", fn);\n        };\n\n        var _elEach = function(el, fn) {\n            // support both lists...\n            if (typeof el == 'object' && el.length)\n                for (var i = 0, ii = el.length; i < ii; i++) {\n                    fn(el[i]);\n                }\n            else // ...and single strings or elements.\n                fn(el);\n\n            return _currentInstance;\n        };\n\n        // repaint some element's endpoints and connections\n        this.repaint = function (el, ui, timestamp) {\n            return _elEach(el, function(_el) {\n                _draw(_el, ui, timestamp);\n            });\n        };\n\n        this.revalidate = function (el, timestamp, isIdAlready) {\n            return _elEach(el, function(_el) {\n                var elId = isIdAlready ? _el : _currentInstance.getId(_el);\n                _currentInstance.updateOffset({ elId: elId, recalc: true, timestamp:timestamp });\n                _currentInstance.repaint(_el);\n            });\n        };\n\n        // repaint every endpoint and connection.\n        this.repaintEverything = function () {\n            // TODO this timestamp causes continuous anchors to not repaint properly.\n            // fix this. do not just take out the timestamp. it runs a lot faster with\n            // the timestamp included.\n            var timestamp = _timestamp(), elId;\n\n            for (elId in endpointsByElement) {\n                _currentInstance.updateOffset({ elId: elId, recalc: true, timestamp: timestamp });\n            }\n\n            for (elId in endpointsByElement) {\n                _draw(elId, null, timestamp);\n            }\n\n            return this;\n        };\n\n        this.removeAllEndpoints = function (el, recurse, affectedElements) {\n            affectedElements = affectedElements || [];\n            var _one = function (_el) {\n                var info = _info(_el),\n                    ebe = endpointsByElement[info.id],\n                    i, ii;\n\n                if (ebe) {\n                    affectedElements.push(info);\n                    for (i = 0, ii = ebe.length; i < ii; i++)\n                        _currentInstance.deleteEndpoint(ebe[i], false);\n                }\n                delete endpointsByElement[info.id];\n\n                if (recurse) {\n                    if (info.el && info.el.nodeType != 3 && info.el.nodeType != 8) {\n                        for (i = 0, ii = info.el.childNodes.length; i < ii; i++) {\n                            _one(info.el.childNodes[i]);\n                        }\n                    }\n                }\n\n            };\n            _one(el);\n            return this;\n        };\n\n        var _doRemove = function(info, affectedElements) {\n            _currentInstance.removeAllEndpoints(info.id, true, affectedElements);\n            var _one = function(_info) {\n                _currentInstance.getDragManager().elementRemoved(_info.id);\n                _currentInstance.anchorManager.clearFor(_info.id);\n                _currentInstance.anchorManager.removeFloatingConnection(_info.id);\n\n                if (_currentInstance.isSource(_info.el)) _currentInstance.unmakeSource(_info.el);\n                if (_currentInstance.isTarget(_info.el)) _currentInstance.unmakeTarget(_info.el);\n                _currentInstance.destroyDraggable(_info.el);\n                _currentInstance.destroyDroppable(_info.el);\n\n\n                delete _currentInstance.floatingConnections[_info.id];\n                delete managedElements[_info.id];\n                delete offsets[_info.id];\n                if (_info.el) {\n                    _currentInstance.removeElement(_info.el);\n                    _info.el._jsPlumb = null;\n                }\n            };\n\n            // remove all affected child elements\n            for (var ae = 1; ae < affectedElements.length; ae++) {\n                _one(affectedElements[ae]);\n            }\n            // and always remove the requested one from the dom.\n            _one(info);\n        };\n\n        /**\n         * Remove the given element, including cleaning up all endpoints registered for it.\n         * This is exposed in the public API but also used internally by jsPlumb when removing the\n         * element associated with a connection drag.\n         */\n        this.remove = function (el, doNotRepaint) {\n            var info = _info(el), affectedElements = [];\n            if (info.text) {\n                info.el.parentNode.removeChild(info.el);\n            }\n            else if (info.id) {\n                _currentInstance.batch(function () {\n                    _doRemove(info, affectedElements);\n                }, doNotRepaint === false);\n            }\n            return _currentInstance;\n        };\n\n        this.empty = function (el, doNotRepaint) {\n            var affectedElements = [];\n            var _one = function(el, dontRemoveFocus) {\n                var info = _info(el);\n                if (info.text) {\n                    info.el.parentNode.removeChild(info.el);\n                }\n                else if (info.el) {\n                    while(info.el.childNodes.length > 0) {\n                        _one(info.el.childNodes[0]);\n                    }\n                    if (!dontRemoveFocus) _doRemove(info, affectedElements);\n                }\n            };\n\n            _currentInstance.batch(function() {\n                _one(el, true);\n            }, doNotRepaint === false);\n\n            return _currentInstance;\n        };\n\n        this.reset = function () {\n            _currentInstance.silently(function() {\n                _hoverSuspended = false;\n                _currentInstance.removeAllGroups();\n                _currentInstance.removeGroupManager();\n                _currentInstance.deleteEveryEndpoint();\n                _currentInstance.unbind();\n                this.targetEndpointDefinitions = {};\n                this.sourceEndpointDefinitions = {};\n                connections.length = 0;\n                if (this.doReset) this.doReset();\n            }.bind(this));\n        };\n\n        var _clearObject = function (obj) {\n            if (obj.canvas && obj.canvas.parentNode)\n                obj.canvas.parentNode.removeChild(obj.canvas);\n            obj.cleanup();\n            obj.destroy();\n        };\n\n        this.clear = function () {\n            _currentInstance.select().each(_clearObject);\n            _currentInstance.selectEndpoints().each(_clearObject);\n\n            endpointsByElement = {};\n            endpointsByUUID = {};\n        };\n\n        this.setDefaultScope = function (scope) {\n            DEFAULT_SCOPE = scope;\n            return _currentInstance;\n        };\n\n        // sets whether or not some element should be currently draggable.\n        this.setDraggable = _setDraggable;\n\n        this.deriveEndpointAndAnchorSpec = function(type, dontPrependDefault) {\n            var bits = ((dontPrependDefault ? \"\" : \"default \") + type).split(/[\\s]/), eps = null, ep = null, a = null, as = null;\n            for (var i = 0; i < bits.length; i++) {\n                var _t = _currentInstance.getType(bits[i], \"connection\");\n                if (_t) {\n                    if (_t.endpoints) eps = _t.endpoints;\n                    if (_t.endpoint) ep = _t.endpoint;\n                    if (_t.anchors) as = _t.anchors;\n                    if (_t.anchor) a = _t.anchor;\n                }\n            }\n            return { endpoints: eps ? eps : [ ep, ep ], anchors: as ? as : [a, a ]};\n        };\n\n        // sets the id of some element, changing whatever we need to to keep track.\n        this.setId = function (el, newId, doNotSetAttribute) {\n            //\n            var id;\n\n            if (_ju.isString(el)) {\n                id = el;\n            }\n            else {\n                el = this.getElement(el);\n                id = this.getId(el);\n            }\n\n            var sConns = this.getConnections({source: id, scope: '*'}, true),\n                tConns = this.getConnections({target: id, scope: '*'}, true);\n\n            newId = \"\" + newId;\n\n            if (!doNotSetAttribute) {\n                el = this.getElement(id);\n                this.setAttribute(el, \"id\", newId);\n            }\n            else\n                el = this.getElement(newId);\n\n            endpointsByElement[newId] = endpointsByElement[id] || [];\n            for (var i = 0, ii = endpointsByElement[newId].length; i < ii; i++) {\n                endpointsByElement[newId][i].setElementId(newId);\n                endpointsByElement[newId][i].setReferenceElement(el);\n            }\n            delete endpointsByElement[id];\n\n            this.sourceEndpointDefinitions[newId] = this.sourceEndpointDefinitions[id];\n            delete this.sourceEndpointDefinitions[id];\n            this.targetEndpointDefinitions[newId] = this.targetEndpointDefinitions[id];\n            delete this.targetEndpointDefinitions[id];\n\n            this.anchorManager.changeId(id, newId);\n            this.getDragManager().changeId(id, newId);\n            managedElements[newId] = managedElements[id];\n            delete managedElements[id];\n\n            var _conns = function (list, epIdx, type) {\n                for (var i = 0, ii = list.length; i < ii; i++) {\n                    list[i].endpoints[epIdx].setElementId(newId);\n                    list[i].endpoints[epIdx].setReferenceElement(el);\n                    list[i][type + \"Id\"] = newId;\n                    list[i][type] = el;\n                }\n            };\n            _conns(sConns, 0, \"source\");\n            _conns(tConns, 1, \"target\");\n\n            this.repaint(newId);\n        };\n\n        this.setDebugLog = function (debugLog) {\n            log = debugLog;\n        };\n\n        this.setSuspendDrawing = function (val, repaintAfterwards) {\n            var curVal = _suspendDrawing;\n            _suspendDrawing = val;\n            if (val) _suspendedAt = new Date().getTime(); else _suspendedAt = null;\n            if (repaintAfterwards) this.repaintEverything();\n            return curVal;\n        };\n\n        // returns whether or not drawing is currently suspended.\n        this.isSuspendDrawing = function () {\n            return _suspendDrawing;\n        };\n\n        // return timestamp for when drawing was suspended.\n        this.getSuspendedAt = function () {\n            return _suspendedAt;\n        };\n\n        this.batch = function (fn, doNotRepaintAfterwards) {\n            var _wasSuspended = this.isSuspendDrawing();\n            if (!_wasSuspended)\n                this.setSuspendDrawing(true);\n            try {\n                fn();\n            }\n            catch (e) {\n                _ju.log(\"Function run while suspended failed\", e);\n            }\n            if (!_wasSuspended)\n                this.setSuspendDrawing(false, !doNotRepaintAfterwards);\n        };\n\n        this.doWhileSuspended = this.batch;\n\n        this.getCachedData = _getCachedData;\n        this.timestamp = _timestamp;\n        this.show = function (el, changeEndpoints) {\n            _setVisible(el, \"block\", changeEndpoints);\n            return _currentInstance;\n        };\n\n        // TODO: update this method to return the current state.\n        this.toggleVisible = _toggleVisible;\n        this.toggleDraggable = _toggleDraggable;\n        this.addListener = this.bind;\n    };\n\n    _ju.extend(root.jsPlumbInstance, _ju.EventGenerator, {\n        setAttribute: function (el, a, v) {\n            this.setAttribute(el, a, v);\n        },\n        getAttribute: function (el, a) {\n            return this.getAttribute(root.jsPlumb.getElement(el), a);\n        },\n        convertToFullOverlaySpec: function(spec) {\n            if (_ju.isString(spec)) {\n                spec = [ spec, { } ];\n            }\n            spec[1].id = spec[1].id || _ju.uuid();\n            return spec;\n        },\n        registerConnectionType: function (id, type) {\n            this._connectionTypes[id] = root.jsPlumb.extend({}, type);\n            if (type.overlays) {\n                var to = {};\n                for (var i = 0; i < type.overlays.length; i++) {\n                    // if a string, convert to object representation so that we can store the typeid on it.\n                    // also assign an id.\n                    var fo = this.convertToFullOverlaySpec(type.overlays[i]);\n                    to[fo[1].id] = fo;\n                }\n                this._connectionTypes[id].overlays = to;\n            }\n        },\n        registerConnectionTypes: function (types) {\n            for (var i in types)\n                this.registerConnectionType(i, types[i]);\n        },\n        registerEndpointType: function (id, type) {\n            this._endpointTypes[id] = root.jsPlumb.extend({}, type);\n            if (type.overlays) {\n                var to = {};\n                for (var i = 0; i < type.overlays.length; i++) {\n                    // if a string, convert to object representation so that we can store the typeid on it.\n                    // also assign an id.\n                    var fo = this.convertToFullOverlaySpec(type.overlays[i]);\n                    to[fo[1].id] = fo;\n                }\n                this._endpointTypes[id].overlays = to;\n            }\n        },\n        registerEndpointTypes: function (types) {\n            for (var i in types)\n                //this._endpointTypes[i] = jsPlumb.extend({}, types[i]);\n                this.registerEndpointType(i, types[i]);\n        },\n        getType: function (id, typeDescriptor) {\n            return typeDescriptor === \"connection\" ? this._connectionTypes[id] : this._endpointTypes[id];\n        },\n        setIdChanged: function (oldId, newId) {\n            this.setId(oldId, newId, true);\n        },\n        // set parent: change the parent for some node and update all the registrations we need to.\n        setParent: function (el, newParent) {\n            var _dom = this.getElement(el),\n                _id = this.getId(_dom),\n                _pdom = this.getElement(newParent),\n                _pid = this.getId(_pdom);\n\n            _dom.parentNode.removeChild(_dom);\n            _pdom.appendChild(_dom);\n            this.getDragManager().setParent(_dom, _id, _pdom, _pid);\n        },\n        extend: function (o1, o2, names) {\n            var i;\n            if (names) {\n                for (i = 0; i < names.length; i++)\n                    o1[names[i]] = o2[names[i]];\n            }\n            else\n                for (i in o2) o1[i] = o2[i];\n            return o1;\n        },\n        floatingConnections: {},\n        getFloatingAnchorIndex: function (jpc) {\n            return jpc.endpoints[0].isFloating() ? 0 : jpc.endpoints[1].isFloating() ? 1 : -1;\n        }\n    });\n\n    jsPlumbInstance.prototype.Defaults = {\n        Anchor: \"Bottom\",\n        Anchors: [ null, null ],\n        ConnectionsDetachable: true,\n        ConnectionOverlays: [ ],\n        Connector: \"Bezier\",\n        Container: null,\n        DoNotThrowErrors: false,\n        DragOptions: { },\n        DropOptions: { },\n        Endpoint: \"Dot\",\n        EndpointOverlays: [ ],\n        Endpoints: [ null, null ],\n        EndpointStyle: { fill: \"#456\" },\n        EndpointStyles: [ null, null ],\n        EndpointHoverStyle: null,\n        EndpointHoverStyles: [ null, null ],\n        HoverPaintStyle: null,\n        LabelStyle: { color: \"black\" },\n        LogEnabled: false,\n        Overlays: [ ],\n        MaxConnections: 1,\n        PaintStyle: { \"stroke-width\": 4, stroke: \"#456\" },\n        ReattachConnections: false,\n        RenderMode: \"svg\",\n        Scope: \"jsPlumb_DefaultScope\"\n    };\n\n// --------------------- static instance + module registration -------------------------------------------\n\n// create static instance and assign to window if window exists.\t\n    var jsPlumb = new jsPlumbInstance();\n    // register on 'root' (lets us run on server or browser)\n    root.jsPlumb = jsPlumb;\n    // add 'getInstance' method to static instance\n    jsPlumb.getInstance = function (_defaults, overrideFns) {\n        var j = new jsPlumbInstance(_defaults);\n        if (overrideFns) {\n            for (var ovf in overrideFns) {\n                j[ovf] = overrideFns[ovf];\n            }\n        }\n        j.init();\n        return j;\n    };\n    jsPlumb.each = function (spec, fn) {\n        if (spec == null) return;\n        if (typeof spec === \"string\")\n            fn(jsPlumb.getElement(spec));\n        else if (spec.length != null) {\n            for (var i = 0; i < spec.length; i++)\n                fn(jsPlumb.getElement(spec[i]));\n        }\n        else\n            fn(spec); // assume it's an element.\n    };\n\n    // CommonJS\n    if (typeof exports !== 'undefined') {\n        exports.jsPlumb = jsPlumb;\n    }\n\n// --------------------- end static instance + AMD registration -------------------------------------------\t\t\n\n}).call(typeof window !== 'undefined' ? window : this);\n\n/*\n * jsPlumb\n *\n * Title:jsPlumb 2.3.0\n *\n * Provides a way to visually connect elements on an HTML page, using SVG.\n *\n * This file contains the base functionality for DOM type adapters.\n *\n * Copyright (c) 2010 - 2017 jsPlumb (hello@jsplumbtoolkit.com)\n *\n * http://jsplumbtoolkit.com\n * http://github.com/sporritt/jsplumb\n *\n * Dual licensed under the MIT and GPL2 licenses.\n */\n;\n(function () {\n\n    var root = this, _ju = root.jsPlumbUtil;\n\n    var _genLoc = function (prefix, e) {\n            if (e == null) return [ 0, 0 ];\n            var ts = _touches(e), t = _getTouch(ts, 0);\n            return [t[prefix + \"X\"], t[prefix + \"Y\"]];\n        },\n        _pageLocation = _genLoc.bind(this, \"page\"),\n        _screenLocation = _genLoc.bind(this, \"screen\"),\n        _clientLocation = _genLoc.bind(this, \"client\"),\n        _getTouch = function (touches, idx) {\n            return touches.item ? touches.item(idx) : touches[idx];\n        },\n        _touches = function (e) {\n            return e.touches && e.touches.length > 0 ? e.touches :\n                    e.changedTouches && e.changedTouches.length > 0 ? e.changedTouches :\n                    e.targetTouches && e.targetTouches.length > 0 ? e.targetTouches :\n                [ e ];\n        };\n\n    /**\n     Manages dragging for some instance of jsPlumb.\n\n     TODO instead of this being accessed directly, it should subscribe to events on the jsPlumb instance: every method\n     in here is called directly by jsPlumb. But what should happen is that we have unpublished events that this listens\n     to.  The only trick is getting one of these instantiated with every jsPlumb instance: it needs to have a hook somehow.\n     Basically the general idea is to pull ALL the drag code out (prototype method registrations plus this) into a\n     dedicated drag script), that does not necessarily need to be included.\n\n\n     */\n    var DragManager = function (_currentInstance) {\n        var _draggables = {}, _dlist = [], _delements = {}, _elementsWithEndpoints = {},\n        // elementids mapped to the draggable to which they belong.\n            _draggablesForElements = {};\n\n        /**\n         register some element as draggable.  right now the drag init stuff is done elsewhere, and it is\n         possible that will continue to be the case.\n         */\n        this.register = function (el) {\n            var id = _currentInstance.getId(el),\n                parentOffset = _currentInstance.getOffset(el);\n\n            if (!_draggables[id]) {\n                _draggables[id] = el;\n                _dlist.push(el);\n                _delements[id] = {};\n            }\n\n            // look for child elements that have endpoints and register them against this draggable.\n            var _oneLevel = function (p) {\n                if (p) {\n                    for (var i = 0; i < p.childNodes.length; i++) {\n                        if (p.childNodes[i].nodeType != 3 && p.childNodes[i].nodeType != 8) {\n                            var cEl = jsPlumb.getElement(p.childNodes[i]),\n                                cid = _currentInstance.getId(p.childNodes[i], null, true);\n                            if (cid && _elementsWithEndpoints[cid] && _elementsWithEndpoints[cid] > 0) {\n                                var cOff = _currentInstance.getOffset(cEl);\n                                _delements[id][cid] = {\n                                    id: cid,\n                                    offset: {\n                                        left: cOff.left - parentOffset.left,\n                                        top: cOff.top - parentOffset.top\n                                    }\n                                };\n                                _draggablesForElements[cid] = id;\n                            }\n                            _oneLevel(p.childNodes[i]);\n                        }\n                    }\n                }\n            };\n\n            _oneLevel(el);\n        };\n\n        // refresh the offsets for child elements of this element.\n        this.updateOffsets = function (elId, childOffsetOverrides) {\n            if (elId != null) {\n                childOffsetOverrides = childOffsetOverrides || {};\n                var domEl = jsPlumb.getElement(elId),\n                    id = _currentInstance.getId(domEl),\n                    children = _delements[id],\n                    parentOffset = _currentInstance.getOffset(domEl);\n\n                if (children) {\n                    for (var i in children) {\n                        if (children.hasOwnProperty(i)) {\n                            var cel = jsPlumb.getElement(i),\n                                cOff = childOffsetOverrides[i] || _currentInstance.getOffset(cel);\n\n                            // do not update if we have a value already and we'd just be writing 0,0\n                            if (cel.offsetParent == null && _delements[id][i] != null) continue;\n\n                            _delements[id][i] = {\n                                id: i,\n                                offset: {\n                                    left: cOff.left - parentOffset.left,\n                                    top: cOff.top - parentOffset.top\n                                }\n                            };\n                            _draggablesForElements[i] = id;\n                        }\n                    }\n                }\n            }\n        };\n\n        /**\n         notification that an endpoint was added to the given el.  we go up from that el's parent\n         node, looking for a parent that has been registered as a draggable. if we find one, we add this\n         el to that parent's list of elements to update on drag (if it is not there already)\n         */\n        this.endpointAdded = function (el, id) {\n\n            id = id || _currentInstance.getId(el);\n\n            var b = document.body,\n                p = el.parentNode;\n\n            _elementsWithEndpoints[id] = _elementsWithEndpoints[id] ? _elementsWithEndpoints[id] + 1 : 1;\n\n            while (p != null && p != b) {\n                var pid = _currentInstance.getId(p, null, true);\n                if (pid && _draggables[pid]) {\n                    var pLoc = _currentInstance.getOffset(p);\n\n                    if (_delements[pid][id] == null) {\n                        var cLoc = _currentInstance.getOffset(el);\n                        _delements[pid][id] = {\n                            id: id,\n                            offset: {\n                                left: cLoc.left - pLoc.left,\n                                top: cLoc.top - pLoc.top\n                            }\n                        };\n                        _draggablesForElements[id] = pid;\n                    }\n                    break;\n                }\n                p = p.parentNode;\n            }\n        };\n\n        this.endpointDeleted = function (endpoint) {\n            if (_elementsWithEndpoints[endpoint.elementId]) {\n                _elementsWithEndpoints[endpoint.elementId]--;\n                if (_elementsWithEndpoints[endpoint.elementId] <= 0) {\n                    for (var i in _delements) {\n                        if (_delements.hasOwnProperty(i) && _delements[i]) {\n                            delete _delements[i][endpoint.elementId];\n                            delete _draggablesForElements[endpoint.elementId];\n                        }\n                    }\n                }\n            }\n        };\n\n        this.changeId = function (oldId, newId) {\n            _delements[newId] = _delements[oldId];\n            _delements[oldId] = {};\n            _draggablesForElements[newId] = _draggablesForElements[oldId];\n            _draggablesForElements[oldId] = null;\n        };\n\n        this.getElementsForDraggable = function (id) {\n            return _delements[id];\n        };\n\n        this.elementRemoved = function (elementId) {\n            var elId = _draggablesForElements[elementId];\n            if (elId) {\n                delete _delements[elId][elementId];\n                delete _draggablesForElements[elementId];\n            }\n        };\n\n        this.reset = function () {\n            _draggables = {};\n            _dlist = [];\n            _delements = {};\n            _elementsWithEndpoints = {};\n        };\n\n        //\n        // notification drag ended. We check automatically if need to update some\n        // ancestor's offsets.\n        //\n        this.dragEnded = function (el) {\n            if (el.offsetParent != null) {\n                var id = _currentInstance.getId(el),\n                    ancestor = _draggablesForElements[id];\n\n                if (ancestor) this.updateOffsets(ancestor);\n            }\n        };\n\n        this.setParent = function (el, elId, p, pId, currentChildLocation) {\n            var current = _draggablesForElements[elId];\n            if (!_delements[pId]) {\n                _delements[pId] = {};\n            }\n            var pLoc = _currentInstance.getOffset(p),\n                cLoc = currentChildLocation || _currentInstance.getOffset(el);\n            if (current) {\n                delete _delements[current][elId];\n            }\n\n            _delements[pId][elId] = {\n                id:elId,\n                offset : {\n                    left: cLoc.left - pLoc.left,\n                    top: cLoc.top - pLoc.top\n                }\n            };\n            _draggablesForElements[elId] = pId;\n        };\n\n        this.clearParent = function(el, elId) {\n            var current = _draggablesForElements[elId];\n            if (current) {\n                delete _delements[current][elId];\n                delete _draggablesForElements[elId];\n            }\n        };\n\n        this.revalidateParent = function(el, elId, childOffset) {\n            var current = _draggablesForElements[elId];\n            if (current) {\n                var co = {};\n                co[elId] = childOffset;\n                this.updateOffsets(current, co);\n                _currentInstance.revalidate(current);\n            }\n        };\n\n        this.getDragAncestor = function (el) {\n            var de = jsPlumb.getElement(el),\n                id = _currentInstance.getId(de),\n                aid = _draggablesForElements[id];\n\n            if (aid)\n                return jsPlumb.getElement(aid);\n            else\n                return null;\n        };\n\n    };\n\n    var trim = function (str) {\n            return str == null ? null : (str.replace(/^\\s\\s*/, '').replace(/\\s\\s*$/, ''));\n        },\n        _setClassName = function (el, cn) {\n            cn = trim(cn);\n            if (typeof el.className.baseVal != \"undefined\")  // SVG\n                el.className.baseVal = cn;\n            else\n                el.className = cn;\n        },\n        _getClassName = function (el) {\n            return (typeof el.className.baseVal == \"undefined\") ? el.className : el.className.baseVal;\n        },\n        _classManip = function (el, classesToAdd, classesToRemove) {\n            classesToAdd = classesToAdd == null ? [] : _ju.isArray(classesToAdd) ? classesToAdd : classesToAdd.split(/\\s+/);\n            classesToRemove = classesToRemove == null ? [] : _ju.isArray(classesToRemove) ? classesToRemove : classesToRemove.split(/\\s+/);\n\n            var className = _getClassName(el),\n                curClasses = className.split(/\\s+/);\n\n            var _oneSet = function (add, classes) {\n                for (var i = 0; i < classes.length; i++) {\n                    if (add) {\n                        if (curClasses.indexOf(classes[i]) == -1)\n                            curClasses.push(classes[i]);\n                    }\n                    else {\n                        var idx = curClasses.indexOf(classes[i]);\n                        if (idx != -1)\n                            curClasses.splice(idx, 1);\n                    }\n                }\n            };\n\n            _oneSet(true, classesToAdd);\n            _oneSet(false, classesToRemove);\n\n            _setClassName(el, curClasses.join(\" \"));\n        };\n\n    root.jsPlumb.extend(root.jsPlumbInstance.prototype, {\n\n        headless: false,\n\n        pageLocation: _pageLocation,\n        screenLocation: _screenLocation,\n        clientLocation: _clientLocation,\n\n        getDragManager:function() {\n            if (this.dragManager == null)\n                this.dragManager = new DragManager(this);\n\n            return this.dragManager;\n        },\n\n        recalculateOffsets:function(elId) {\n            this.getDragManager().updateOffsets(elId);\n        },\n\n        createElement:function(tag, style, clazz, atts) {\n            return this.createElementNS(null, tag, style, clazz, atts);\n        },\n\n        createElementNS:function(ns, tag, style, clazz, atts) {\n            var e = ns == null ? document.createElement(tag) : document.createElementNS(ns, tag);\n            var i;\n            style = style || {};\n            for (i in style)\n                e.style[i] = style[i];\n\n            if (clazz)\n                e.className = clazz;\n\n            atts = atts || {};\n            for (i in atts)\n                e.setAttribute(i, \"\" + atts[i]);\n\n            return e;\n        },\n\n        getAttribute: function (el, attName) {\n            return el.getAttribute != null ? el.getAttribute(attName) : null;\n        },\n\n        setAttribute: function (el, a, v) {\n            if (el.setAttribute != null) el.setAttribute(a, v);\n        },\n\n        setAttributes: function (el, atts) {\n            for (var i in atts)\n                if (atts.hasOwnProperty(i)) el.setAttribute(i, atts[i]);\n        },\n        appendToRoot: function (node) {\n            document.body.appendChild(node);\n        },\n        getRenderModes: function () {\n            return [ \"svg\"  ];\n        },\n        getClass:_getClassName,\n        addClass: function (el, clazz) {\n            jsPlumb.each(el, function (e) {\n                _classManip(e, clazz);\n            });\n        },\n        hasClass: function (el, clazz) {\n            el = jsPlumb.getElement(el);\n            if (el.classList) return el.classList.contains(clazz);\n            else {\n                return _getClassName(el).indexOf(clazz) != -1;\n            }\n        },\n        removeClass: function (el, clazz) {\n            jsPlumb.each(el, function (e) {\n                _classManip(e, null, clazz);\n            });\n        },\n        updateClasses: function (el, toAdd, toRemove) {\n            jsPlumb.each(el, function (e) {\n                _classManip(e, toAdd, toRemove);\n            });\n        },\n        setClass: function (el, clazz) {\n            jsPlumb.each(el, function (e) {\n                _setClassName(e, clazz);\n            });\n        },\n        setPosition: function (el, p) {\n            el.style.left = p.left + \"px\";\n            el.style.top = p.top + \"px\";\n        },\n        getPosition: function (el) {\n            var _one = function (prop) {\n                var v = el.style[prop];\n                return v ? v.substring(0, v.length - 2) : 0;\n            };\n            return {\n                left: _one(\"left\"),\n                top: _one(\"top\")\n            };\n        },\n        getStyle:function(el, prop) {\n            if (typeof window.getComputedStyle !== 'undefined') {\n                return getComputedStyle(el, null).getPropertyValue(prop);\n            } else {\n                return el.currentStyle[prop];\n            }\n        },\n        getSelector: function (ctx, spec) {\n            var sel = null;\n            if (arguments.length == 1) {\n                sel = ctx.nodeType != null ? ctx : document.querySelectorAll(ctx);\n            }\n            else\n                sel = ctx.querySelectorAll(spec);\n\n            return sel;\n        },\n        getOffset:function(el, relativeToRoot, container) {\n            el = jsPlumb.getElement(el);\n            container = container || this.getContainer();\n            var out = {\n                    left: el.offsetLeft,\n                    top: el.offsetTop\n                },\n                op = (relativeToRoot  || (container != null && (el != container && el.offsetParent != container))) ?  el.offsetParent : null,\n                _maybeAdjustScroll = function(offsetParent) {\n                    if (offsetParent != null && offsetParent !== document.body && (offsetParent.scrollTop > 0 || offsetParent.scrollLeft > 0)) {\n                        out.left -= offsetParent.scrollLeft;\n                        out.top -= offsetParent.scrollTop;\n                    }\n                }.bind(this);\n\n            while (op != null) {\n                out.left += op.offsetLeft;\n                out.top += op.offsetTop;\n                _maybeAdjustScroll(op);\n                op = relativeToRoot ? op.offsetParent :\n                        op.offsetParent == container ? null : op.offsetParent;\n            }\n\n            // if container is scrolled and the element (or its offset parent) is not absolute or fixed, adjust accordingly.\n            if (container != null && !relativeToRoot && (container.scrollTop > 0 || container.scrollLeft > 0)) {\n                var pp = el.offsetParent != null ? this.getStyle(el.offsetParent, \"position\") : \"static\",\n                    p = this.getStyle(el, \"position\");\n                if (p !== \"absolute\" && p !== \"fixed\" && pp !== \"absolute\" && pp != \"fixed\") {\n                    out.left -= container.scrollLeft;\n                    out.top -= container.scrollTop;\n                }\n            }\n            return out;\n        },\n        //\n        // return x+y proportion of the given element's size corresponding to the location of the given event.\n        //\n        getPositionOnElement: function (evt, el, zoom) {\n            var box = typeof el.getBoundingClientRect !== \"undefined\" ? el.getBoundingClientRect() : { left: 0, top: 0, width: 0, height: 0 },\n                body = document.body,\n                docElem = document.documentElement,\n                scrollTop = window.pageYOffset || docElem.scrollTop || body.scrollTop,\n                scrollLeft = window.pageXOffset || docElem.scrollLeft || body.scrollLeft,\n                clientTop = docElem.clientTop || body.clientTop || 0,\n                clientLeft = docElem.clientLeft || body.clientLeft || 0,\n                pst = 0,\n                psl = 0,\n                top = box.top + scrollTop - clientTop + (pst * zoom),\n                left = box.left + scrollLeft - clientLeft + (psl * zoom),\n                cl = jsPlumb.pageLocation(evt),\n                w = box.width || (el.offsetWidth * zoom),\n                h = box.height || (el.offsetHeight * zoom),\n                x = (cl[0] - left) / w,\n                y = (cl[1] - top) / h;\n\n            return [ x, y ];\n        },\n\n        /**\n         * Gets the absolute position of some element as read from the left/top properties in its style.\n         * @method getAbsolutePosition\n         * @param {Element} el The element to retrieve the absolute coordinates from. **Note** this is a DOM element, not a selector from the underlying library.\n         * @return {Number[]} [left, top] pixel values.\n         */\n        getAbsolutePosition: function (el) {\n            var _one = function (s) {\n                var ss = el.style[s];\n                if (ss) return parseFloat(ss.substring(0, ss.length - 2));\n            };\n            return [ _one(\"left\"), _one(\"top\") ];\n        },\n\n        /**\n         * Sets the absolute position of some element by setting the left/top properties in its style.\n         * @method setAbsolutePosition\n         * @param {Element} el The element to set the absolute coordinates on. **Note** this is a DOM element, not a selector from the underlying library.\n         * @param {Number[]} xy x and y coordinates\n         * @param {Number[]} [animateFrom] Optional previous xy to animate from.\n         * @param {Object} [animateOptions] Options for the animation.\n         */\n        setAbsolutePosition: function (el, xy, animateFrom, animateOptions) {\n            if (animateFrom) {\n                this.animate(el, {\n                    left: \"+=\" + (xy[0] - animateFrom[0]),\n                    top: \"+=\" + (xy[1] - animateFrom[1])\n                }, animateOptions);\n            }\n            else {\n                el.style.left = xy[0] + \"px\";\n                el.style.top = xy[1] + \"px\";\n            }\n        },\n        /**\n         * gets the size for the element, in an array : [ width, height ].\n         */\n        getSize: function (el) {\n            return [ el.offsetWidth, el.offsetHeight ];\n        },\n        getWidth: function (el) {\n            return el.offsetWidth;\n        },\n        getHeight: function (el) {\n            return el.offsetHeight;\n        },\n        getRenderMode : function() { return \"svg\"; }\n\n    });\n}).call(typeof window !== 'undefined' ? window : this);\n\n/*\n * jsPlumb\n *\n * Title:jsPlumb 2.3.0\n *\n * Provides a way to visually connect elements on an HTML page, using SVG.\n *\n * This file contains code for components that support overlays.\n *\n * Copyright (c) 2010 - 2017 jsPlumb (hello@jsplumbtoolkit.com)\n *\n * http://jsplumbtoolkit.com\n * http://github.com/sporritt/jsplumb\n *\n * Dual licensed under the MIT and GPL2 licenses.\n */\n;(function() {\n\n    \"use strict\";\n    var root = this, _jp = root.jsPlumb, _ju = root.jsPlumbUtil;\n\n    // ------------------------------ BEGIN OverlayCapablejsPlumbUIComponent --------------------------------------------\n\n    var _internalLabelOverlayId = \"__label\",\n    // this is a shortcut helper method to let people add a label as\n    // overlay.\n        _makeLabelOverlay = function (component, params) {\n\n            var _params = {\n                    cssClass: params.cssClass,\n                    labelStyle: component.labelStyle,\n                    id: _internalLabelOverlayId,\n                    component: component,\n                    _jsPlumb: component._jsPlumb.instance  // TODO not necessary, since the instance can be accessed through the component.\n                },\n                mergedParams = _jp.extend(_params, params);\n\n            return new _jp.Overlays[component._jsPlumb.instance.getRenderMode()].Label(mergedParams);\n        },\n        _processOverlay = function (component, o) {\n            var _newOverlay = null;\n            if (_ju.isArray(o)) {\t// this is for the shorthand [\"Arrow\", { width:50 }] syntax\n                // there's also a three arg version:\n                // [\"Arrow\", { width:50 }, {location:0.7}]\n                // which merges the 3rd arg into the 2nd.\n                var type = o[0],\n                // make a copy of the object so as not to mess up anyone else's reference...\n                    p = _jp.extend({component: component, _jsPlumb: component._jsPlumb.instance}, o[1]);\n                if (o.length == 3) _jp.extend(p, o[2]);\n                _newOverlay = new _jp.Overlays[component._jsPlumb.instance.getRenderMode()][type](p);\n            } else if (o.constructor == String) {\n                _newOverlay = new _jp.Overlays[component._jsPlumb.instance.getRenderMode()][o]({component: component, _jsPlumb: component._jsPlumb.instance});\n            } else {\n                _newOverlay = o;\n            }\n\n            _newOverlay.id = _newOverlay.id || _ju.uuid();\n            component.cacheTypeItem(\"overlay\", _newOverlay, _newOverlay.id);\n            //component._jsPlumb.overlays.push(_newOverlay);\n            component._jsPlumb.overlays[_newOverlay.id] = _newOverlay;\n\n            return _newOverlay;\n        };\n\n    _jp.OverlayCapableJsPlumbUIComponent = function (params) {\n\n        root.jsPlumbUIComponent.apply(this, arguments);\n        this._jsPlumb.overlays = {};\n        this._jsPlumb.overlayPositions = {};\n\n        if (params.label) {\n            this.getDefaultType().overlays[_internalLabelOverlayId] = [\"Label\", {\n                label: params.label,\n                location: params.labelLocation || this.defaultLabelLocation || 0.5,\n                labelStyle: params.labelStyle || this._jsPlumb.instance.Defaults.LabelStyle,\n                id:_internalLabelOverlayId\n            }];\n        }\n\n        this.setListenerComponent = function (c) {\n            if (this._jsPlumb) {\n                for (var i in this._jsPlumb.overlays)\n                    this._jsPlumb.overlays[i].setListenerComponent(c);\n            }\n        };\n    };\n\n    _jp.OverlayCapableJsPlumbUIComponent.applyType = function (component, t) {\n        if (t.overlays) {\n            // loop through the ones in the type. if already present on the component,\n            // dont remove or re-add.\n            var keep = {}, i;\n\n            for (i in t.overlays) {\n\n                var existing = component._jsPlumb.overlays[t.overlays[i][1].id];\n                if (existing) {\n                    // maybe update from data, if there were parameterised values for instance.\n                    existing.updateFrom(t.overlays[i][1]);\n                    keep[t.overlays[i][1].id] = true;\n                }\n                else {\n                    var c = component.getCachedTypeItem(\"overlay\", t.overlays[i][1].id);\n                    if (c != null) {\n                        c.reattach(component._jsPlumb.instance);\n                        c.setVisible(true);\n                        // maybe update from data, if there were parameterised values for instance.\n                        c.updateFrom(t.overlays[i][1]);\n                        component._jsPlumb.overlays[c.id] = c;\n                    }\n                    else {\n                        c = component.addOverlay(t.overlays[i], true);\n                    }\n                    keep[c.id] = true;\n                }\n            }\n\n            // now loop through the full overlays and remove those that we dont want to keep\n            for (i in component._jsPlumb.overlays) {\n                if (keep[component._jsPlumb.overlays[i].id] == null)\n                    component.removeOverlay(component._jsPlumb.overlays[i].id, true); // remove overlay but dont clean it up.\n                    // that would remove event listeners etc; overlays are never discarded by the types stuff, they are\n                    // just detached/reattached.\n            }\n        }\n    };\n\n    _ju.extend(_jp.OverlayCapableJsPlumbUIComponent, root.jsPlumbUIComponent, {\n\n        setHover: function (hover, ignoreAttachedElements) {\n            if (this._jsPlumb && !this._jsPlumb.instance.isConnectionBeingDragged()) {\n                for (var i in this._jsPlumb.overlays) {\n                    this._jsPlumb.overlays[i][hover ? \"addClass\" : \"removeClass\"](this._jsPlumb.instance.hoverClass);\n                }\n            }\n        },\n        addOverlay: function (overlay, doNotRepaint) {\n            var o = _processOverlay(this, overlay);\n            if (!doNotRepaint) this.repaint();\n            return o;\n        },\n        getOverlay: function (id) {\n            return this._jsPlumb.overlays[id];\n        },\n        getOverlays: function () {\n            return this._jsPlumb.overlays;\n        },\n        hideOverlay: function (id) {\n            var o = this.getOverlay(id);\n            if (o) o.hide();\n        },\n        hideOverlays: function () {\n            for (var i in this._jsPlumb.overlays)\n                this._jsPlumb.overlays[i].hide();\n        },\n        showOverlay: function (id) {\n            var o = this.getOverlay(id);\n            if (o) o.show();\n        },\n        showOverlays: function () {\n            for (var i in this._jsPlumb.overlays)\n                this._jsPlumb.overlays[i].show();\n        },\n        removeAllOverlays: function (doNotRepaint) {\n            for (var i in this._jsPlumb.overlays) {\n                if (this._jsPlumb.overlays[i].cleanup) this._jsPlumb.overlays[i].cleanup();\n            }\n\n            this._jsPlumb.overlays = {};\n            this._jsPlumb.overlayPositions = null;\n            if (!doNotRepaint)\n                this.repaint();\n        },\n        removeOverlay: function (overlayId, dontCleanup) {\n            var o = this._jsPlumb.overlays[overlayId];\n            if (o) {\n                o.setVisible(false);\n                if (!dontCleanup && o.cleanup) o.cleanup();\n                delete this._jsPlumb.overlays[overlayId];\n                if (this._jsPlumb.overlayPositions)\n                    delete this._jsPlumb.overlayPositions[overlayId];\n            }\n        },\n        removeOverlays: function () {\n            for (var i = 0, j = arguments.length; i < j; i++)\n                this.removeOverlay(arguments[i]);\n        },\n        moveParent: function (newParent) {\n            if (this.bgCanvas) {\n                this.bgCanvas.parentNode.removeChild(this.bgCanvas);\n                newParent.appendChild(this.bgCanvas);\n            }\n\n            if (this.canvas && this.canvas.parentNode) {\n                this.canvas.parentNode.removeChild(this.canvas);\n                newParent.appendChild(this.canvas);\n\n                for (var i in this._jsPlumb.overlays) {\n                    if (this._jsPlumb.overlays[i].isAppendedAtTopLevel) {\n                        var el = this._jsPlumb.overlays[i].getElement();\n                        el.parentNode.removeChild(el);\n                        newParent.appendChild(el);\n                    }\n                }\n            }\n        },\n        getLabel: function () {\n            var lo = this.getOverlay(_internalLabelOverlayId);\n            return lo != null ? lo.getLabel() : null;\n        },\n        getLabelOverlay: function () {\n            return this.getOverlay(_internalLabelOverlayId);\n        },\n        setLabel: function (l) {\n            var lo = this.getOverlay(_internalLabelOverlayId);\n            if (!lo) {\n                var params = l.constructor == String || l.constructor == Function ? { label: l } : l;\n                lo = _makeLabelOverlay(this, params);\n                this._jsPlumb.overlays[_internalLabelOverlayId] = lo;\n            }\n            else {\n                if (l.constructor == String || l.constructor == Function) lo.setLabel(l);\n                else {\n                    if (l.label) lo.setLabel(l.label);\n                    if (l.location) lo.setLocation(l.location);\n                }\n            }\n\n            if (!this._jsPlumb.instance.isSuspendDrawing())\n                this.repaint();\n        },\n        cleanup: function (force) {\n            for (var i in this._jsPlumb.overlays) {\n                this._jsPlumb.overlays[i].cleanup(force);\n                this._jsPlumb.overlays[i].destroy(force);\n            }\n            if (force) {\n                this._jsPlumb.overlays = {};\n                this._jsPlumb.overlayPositions = null;\n            }\n        },\n        setVisible: function (v) {\n            this[v ? \"showOverlays\" : \"hideOverlays\"]();\n        },\n        setAbsoluteOverlayPosition: function (overlay, xy) {\n            this._jsPlumb.overlayPositions[overlay.id] = xy;\n        },\n        getAbsoluteOverlayPosition: function (overlay) {\n            return this._jsPlumb.overlayPositions ? this._jsPlumb.overlayPositions[overlay.id] : null;\n        },\n        _clazzManip:function(action, clazz, dontUpdateOverlays) {\n            if (!dontUpdateOverlays) {\n                for (var i in this._jsPlumb.overlays) {\n                    this._jsPlumb.overlays[i][action + \"Class\"](clazz);\n                }\n            }\n        },\n        addClass:function(clazz, dontUpdateOverlays) {\n            this._clazzManip(\"add\", clazz, dontUpdateOverlays)\n        },\n        removeClass:function(clazz, dontUpdateOverlays) {\n            this._clazzManip(\"remove\", clazz, dontUpdateOverlays)\n        }\n    });\n\n// ------------------------------ END OverlayCapablejsPlumbUIComponent --------------------------------------------\n\n}).call(typeof window !== 'undefined' ? window : this);\n\n/*\n * jsPlumb\n * \n * Title:jsPlumb 2.3.0\n * \n * Provides a way to visually connect elements on an HTML page, using SVG.\n * \n * This file contains the code for Endpoints.\n *\n * Copyright (c) 2010 - 2017 jsPlumb (hello@jsplumbtoolkit.com)\n * \n * http://jsplumbtoolkit.com\n * http://github.com/sporritt/jsplumb\n * \n * Dual licensed under the MIT and GPL2 licenses.\n */\n(function () {\n\n    \"use strict\";\n    var root = this, _jp = root.jsPlumb, _ju = root.jsPlumbUtil;\n\n    // create the drag handler for a connection\n    var _makeConnectionDragHandler = function (endpoint, placeholder, _jsPlumb) {\n        var stopped = false;\n        return {\n            drag: function () {\n                if (stopped) {\n                    stopped = false;\n                    return true;\n                }\n\n                if (placeholder.element) {\n                    var _ui = _jsPlumb.getUIPosition(arguments, _jsPlumb.getZoom());\n                    if (_ui != null) jsPlumb.setPosition(placeholder.element, _ui);\n                    _jsPlumb.repaint(placeholder.element, _ui);\n                    // always repaint the source endpoint, because only continuous/dynamic anchors cause the endpoint\n                    // to be repainted, so static anchors need to be told (or the endpoint gets dragged around)\n                    endpoint.paint({anchorPoint:endpoint.anchor.getCurrentLocation({element:endpoint})});\n                }\n            },\n            stopDrag: function () {\n                stopped = true;\n            }\n        };\n    };\n\n    // creates a placeholder div for dragging purposes, adds it, and pre-computes its offset.\n    var _makeDraggablePlaceholder = function (placeholder, _jsPlumb, ipco, ips) {\n        var n = jsPlumb.createElement(\"div\", { position : \"absolute\" });\n        _jsPlumb.appendElement(n);\n        var id = _jsPlumb.getId(n);\n        jsPlumb.setPosition(n, ipco);\n        n.style.width = ips[0] + \"px\";\n        n.style.height = ips[1] + \"px\";\n        _jsPlumb.manage(id, n, true); // TRANSIENT MANAGE\n        // create and assign an id, and initialize the offset.\n        placeholder.id = id;\n        placeholder.element = n;\n    };\n\n    // create a floating endpoint (for drag connections)\n    var _makeFloatingEndpoint = function (paintStyle, referenceAnchor, endpoint, referenceCanvas, sourceElement, _jsPlumb, _newEndpoint, scope) {\n        var floatingAnchor = new _jp.FloatingAnchor({ reference: referenceAnchor, referenceCanvas: referenceCanvas, jsPlumbInstance: _jsPlumb });\n        //setting the scope here should not be the way to fix that mootools issue.  it should be fixed by not\n        // adding the floating endpoint as a droppable.  that makes more sense anyway!\n        // TRANSIENT MANAGE\n        return _newEndpoint({\n            paintStyle: paintStyle,\n            endpoint: endpoint,\n            anchor: floatingAnchor,\n            source: sourceElement,\n            scope: scope\n        });\n    };\n\n    var typeParameters = [ \"connectorStyle\", \"connectorHoverStyle\", \"connectorOverlays\",\n        \"connector\", \"connectionType\", \"connectorClass\", \"connectorHoverClass\" ];\n\n    // a helper function that tries to find a connection to the given element, and returns it if so. if elementWithPrecedence is null,\n    // or no connection to it is found, we return the first connection in our list.\n    var findConnectionToUseForDynamicAnchor = function (ep, elementWithPrecedence) {\n        var idx = 0;\n        if (elementWithPrecedence != null) {\n            for (var i = 0; i < ep.connections.length; i++) {\n                if (ep.connections[i].sourceId == elementWithPrecedence || ep.connections[i].targetId == elementWithPrecedence) {\n                    idx = i;\n                    break;\n                }\n            }\n        }\n\n        return ep.connections[idx];\n    };\n\n    _jp.Endpoint = function (params) {\n        var _jsPlumb = params._jsPlumb,\n            _newConnection = params.newConnection,\n            _newEndpoint = params.newEndpoint;\n\n        this.idPrefix = \"_jsplumb_e_\";\n        this.defaultLabelLocation = [ 0.5, 0.5 ];\n        this.defaultOverlayKeys = [\"Overlays\", \"EndpointOverlays\"];\n        _jp.OverlayCapableJsPlumbUIComponent.apply(this, arguments);\n\n// TYPE\n\n        this.appendToDefaultType({\n            connectionType:params.connectionType,\n            maxConnections: params.maxConnections == null ? this._jsPlumb.instance.Defaults.MaxConnections : params.maxConnections, // maximum number of connections this endpoint can be the source of.,\n            paintStyle: params.endpointStyle || params.paintStyle || params.style || this._jsPlumb.instance.Defaults.EndpointStyle || _jp.Defaults.EndpointStyle,\n            hoverPaintStyle: params.endpointHoverStyle || params.hoverPaintStyle || this._jsPlumb.instance.Defaults.EndpointHoverStyle || _jp.Defaults.EndpointHoverStyle,\n            connectorStyle: params.connectorStyle,\n            connectorHoverStyle: params.connectorHoverStyle,\n            connectorClass: params.connectorClass,\n            connectorHoverClass: params.connectorHoverClass,\n            connectorOverlays: params.connectorOverlays,\n            connector: params.connector,\n            connectorTooltip: params.connectorTooltip\n        });\n\n// END TYPE\n\n        this._jsPlumb.enabled = !(params.enabled === false);\n        this._jsPlumb.visible = true;\n        this.element = _jp.getElement(params.source);\n        this._jsPlumb.uuid = params.uuid;\n        this._jsPlumb.floatingEndpoint = null;\n        var inPlaceCopy = null;\n        if (this._jsPlumb.uuid) params.endpointsByUUID[this._jsPlumb.uuid] = this;\n        this.elementId = params.elementId;\n        this.dragProxy = params.dragProxy;\n\n        this._jsPlumb.connectionCost = params.connectionCost;\n        this._jsPlumb.connectionsDirected = params.connectionsDirected;\n        this._jsPlumb.currentAnchorClass = \"\";\n        this._jsPlumb.events = {};\n\n        var _updateAnchorClass = function () {\n            // stash old, get new\n            var oldAnchorClass = _jsPlumb.endpointAnchorClassPrefix + \"-\" + this._jsPlumb.currentAnchorClass;\n            this._jsPlumb.currentAnchorClass = this.anchor.getCssClass();\n            var anchorClass = _jsPlumb.endpointAnchorClassPrefix + (this._jsPlumb.currentAnchorClass ? \"-\" + this._jsPlumb.currentAnchorClass : \"\");\n\n            this.removeClass(oldAnchorClass);\n            this.addClass(anchorClass);\n            // add and remove at the same time to reduce the number of reflows.\n            _jp.updateClasses(this.element, anchorClass, oldAnchorClass);\n        }.bind(this);\n\n        this.prepareAnchor = function(anchorParams) {\n            var a = this._jsPlumb.instance.makeAnchor(anchorParams, this.elementId, _jsPlumb);\n            a.bind(\"anchorChanged\", function (currentAnchor) {\n                this.fire(\"anchorChanged\", {endpoint: this, anchor: currentAnchor});\n                _updateAnchorClass();\n            }.bind(this));\n            return a;\n        };\n\n        this.setPreparedAnchor = function(anchor, doNotRepaint) {\n            this._jsPlumb.instance.continuousAnchorFactory.clear(this.elementId);\n            this.anchor = anchor;\n            _updateAnchorClass();\n\n            if (!doNotRepaint)\n                this._jsPlumb.instance.repaint(this.elementId);\n\n            return this;\n        };\n\n        this.setAnchor = function (anchorParams, doNotRepaint) {\n            var a = this.prepareAnchor(anchorParams);\n            this.setPreparedAnchor(a, doNotRepaint);\n            return this;\n        };\n\n        var internalHover = function (state) {\n            if (this.connections.length > 0) {\n                for (var i = 0; i < this.connections.length; i++)\n                    this.connections[i].setHover(state, false);\n            }\n            else\n                this.setHover(state);\n        }.bind(this);\n\n        this.bind(\"mouseover\", function () {\n            internalHover(true);\n        });\n        this.bind(\"mouseout\", function () {\n            internalHover(false);\n        });\n\n        // ANCHOR MANAGER\n        if (!params._transient) // in place copies, for example, are transient.  they will never need to be retrieved during a paint cycle, because they dont move, and then they are deleted.\n            this._jsPlumb.instance.anchorManager.add(this, this.elementId);\n\n        this.prepareEndpoint = function(ep, typeId) {\n            var _e = function (t, p) {\n                var rm = _jsPlumb.getRenderMode();\n                if (_jp.Endpoints[rm][t]) return new _jp.Endpoints[rm][t](p);\n                if (!_jsPlumb.Defaults.DoNotThrowErrors)\n                    throw { msg: \"jsPlumb: unknown endpoint type '\" + t + \"'\" };\n            };\n\n            var endpointArgs = {\n                _jsPlumb: this._jsPlumb.instance,\n                cssClass: params.cssClass,\n                container: params.container,\n                tooltip: params.tooltip,\n                connectorTooltip: params.connectorTooltip,\n                endpoint: this\n            };\n\n            var endpoint;\n\n            if (_ju.isString(ep))\n                endpoint = _e(ep, endpointArgs);\n            else if (_ju.isArray(ep)) {\n                endpointArgs = _ju.merge(ep[1], endpointArgs);\n                endpoint = _e(ep[0], endpointArgs);\n            }\n            else {\n                endpoint = ep.clone();\n            }\n\n            // assign a clone function using a copy of endpointArgs. this is used when a drag starts: the endpoint that was dragged is cloned,\n            // and the clone is left in its place while the original one goes off on a magical journey.\n            // the copy is to get around a closure problem, in which endpointArgs ends up getting shared by\n            // the whole world.\n            //var argsForClone = jsPlumb.extend({}, endpointArgs);\n            endpoint.clone = function () {\n                // TODO this, and the code above, can be refactored to be more dry.\n                if (_ju.isString(ep))\n                    return _e(ep, endpointArgs);\n                else if (_ju.isArray(ep)) {\n                    endpointArgs = _ju.merge(ep[1], endpointArgs);\n                    return _e(ep[0], endpointArgs);\n                }\n            }.bind(this);\n\n            endpoint.typeId = typeId;\n            return endpoint;\n        };\n\n        this.setEndpoint = function(ep, doNotRepaint) {\n            var _ep = this.prepareEndpoint(ep);\n            this.setPreparedEndpoint(_ep, true);\n        };\n\n        this.setPreparedEndpoint = function (ep, doNotRepaint) {\n            if (this.endpoint != null) {\n                this.endpoint.cleanup();\n                this.endpoint.destroy();\n            }\n            this.endpoint = ep;\n            this.type = this.endpoint.type;\n            this.canvas = this.endpoint.canvas;\n        };\n\n        _jp.extend(this, params, typeParameters);\n\n        this.isSource = params.isSource || false;\n        this.isTemporarySource = params.isTemporarySource || false;\n        this.isTarget = params.isTarget || false;\n\n        this.connections = params.connections || [];\n        this.connectorPointerEvents = params[\"connector-pointer-events\"];\n\n        this.scope = params.scope || _jsPlumb.getDefaultScope();\n        this.timestamp = null;\n        this.reattachConnections = params.reattach || _jsPlumb.Defaults.ReattachConnections;\n        this.connectionsDetachable = _jsPlumb.Defaults.ConnectionsDetachable;\n        if (params.connectionsDetachable === false || params.detachable === false)\n            this.connectionsDetachable = false;\n        this.dragAllowedWhenFull = params.dragAllowedWhenFull !== false;\n\n        if (params.onMaxConnections)\n            this.bind(\"maxConnections\", params.onMaxConnections);\n\n        //\n        // add a connection. not part of public API.\n        //\n        this.addConnection = function (connection) {\n            this.connections.push(connection);\n            this[(this.connections.length > 0 ? \"add\" : \"remove\") + \"Class\"](_jsPlumb.endpointConnectedClass);\n            this[(this.isFull() ? \"add\" : \"remove\") + \"Class\"](_jsPlumb.endpointFullClass);\n        };\n\n        this.detachFromConnection = function (connection, idx, doNotCleanup) {\n            idx = idx == null ? this.connections.indexOf(connection) : idx;\n            if (idx >= 0) {\n                this.connections.splice(idx, 1);\n                this[(this.connections.length > 0 ? \"add\" : \"remove\") + \"Class\"](_jsPlumb.endpointConnectedClass);\n                this[(this.isFull() ? \"add\" : \"remove\") + \"Class\"](_jsPlumb.endpointFullClass);\n            }\n\n            if ((this._forceDeleteOnDetach || (!doNotCleanup && this._deleteOnDetach)) && this.connections.length === 0) {\n                _jsPlumb.deleteObject({\n                    endpoint: this,\n                    fireEvent: false,\n                    //deleteAttachedObjects: false\n                    deleteAttachedObjects: doNotCleanup !== true\n                });\n            }\n        };\n\n        //this.detach = function (connection, ignoreTarget, forceDetach, fireEvent, originalEvent, endpointBeingDeleted, connectionIndex) {\n\n        this.detach = function (params) {\n            var connectionIndex = params.connectionIndex,\n                connection = params.connection,\n                ignoreTarget = params.ignoreTarget,\n                fireEvent = params.fireEvent,\n                originalEvent = params.originalEvent,\n                endpointBeingDeleted = params.endpointBeingDeleted,\n                forceDetach = params.forceDetach;\n\n            var idx = connectionIndex == null ? this.connections.indexOf(connection) : connectionIndex,\n                actuallyDetached = false;\n            fireEvent = (fireEvent !== false);\n\n            if (idx >= 0) {\n\n                if (forceDetach || connection._forceDetach || (connection.isDetachable() && connection.isDetachAllowed(connection) && this.isDetachAllowed(connection) && _jsPlumb.checkCondition(\"beforeDetach\", connection, endpointBeingDeleted) )) {\n\n                    _jsPlumb.deleteObject({\n                        connection: connection,\n                        fireEvent: (!ignoreTarget && fireEvent),\n                        originalEvent: originalEvent,\n                        deleteAttachedObjects:params.deleteAttachedObjects\n                        //deleteAttachedObjects:null\n                    });\n                    actuallyDetached = true;\n                }\n            }\n            return actuallyDetached;\n        };\n\n        this.detachAll = function (fireEvent, forceDetach) {\n            var unaffectedConns = [];\n            while (this.connections.length > 0) {\n                // TODO this could pass the index in to the detach method to save some time (index will always be zero in this while loop)\n                var actuallyDetached = this.detach({\n                    connection:this.connections[0],\n                    ignoreTarget:false,\n                    forceDetach:forceDetach === true,\n                    fireEvent:fireEvent !== false,\n                    originalEvent:null,\n                    endpointBeingDeleted:this,\n                    connectionIndex:0\n                });\n                if (!actuallyDetached) {\n                    unaffectedConns.push(this.connections[0]);\n                    this.connections.splice(0, 1);\n                }\n            }\n            this.connections = unaffectedConns;\n            return this;\n        };\n        this.detachFrom = function (targetEndpoint, fireEvent, originalEvent) {\n            var c = [];\n            for (var i = 0; i < this.connections.length; i++) {\n                if (this.connections[i].endpoints[1] == targetEndpoint || this.connections[i].endpoints[0] == targetEndpoint) {\n                    c.push(this.connections[i]);\n                }\n            }\n            for (var j = 0; j < c.length; j++) {\n                this.detach({\n                    connection:c[j],\n                    ignoreTarget:false,\n                    forceDetach:true,\n                    fireEvent:fireEvent,\n                    originalEvent:originalEvent\n                });\n            }\n            return this;\n        };\n\n        this.getElement = function () {\n            return this.element;\n        };\n\n        this.setElement = function (el) {\n            var parentId = this._jsPlumb.instance.getId(el),\n                curId = this.elementId;\n            // remove the endpoint from the list for the current endpoint's element\n            _ju.removeWithFunction(params.endpointsByElement[this.elementId], function (e) {\n                return e.id == this.id;\n            }.bind(this));\n            this.element = _jp.getElement(el);\n            this.elementId = _jsPlumb.getId(this.element);\n            _jsPlumb.anchorManager.rehomeEndpoint(this, curId, this.element);\n            _jsPlumb.dragManager.endpointAdded(this.element);\n            _ju.addToList(params.endpointsByElement, parentId, this);\n            return this;\n        };\n\n        /**\n         * private but must be exposed.\n         */\n        this.makeInPlaceCopy = function () {\n            var loc = this.anchor.getCurrentLocation({element: this}),\n                o = this.anchor.getOrientation(this),\n                acc = this.anchor.getCssClass(),\n                inPlaceAnchor = {\n                    bind: function () {\n                    },\n                    compute: function () {\n                        return [ loc[0], loc[1] ];\n                    },\n                    getCurrentLocation: function () {\n                        return [ loc[0], loc[1] ];\n                    },\n                    getOrientation: function () {\n                        return o;\n                    },\n                    getCssClass: function () {\n                        return acc;\n                    }\n                };\n\n            return _newEndpoint({\n                dropOptions: params.dropOptions,\n                anchor: inPlaceAnchor,\n                source: this.element,\n                paintStyle: this.getPaintStyle(),\n                endpoint: params.hideOnDrag ? \"Blank\" : this.endpoint,\n                _transient: true,\n                scope: this.scope,\n                reference:this\n            });\n        };\n\n        /**\n         * returns a connection from the pool; used when dragging starts.  just gets the head of the array if it can.\n         */\n        this.connectorSelector = function () {\n            var candidate = this.connections[0];\n            // SP target source refactor\n            if (/*this.isTarget && */candidate) return candidate;\n            else {\n                return (this.connections.length < this._jsPlumb.maxConnections) || this._jsPlumb.maxConnections == -1 ? null : candidate;\n            }\n        };\n\n        this.setStyle = this.setPaintStyle;\n\n        this.paint = function (params) {\n            params = params || {};\n            var timestamp = params.timestamp, recalc = !(params.recalc === false);\n            if (!timestamp || this.timestamp !== timestamp) {\n\n                var info = _jsPlumb.updateOffset({ elId: this.elementId, timestamp: timestamp });\n\n                var xy = params.offset ? params.offset.o : info.o;\n                if (xy != null) {\n                    var ap = params.anchorPoint, connectorPaintStyle = params.connectorPaintStyle;\n                    if (ap == null) {\n                        var wh = params.dimensions || info.s,\n                            anchorParams = { xy: [ xy.left, xy.top ], wh: wh, element: this, timestamp: timestamp };\n                        if (recalc && this.anchor.isDynamic && this.connections.length > 0) {\n                            var c = findConnectionToUseForDynamicAnchor(this, params.elementWithPrecedence),\n                                oIdx = c.endpoints[0] == this ? 1 : 0,\n                                oId = oIdx === 0 ? c.sourceId : c.targetId,\n                                oInfo = _jsPlumb.getCachedData(oId),\n                                oOffset = oInfo.o, oWH = oInfo.s;\n                            anchorParams.txy = [ oOffset.left, oOffset.top ];\n                            anchorParams.twh = oWH;\n                            anchorParams.tElement = c.endpoints[oIdx];\n                        }\n                        ap = this.anchor.compute(anchorParams);\n                    }\n\n                    this.endpoint.compute(ap, this.anchor.getOrientation(this), this._jsPlumb.paintStyleInUse, connectorPaintStyle || this.paintStyleInUse);\n                    this.endpoint.paint(this._jsPlumb.paintStyleInUse, this.anchor);\n                    this.timestamp = timestamp;\n\n                    // paint overlays\n                    for (var i in this._jsPlumb.overlays) {\n                        if (this._jsPlumb.overlays.hasOwnProperty(i)) {\n                            var o = this._jsPlumb.overlays[i];\n                            if (o.isVisible()) {\n                                this._jsPlumb.overlayPlacements[i] = o.draw(this.endpoint, this._jsPlumb.paintStyleInUse);\n                                o.paint(this._jsPlumb.overlayPlacements[i]);\n                            }\n                        }\n                    }\n                }\n            }\n        };\n\n        this.getTypeDescriptor = function () {\n            return \"endpoint\";\n        };\n        this.isVisible = function () {\n            return this._jsPlumb.visible;\n        };\n\n        this.repaint = this.paint;\n\n        var draggingInitialised = false;\n        this.initDraggable = function () {\n\n            // is this a connection source? we make it draggable and have the\n            // drag listener maintain a connection with a floating endpoint.\n            if (!draggingInitialised && _jp.isDragSupported(this.element)) {\n                var placeholderInfo = { id: null, element: null },\n                    jpc = null,\n                    existingJpc = false,\n                    existingJpcParams = null,\n                    _dragHandler = _makeConnectionDragHandler(this, placeholderInfo, _jsPlumb),\n                    dragOptions = params.dragOptions || {},\n                    defaultOpts = {},\n                    startEvent = _jp.dragEvents.start,\n                    stopEvent = _jp.dragEvents.stop,\n                    dragEvent = _jp.dragEvents.drag,\n                    beforeStartEvent = _jp.dragEvents.beforeStart,\n                    payload;\n\n                // respond to beforeStart from katavorio; this will have, optionally, a payload of attribute values\n                // that were placed there by the makeSource mousedown listener.\n                var beforeStart = function(beforeStartParams) {\n                    payload = beforeStartParams.e.payload || {};\n                };\n\n                var start = function (startParams) {\n\n// -------------   first, get a connection to drag. this may be null, in which case we are dragging a new one.\n\n                    jpc = this.connectorSelector();\n\n// -------------------------------- now a bunch of tests about whether or not to proceed -------------------------\n\n                    var _continue = true;\n                    // if not enabled, return\n                    if (!this.isEnabled()) _continue = false;\n                    // if no connection and we're not a source - or temporarily a source, as is the case with makeSource - return.\n                    if (jpc == null && !this.isSource && !this.isTemporarySource) _continue = false;\n                    // otherwise if we're full and not allowed to drag, also return false.\n                    if (this.isSource && this.isFull() && !(jpc != null && this.dragAllowedWhenFull)) _continue = false;\n                    // if the connection was setup as not detachable or one of its endpoints\n                    // was setup as connectionsDetachable = false, or Defaults.ConnectionsDetachable\n                    // is set to false...\n                    if (jpc != null && !jpc.isDetachable(this)) _continue = false;\n\n                    var beforeDrag = _jsPlumb.checkCondition(jpc == null ? \"beforeDrag\" : \"beforeStartDetach\", {\n                        endpoint:this,\n                        source:this.element,\n                        sourceId:this.elementId,\n                        connection:jpc\n                    });\n                    if (beforeDrag === false) _continue = false;\n                    // else we might have been given some data. we'll pass it in to a new connection as 'data'.\n                    // here we also merge in the optional payload we were given on mousedown.\n                    else if (typeof beforeDrag === \"object\") {\n                        _jp.extend(beforeDrag, payload || {});\n                    }\n                    else\n                        // or if no beforeDrag data, maybe use the payload on its own.\n                        beforeDrag = payload || {};\n\n                    if (_continue === false) {\n                        // this is for mootools and yui. returning false from this causes jquery to stop drag.\n                        // the events are wrapped in both mootools and yui anyway, but i don't think returning\n                        // false from the start callback would stop a drag.\n                        if (_jsPlumb.stopDrag) _jsPlumb.stopDrag(this.canvas);\n                        _dragHandler.stopDrag();\n                        return false;\n                    }\n\n// ---------------------------------------------------------------------------------------------------------------------\n\n                    // ok to proceed.\n\n                    // clear hover for all connections for this endpoint before continuing.\n                    for (var i = 0; i < this.connections.length; i++)\n                        this.connections[i].setHover(false);\n\n                    this.addClass(\"endpointDrag\");\n                    _jsPlumb.setConnectionBeingDragged(true);\n\n                    // if we're not full but there was a connection, make it null. we'll create a new one.\n                    if (jpc && !this.isFull() && this.isSource) jpc = null;\n\n                    _jsPlumb.updateOffset({ elId: this.elementId });\n\n// ----------------    make the element we will drag around, and position it -----------------------------\n\n                    var ipco = this._jsPlumb.instance.getOffset(this.canvas),\n                        canvasElement = this.canvas,\n                        ips = this._jsPlumb.instance.getSize(this.canvas);\n\n                    _makeDraggablePlaceholder(placeholderInfo, _jsPlumb, ipco, ips);\n\n                    // store the id of the dragging div and the source element. the drop function will pick these up.                   \n                    _jsPlumb.setAttributes(this.canvas, {\n                        \"dragId\": placeholderInfo.id,\n                        \"elId\": this.elementId\n                    });\n\n// ------------------- create an endpoint that will be our floating endpoint ------------------------------------\n\n                    var endpointToFloat = this.dragProxy || this.endpoint;\n                    if (this.dragProxy == null && this.connectionType != null) {\n                        var aae = this._jsPlumb.instance.deriveEndpointAndAnchorSpec(this.connectionType);\n                        if (aae.endpoints[1]) endpointToFloat = aae.endpoints[1];\n                    }\n                    var centerAnchor = this._jsPlumb.instance.makeAnchor(\"Center\");\n                    centerAnchor.isFloating = true;\n                    this._jsPlumb.floatingEndpoint = _makeFloatingEndpoint(this.getPaintStyle(), centerAnchor, endpointToFloat, this.canvas, placeholderInfo.element, _jsPlumb, _newEndpoint, this.scope);\n                    var _savedAnchor = this._jsPlumb.floatingEndpoint.anchor;\n\n\n                    if (jpc == null) {\n\n                        this.setHover(false, false);\n                        // create a connection. one end is this endpoint, the other is a floating endpoint.                    \n                        jpc = _newConnection({\n                            sourceEndpoint: this,\n                            targetEndpoint: this._jsPlumb.floatingEndpoint,\n                            source: this.element,  // for makeSource with parent option.  ensure source element is represented correctly.\n                            target: placeholderInfo.element,\n                            anchors: [ this.anchor, this._jsPlumb.floatingEndpoint.anchor ],\n                            paintStyle: params.connectorStyle, // this can be null. Connection will use the default.\n                            hoverPaintStyle: params.connectorHoverStyle,\n                            connector: params.connector, // this can also be null. Connection will use the default.\n                            overlays: params.connectorOverlays,\n                            type: this.connectionType,\n                            cssClass: this.connectorClass,\n                            hoverClass: this.connectorHoverClass,\n                            scope:params.scope,\n                            data:beforeDrag\n                        });\n                        jpc.pending = true;\n                        jpc.addClass(_jsPlumb.draggingClass);\n                        this._jsPlumb.floatingEndpoint.addClass(_jsPlumb.draggingClass);\n                        this._jsPlumb.floatingEndpoint.anchor = _savedAnchor;\n                        // fire an event that informs that a connection is being dragged\n                        _jsPlumb.fire(\"connectionDrag\", jpc);\n\n                        // register the new connection on the drag manager. This connection, at this point, is 'pending',\n                        // and has as its target a temporary element (the 'placeholder'). If the connection subsequently\n                        // becomes established, the anchor manager is informed that the target of the connection has\n                        // changed.\n\n                        _jsPlumb.anchorManager.newConnection(jpc);\n\n                    } else {\n                        existingJpc = true;\n                        jpc.setHover(false);\n                        // new anchor idx\n                        var anchorIdx = jpc.endpoints[0].id == this.id ? 0 : 1;\n                        this.detachFromConnection(jpc, null, true);                         // detach from the connection while dragging is occurring. but dont cleanup automatically.\n\n                        // store the original scope (issue 57)\n                        var dragScope = _jsPlumb.getDragScope(canvasElement);\n                        _jsPlumb.setAttribute(this.canvas, \"originalScope\", dragScope);\n\n                        // fire an event that informs that a connection is being dragged. we do this before\n                        // replacing the original target with the floating element info.\n                        _jsPlumb.fire(\"connectionDrag\", jpc);\n\n                        // now we replace ourselves with the temporary div we created above:\n                        if (anchorIdx === 0) {\n                            existingJpcParams = [ jpc.source, jpc.sourceId, canvasElement, dragScope ];\n                            _jsPlumb.anchorManager.sourceChanged(jpc.endpoints[anchorIdx].elementId, placeholderInfo.id, jpc, placeholderInfo.element);\n\n                        } else {\n                            existingJpcParams = [ jpc.target, jpc.targetId, canvasElement, dragScope ];\n                            jpc.target = placeholderInfo.element;\n                            jpc.targetId = placeholderInfo.id;\n\n                            _jsPlumb.anchorManager.updateOtherEndpoint(jpc.sourceId, jpc.endpoints[anchorIdx].elementId, jpc.targetId, jpc);\n                        }\n\n                        // store the original endpoint and assign the new floating endpoint for the drag.\n                        jpc.suspendedEndpoint = jpc.endpoints[anchorIdx];\n\n                        // PROVIDE THE SUSPENDED ELEMENT, BE IT A SOURCE OR TARGET (ISSUE 39)\n                        jpc.suspendedElement = jpc.endpoints[anchorIdx].getElement();\n                        jpc.suspendedElementId = jpc.endpoints[anchorIdx].elementId;\n                        jpc.suspendedElementType = anchorIdx === 0 ? \"source\" : \"target\";\n\n                        jpc.suspendedEndpoint.setHover(false);\n                        this._jsPlumb.floatingEndpoint.referenceEndpoint = jpc.suspendedEndpoint;\n                        jpc.endpoints[anchorIdx] = this._jsPlumb.floatingEndpoint;\n\n                        jpc.addClass(_jsPlumb.draggingClass);\n                        this._jsPlumb.floatingEndpoint.addClass(_jsPlumb.draggingClass);\n                    }\n\n                    // register it and register connection on it.\n                    _jsPlumb.floatingConnections[placeholderInfo.id] = jpc;\n                    // only register for the target endpoint; we will not be dragging the source at any time\n                    // before this connection is either discarded or made into a permanent connection.\n                    _ju.addToList(params.endpointsByElement, placeholderInfo.id, this._jsPlumb.floatingEndpoint);\n                    // tell jsplumb about it\n                    _jsPlumb.currentlyDragging = true;\n                }.bind(this);\n\n                var stop = function () {\n                    _jsPlumb.setConnectionBeingDragged(false);\n\n                    if (jpc && jpc.endpoints != null) {\n                        // get the actual drop event (decode from library args to stop function)\n                        var originalEvent = _jsPlumb.getDropEvent(arguments);\n                        // unlock the other endpoint (if it is dynamic, it would have been locked at drag start)\n                        var idx = _jsPlumb.getFloatingAnchorIndex(jpc);\n                        jpc.endpoints[idx === 0 ? 1 : 0].anchor.locked = false;\n                        // TODO: Dont want to know about css classes inside jsplumb, ideally.\n                        jpc.removeClass(_jsPlumb.draggingClass);\n\n                        // if we have the floating endpoint then the connection has not been dropped\n                        // on another endpoint.  If it is a new connection we throw it away. If it is an\n                        // existing connection we check to see if we should reattach it, throwing it away\n                        // if not.\n                        if (this._jsPlumb && (jpc.deleteConnectionNow || jpc.endpoints[idx] == this._jsPlumb.floatingEndpoint)) {\n                            // 6a. if the connection was an existing one...\n                            if (existingJpc && jpc.suspendedEndpoint) {\n                                // fix for issue35, thanks Sylvain Gizard: when firing the detach event make sure the\n                                // floating endpoint has been replaced.\n                                if (idx === 0) {\n                                    jpc.floatingElement = jpc.source;\n                                    jpc.floatingId = jpc.sourceId;\n                                    jpc.floatingEndpoint = jpc.endpoints[0];\n                                    jpc.floatingIndex = 0;\n                                    jpc.source = existingJpcParams[0];\n                                    jpc.sourceId = existingJpcParams[1];\n                                } else {\n                                    // keep a copy of the floating element; the anchor manager will want to clean up.\n                                    jpc.floatingElement = jpc.target;\n                                    jpc.floatingId = jpc.targetId;\n                                    jpc.floatingEndpoint = jpc.endpoints[1];\n                                    jpc.floatingIndex = 1;\n                                    jpc.target = existingJpcParams[0];\n                                    jpc.targetId = existingJpcParams[1];\n                                }\n\n                                var fe = this._jsPlumb.floatingEndpoint; // store for later removal.\n                                // restore the original scope (issue 57)\n                                _jsPlumb.setDragScope(existingJpcParams[2], existingJpcParams[3]);\n                                jpc.endpoints[idx] = jpc.suspendedEndpoint;\n                                // IF the connection should be reattached, or the other endpoint refuses detach, then\n                                // reset the connection to its original state\n                                if (jpc.isReattach() || jpc._forceReattach || jpc._forceDetach || !jpc.endpoints[idx === 0 ? 1 : 0].detach({connection:jpc, ignoreTarget:false, forceDetach:false, fireEvent:true, originalEvent:originalEvent, endpointBeingDeleted:true})) {\n\n                                    jpc.setHover(false);\n                                    jpc._forceDetach = null;\n                                    jpc._forceReattach = null;\n                                    this._jsPlumb.floatingEndpoint.detachFromConnection(jpc);\n                                    jpc.suspendedEndpoint.addConnection(jpc);\n\n                                    // TODO this code is duplicated in lots of places...and there is nothing external\n                                    // in the code; it all refers to the connection itself. we could add a\n                                    // `checkSanity(connection)` method to anchorManager that did this.\n                                    if (idx == 1) {\n                                        _jsPlumb.anchorManager.updateOtherEndpoint(jpc.sourceId, jpc.floatingId, jpc.targetId, jpc);\n                                    }\n                                    else {\n                                        _jsPlumb.anchorManager.sourceChanged(jpc.floatingId, jpc.sourceId, jpc, jpc.source);\n                                    }\n\n                                    _jsPlumb.repaint(existingJpcParams[1]);\n                                }\n                                else {\n                                    _jsPlumb.deleteObject({endpoint: fe});\n                                }\n                            }\n                        }\n\n                        // makeTargets sets this flag, to tell us we have been replaced and should delete this object.\n                        if (this.deleteAfterDragStop) {\n                            _jsPlumb.deleteObject({endpoint: this});\n                        }\n                        else {\n                            if (this._jsPlumb) {\n                                 this.paint({recalc: false});\n                            }\n                        }\n\n                        // although the connection is no longer valid, there are use cases where this is useful.\n                        _jsPlumb.fire(\"connectionDragStop\", jpc, originalEvent);\n                        // fire this event to give people more fine-grained control (connectionDragStop fires a lot)\n                        if (jpc.pending) {\n                            _jsPlumb.fire(\"connectionAborted\", jpc, originalEvent);\n                        }\n                        // tell jsplumb that dragging is finished.\n                        _jsPlumb.currentlyDragging = false;\n                        jpc.suspendedElement = null;\n                        jpc.suspendedEndpoint = null;\n                        jpc = null;\n                    }\n\n                    // if no endpoints, jpc already cleaned up. but still we want to ensure we're reset properly.\n                    // remove the element associated with the floating endpoint\n                    // (and its associated floating endpoint and visual artefacts)\n                    if (placeholderInfo && placeholderInfo.element) {\n                        _jsPlumb.remove(placeholderInfo.element, false, false);\n                    }\n                    // remove the inplace copy\n                    if (inPlaceCopy) {\n                        _jsPlumb.deleteObject({endpoint: inPlaceCopy});\n                    }\n\n                    if (this._jsPlumb) {\n                        // make our canvas visible (TODO: hand off to library; we should not know about DOM)\n                        this.canvas.style.visibility = \"visible\";\n                        // unlock our anchor\n                        this.anchor.locked = false;\n                        // clear floating anchor.\n                        this._jsPlumb.floatingEndpoint = null;\n                    }\n\n                }.bind(this);\n\n                dragOptions = _jp.extend(defaultOpts, dragOptions);\n                dragOptions.scope = this.scope || dragOptions.scope;\n                dragOptions[beforeStartEvent] = _ju.wrap(dragOptions[beforeStartEvent], beforeStart, false);\n                dragOptions[startEvent] = _ju.wrap(dragOptions[startEvent], start, false);\n                // extracted drag handler function so can be used by makeSource\n                dragOptions[dragEvent] = _ju.wrap(dragOptions[dragEvent], _dragHandler.drag);\n                dragOptions[stopEvent] = _ju.wrap(dragOptions[stopEvent], stop);\n                dragOptions.multipleDrop = false;\n\n                dragOptions.canDrag = function () {\n                    return this.isSource || this.isTemporarySource || /*(this.isTarget && */this.connections.length > 0/*)*/;\n                }.bind(this);\n\n                _jsPlumb.initDraggable(this.canvas, dragOptions, \"internal\");\n\n                this.canvas._jsPlumbRelatedElement = this.element;\n\n                draggingInitialised = true;\n            }\n        };\n\n        var ep = params.endpoint || this._jsPlumb.instance.Defaults.Endpoint || _jp.Defaults.Endpoint;\n        this.setEndpoint(ep, true);\n        var anchorParamsToUse = params.anchor ? params.anchor : params.anchors ? params.anchors : (_jsPlumb.Defaults.Anchor || \"Top\");\n        this.setAnchor(anchorParamsToUse, true);\n\n        // finally, set type if it was provided\n        var type = [ \"default\", (params.type || \"\")].join(\" \");\n        this.addType(type, params.data, true);\n        this.canvas = this.endpoint.canvas;\n        this.canvas._jsPlumb = this;\n\n        this.initDraggable();\n\n        // pulled this out into a function so we can reuse it for the inPlaceCopy canvas; you can now drop detached connections\n        // back onto the endpoint you detached it from.\n        var _initDropTarget = function (canvas, isTransient, endpoint, referenceEndpoint) {\n\n            if (_jp.isDropSupported(this.element)) {\n                var dropOptions = params.dropOptions || _jsPlumb.Defaults.DropOptions || _jp.Defaults.DropOptions;\n                dropOptions = _jp.extend({}, dropOptions);\n                dropOptions.scope = dropOptions.scope || this.scope;\n                var dropEvent = _jp.dragEvents.drop,\n                    overEvent = _jp.dragEvents.over,\n                    outEvent = _jp.dragEvents.out,\n                    _ep = this,\n                    drop = _jsPlumb.EndpointDropHandler({\n                        getEndpoint: function () {\n                            return _ep;\n                        },\n                        jsPlumb: _jsPlumb,\n                        enabled: function () {\n                            return endpoint != null ? endpoint.isEnabled() : true;\n                        },\n                        isFull: function () {\n                            return endpoint.isFull();\n                        },\n                        element: this.element,\n                        elementId: this.elementId,\n                        isSource: this.isSource,\n                        isTarget: this.isTarget,\n                        addClass: function (clazz) {\n                            _ep.addClass(clazz);\n                        },\n                        removeClass: function (clazz) {\n                            _ep.removeClass(clazz);\n                        },\n                        isDropAllowed: function () {\n                            return _ep.isDropAllowed.apply(_ep, arguments);\n                        },\n                        reference:referenceEndpoint,\n                        isRedrop:function(jpc, dhParams) {\n                            return jpc.suspendedEndpoint && dhParams.reference && (jpc.suspendedEndpoint.id === dhParams.reference.id);\n                        }\n                    });\n\n                dropOptions[dropEvent] = _ju.wrap(dropOptions[dropEvent], drop, true);\n                dropOptions[overEvent] = _ju.wrap(dropOptions[overEvent], function () {\n                    var draggable = _jp.getDragObject(arguments),\n                        id = _jsPlumb.getAttribute(_jp.getElement(draggable), \"dragId\"),\n                        _jpc = _jsPlumb.floatingConnections[id];\n\n                    if (_jpc != null) {\n                        var idx = _jsPlumb.getFloatingAnchorIndex(_jpc);\n                        // here we should fire the 'over' event if we are a target and this is a new connection,\n                        // or we are the same as the floating endpoint.\n                        var _cont = (this.isTarget && idx !== 0) || (_jpc.suspendedEndpoint && this.referenceEndpoint && this.referenceEndpoint.id == _jpc.suspendedEndpoint.id);\n                        if (_cont) {\n                            var bb = _jsPlumb.checkCondition(\"checkDropAllowed\", {\n                                sourceEndpoint: _jpc.endpoints[idx],\n                                targetEndpoint: this,\n                                connection: _jpc\n                            });\n                            this[(bb ? \"add\" : \"remove\") + \"Class\"](_jsPlumb.endpointDropAllowedClass);\n                            this[(bb ? \"remove\" : \"add\") + \"Class\"](_jsPlumb.endpointDropForbiddenClass);\n                            _jpc.endpoints[idx].anchor.over(this.anchor, this);\n                        }\n                    }\n                }.bind(this));\n\n                dropOptions[outEvent] = _ju.wrap(dropOptions[outEvent], function () {\n                    var draggable = _jp.getDragObject(arguments),\n                        id = draggable == null ? null : _jsPlumb.getAttribute(_jp.getElement(draggable), \"dragId\"),\n                        _jpc = id ? _jsPlumb.floatingConnections[id] : null;\n\n                    if (_jpc != null) {\n                        var idx = _jsPlumb.getFloatingAnchorIndex(_jpc);\n                        var _cont = (this.isTarget && idx !== 0) || (_jpc.suspendedEndpoint && this.referenceEndpoint && this.referenceEndpoint.id == _jpc.suspendedEndpoint.id);\n                        if (_cont) {\n                            this.removeClass(_jsPlumb.endpointDropAllowedClass);\n                            this.removeClass(_jsPlumb.endpointDropForbiddenClass);\n                            _jpc.endpoints[idx].anchor.out();\n                        }\n                    }\n                }.bind(this));\n\n                _jsPlumb.initDroppable(canvas, dropOptions, \"internal\", isTransient);\n            }\n        }.bind(this);\n\n        // Initialise the endpoint's canvas as a drop target. The drop handler will take care of the logic of whether\n        // something can actually be dropped.\n        if (!this.anchor.isFloating)\n            _initDropTarget(this.canvas, !(params._transient || this.anchor.isFloating), this, params.reference);\n\n\n        return this;\n    };\n\n    _ju.extend(_jp.Endpoint, _jp.OverlayCapableJsPlumbUIComponent, {\n\n        setVisible: function (v, doNotChangeConnections, doNotNotifyOtherEndpoint) {\n            this._jsPlumb.visible = v;\n            if (this.canvas) this.canvas.style.display = v ? \"block\" : \"none\";\n            this[v ? \"showOverlays\" : \"hideOverlays\"]();\n            if (!doNotChangeConnections) {\n                for (var i = 0; i < this.connections.length; i++) {\n                    this.connections[i].setVisible(v);\n                    if (!doNotNotifyOtherEndpoint) {\n                        var oIdx = this === this.connections[i].endpoints[0] ? 1 : 0;\n                        // only change the other endpoint if this is its only connection.\n                        if (this.connections[i].endpoints[oIdx].connections.length == 1) this.connections[i].endpoints[oIdx].setVisible(v, true, true);\n                    }\n                }\n            }\n        },\n        getAttachedElements: function () {\n            return this.connections;\n        },\n        applyType: function (t, doNotRepaint) {\n            this.setPaintStyle(t.endpointStyle || t.paintStyle, doNotRepaint);\n            this.setHoverPaintStyle(t.endpointHoverStyle || t.hoverPaintStyle, doNotRepaint);\n            if (t.maxConnections != null) this._jsPlumb.maxConnections = t.maxConnections;\n            if (t.scope) this.scope = t.scope;\n            _jp.extend(this, t, typeParameters);\n            if (t.cssClass != null && this.canvas) this._jsPlumb.instance.addClass(this.canvas, t.cssClass);\n            _jp.OverlayCapableJsPlumbUIComponent.applyType(this, t);\n        },\n        isEnabled: function () {\n            return this._jsPlumb.enabled;\n        },\n        setEnabled: function (e) {\n            this._jsPlumb.enabled = e;\n        },\n        cleanup: function () {\n            var anchorClass = this._jsPlumb.instance.endpointAnchorClassPrefix + (this._jsPlumb.currentAnchorClass ? \"-\" + this._jsPlumb.currentAnchorClass : \"\");\n            _jp.removeClass(this.element, anchorClass);\n            this.anchor = null;\n            this.endpoint.cleanup(true);\n            this.endpoint.destroy();\n            this.endpoint = null;\n            // drag/drop\n            this._jsPlumb.instance.destroyDraggable(this.canvas, \"internal\");\n            this._jsPlumb.instance.destroyDroppable(this.canvas, \"internal\");\n        },\n        setHover: function (h) {\n            if (this.endpoint && this._jsPlumb && !this._jsPlumb.instance.isConnectionBeingDragged())\n                this.endpoint.setHover(h);\n        },\n        isFull: function () {\n            return this._jsPlumb.maxConnections === 0 ? true : !(this.isFloating() || this._jsPlumb.maxConnections < 0 || this.connections.length < this._jsPlumb.maxConnections);\n        },\n        /**\n         * private but needs to be exposed.\n         */\n        isFloating: function () {\n            return this.anchor != null && this.anchor.isFloating;\n        },\n        isConnectedTo: function (endpoint) {\n            var found = false;\n            if (endpoint) {\n                for (var i = 0; i < this.connections.length; i++) {\n                    if (this.connections[i].endpoints[1] == endpoint || this.connections[i].endpoints[0] == endpoint) {\n                        found = true;\n                        break;\n                    }\n                }\n            }\n            return found;\n        },\n        getConnectionCost: function () {\n            return this._jsPlumb.connectionCost;\n        },\n        setConnectionCost: function (c) {\n            this._jsPlumb.connectionCost = c;\n        },\n        areConnectionsDirected: function () {\n            return this._jsPlumb.connectionsDirected;\n        },\n        setConnectionsDirected: function (b) {\n            this._jsPlumb.connectionsDirected = b;\n        },\n        setElementId: function (_elId) {\n            this.elementId = _elId;\n            this.anchor.elementId = _elId;\n        },\n        setReferenceElement: function (_el) {\n            this.element = _jp.getElement(_el);\n        },\n        setDragAllowedWhenFull: function (allowed) {\n            this.dragAllowedWhenFull = allowed;\n        },\n        equals: function (endpoint) {\n            return this.anchor.equals(endpoint.anchor);\n        },\n        getUuid: function () {\n            return this._jsPlumb.uuid;\n        },\n        computeAnchor: function (params) {\n            return this.anchor.compute(params);\n        }\n    });\n\n    root.jsPlumbInstance.prototype.EndpointDropHandler = function (dhParams) {\n        return function (e) {\n\n            var _jsPlumb = dhParams.jsPlumb;\n\n            // remove the classes that are added dynamically. drop is neither forbidden nor allowed now that\n            // the drop is finishing.\n            dhParams.removeClass(_jsPlumb.endpointDropAllowedClass);\n            dhParams.removeClass(_jsPlumb.endpointDropForbiddenClass);\n\n            var originalEvent = _jsPlumb.getDropEvent(arguments),\n                draggable = _jsPlumb.getDragObject(arguments),\n                id = _jsPlumb.getAttribute(draggable, \"dragId\"),\n                elId = _jsPlumb.getAttribute(draggable, \"elId\"),\n                scope = _jsPlumb.getAttribute(draggable, \"originalScope\"),\n                jpc = _jsPlumb.floatingConnections[id];\n\n            // if no active connection, bail.\n            if (jpc == null) return;\n\n            // calculate if this is an existing connection.\n            var existingConnection = jpc.suspendedEndpoint != null;\n\n            // if suspended endpoint exists but has been cleaned up, bail. This means it's an existing connection\n            // that has been detached and will shortly be discarded.\n            if (existingConnection && jpc.suspendedEndpoint._jsPlumb == null) return;\n\n            // get the drop endpoint. for a normal connection this is just the one that would replace the currently\n            // floating endpoint. for a makeTarget this is a new endpoint that is created on drop. But we leave that to\n            // the handler to figure out.\n            var _ep = dhParams.getEndpoint(jpc);\n\n            // If we're not given an endpoint to use, bail.\n            if (_ep == null) return;\n\n            // if this is a drop back where the connection came from, mark it force reattach and\n            // return; the stop handler will reattach. without firing an event.\n            if (dhParams.isRedrop(jpc, dhParams)) {\n                jpc._forceReattach = true;\n                jpc.setHover(false);\n                if (dhParams.maybeCleanup) dhParams.maybeCleanup(_ep);\n                return;\n            }\n\n            // ensure we dont bother trying to drop sources on non-source eps, and same for target.\n            var idx = _jsPlumb.getFloatingAnchorIndex(jpc);\n            if ((idx === 0 && !dhParams.isSource)|| (idx === 1 && !dhParams.isTarget)){\n                if (dhParams.maybeCleanup) dhParams.maybeCleanup(_ep);\n                return;\n            }\n\n            if (dhParams.onDrop) dhParams.onDrop(jpc);\n\n            // restore the original scope if necessary (issue 57)\n            if (scope) _jsPlumb.setDragScope(draggable, scope);\n\n            // if the target of the drop is full, fire an event (we abort below)\n            // makeTarget: keep.\n            var isFull = dhParams.isFull(e);\n            if (isFull) {\n                _ep.fire(\"maxConnections\", {\n                    endpoint: this,\n                    connection: jpc,\n                    maxConnections: _ep._jsPlumb.maxConnections\n                }, originalEvent);\n            }\n            //\n            // if endpoint enabled, not full, and matches the index of the floating endpoint...\n            if (!isFull &&  dhParams.enabled()) {\n                var _doContinue = true;\n\n                // before testing for beforeDrop, reset the connection's source/target to be the actual DOM elements\n                // involved (that is, stash any temporary stuff used for dragging. but we need to keep it around in\n                // order that the anchor manager can clean things up properly).\n                if (idx === 0) {\n                    jpc.floatingElement = jpc.source;\n                    jpc.floatingId = jpc.sourceId;\n                    jpc.floatingEndpoint = jpc.endpoints[0];\n                    jpc.floatingIndex = 0;\n                    jpc.source = dhParams.element;\n                    jpc.sourceId = dhParams.elementId;\n                } else {\n                    jpc.floatingElement = jpc.target;\n                    jpc.floatingId = jpc.targetId;\n                    jpc.floatingEndpoint = jpc.endpoints[1];\n                    jpc.floatingIndex = 1;\n                    jpc.target = dhParams.element;\n                    jpc.targetId = dhParams.elementId;\n                }\n\n                // if this is an existing connection and detach is not allowed we won't continue. The connection's\n                // endpoints have been reinstated; everything is back to how it was.\n                if (existingConnection && jpc.suspendedEndpoint.id != _ep.id) {\n\n                    if (!jpc.isDetachAllowed(jpc) || !jpc.endpoints[idx].isDetachAllowed(jpc) || !jpc.suspendedEndpoint.isDetachAllowed(jpc) || !_jsPlumb.checkCondition(\"beforeDetach\", jpc))\n                        _doContinue = false;\n                }\n\n// ------------ wrap the execution path in a function so we can support asynchronous beforeDrop\n\n                var continueFunction = function (optionalData) {\n                    // remove this jpc from the current endpoint, which is a floating endpoint that we will\n                    // subsequently discard.\n                    jpc.endpoints[idx].detachFromConnection(jpc);\n\n                    // if there's a suspended endpoint, detach it from the connection.\n                    if (jpc.suspendedEndpoint) jpc.suspendedEndpoint.detachFromConnection(jpc);\n\n                    jpc.endpoints[idx] = _ep;\n                    _ep.addConnection(jpc);\n\n                    // copy our parameters in to the connection:\n                    var params = _ep.getParameters();\n                    for (var aParam in params)\n                        jpc.setParameter(aParam, params[aParam]);\n\n                    if (!existingConnection) {\n                        // if not an existing connection and\n                        if (params.draggable)\n                            _jsPlumb.initDraggable(this.element, dragOptions, \"internal\", _jsPlumb);\n                    }\n                    else {\n                        var suspendedElementId = jpc.suspendedEndpoint.elementId;\n                        _jsPlumb.fireMoveEvent({\n                            index: idx,\n                            originalSourceId: idx === 0 ? suspendedElementId : jpc.sourceId,\n                            newSourceId: idx === 0 ? _ep.elementId : jpc.sourceId,\n                            originalTargetId: idx == 1 ? suspendedElementId : jpc.targetId,\n                            newTargetId: idx == 1 ? _ep.elementId : jpc.targetId,\n                            originalSourceEndpoint: idx === 0 ? jpc.suspendedEndpoint : jpc.endpoints[0],\n                            newSourceEndpoint: idx === 0 ? _ep : jpc.endpoints[0],\n                            originalTargetEndpoint: idx == 1 ? jpc.suspendedEndpoint : jpc.endpoints[1],\n                            newTargetEndpoint: idx == 1 ? _ep : jpc.endpoints[1],\n                            connection: jpc\n                        }, originalEvent);\n                    }\n\n                    if (idx == 1) {\n                        _jsPlumb.anchorManager.updateOtherEndpoint(jpc.sourceId, jpc.floatingId, jpc.targetId, jpc);\n                    }\n                    else {\n                        _jsPlumb.anchorManager.sourceChanged(jpc.floatingId, jpc.sourceId, jpc, jpc.source);\n                    }\n\n                    // when makeSource has uniqueEndpoint:true, we want to create connections with new endpoints\n                    // that are subsequently deleted. So makeSource sets `finalEndpoint`, which is the Endpoint to\n                    // which the connection should be attached. The `detachFromConnection` call below results in the\n                    // temporary endpoint being cleaned up.\n                    if (jpc.endpoints[0].finalEndpoint) {\n                        var _toDelete = jpc.endpoints[0];\n                        _toDelete.detachFromConnection(jpc);\n                        jpc.endpoints[0] = jpc.endpoints[0].finalEndpoint;\n                        jpc.endpoints[0].addConnection(jpc);\n                    }\n\n                    // if optionalData was given, merge it onto the connection's data.\n                    if (_ju.isObject(optionalData)) {\n                        jpc.mergeData(optionalData);\n                    }\n                    // finalise will inform the anchor manager and also add to\n                    // connectionsByScope if necessary.\n                    _jsPlumb.finaliseConnection(jpc, null, originalEvent, false);\n                    jpc.setHover(false);\n\n                }.bind(this);\n\n                var dontContinueFunction = function () {\n                    // otherwise just put it back on the endpoint it was on before the drag.\n                    if (jpc.suspendedEndpoint) {\n                        jpc.endpoints[idx] = jpc.suspendedEndpoint;\n                        jpc.setHover(false);\n                        jpc._forceDetach = true;\n                        if (idx === 0) {\n                            jpc.source = jpc.suspendedEndpoint.element;\n                            jpc.sourceId = jpc.suspendedEndpoint.elementId;\n                        } else {\n                            jpc.target = jpc.suspendedEndpoint.element;\n                            jpc.targetId = jpc.suspendedEndpoint.elementId;\n                        }\n                        jpc.suspendedEndpoint.addConnection(jpc);\n\n                        // TODO checkSanity\n                        if (idx == 1) {\n                            _jsPlumb.anchorManager.updateOtherEndpoint(jpc.sourceId, jpc.floatingId, jpc.targetId, jpc);\n                        }\n                        else {\n                            _jsPlumb.anchorManager.sourceChanged(jpc.floatingId, jpc.sourceId, jpc, jpc.source);\n                        }\n\n                        _jsPlumb.repaint(jpc.sourceId);\n                        jpc._forceDetach = false;\n                    }\n                };\n\n// --------------------------------------\n                // now check beforeDrop.  this will be available only on Endpoints that are setup to\n                // have a beforeDrop condition (although, secretly, under the hood all Endpoints and\n                // the Connection have them, because they are on jsPlumbUIComponent.  shhh!), because\n                // it only makes sense to have it on a target endpoint.\n                _doContinue = _doContinue && dhParams.isDropAllowed(jpc.sourceId, jpc.targetId, jpc.scope, jpc, _ep);// && jpc.pending;\n\n                if (_doContinue) {\n                    continueFunction(_doContinue);\n                    return true;\n                }\n                else {\n                    dontContinueFunction();\n                }\n            }\n\n            if (dhParams.maybeCleanup) dhParams.maybeCleanup(_ep);\n\n            _jsPlumb.currentlyDragging = false;\n        };\n    };\n}).call(typeof window !== 'undefined' ? window : this);\n\n/*\n * jsPlumb\n * \n * Title:jsPlumb 2.3.0\n * \n * Provides a way to visually connect elements on an HTML page, using SVG.\n * \n * This file contains the code for Connections.\n *\n * Copyright (c) 2010 - 2017 jsPlumb (hello@jsplumbtoolkit.com)\n * \n * https://jsplumbtoolkit.com\n * http://github.com/sporritt/jsplumb\n * \n * Dual licensed under the MIT and GPL2 licenses.\n */\n;\n(function () {\n\n    \"use strict\";\n    var root = this,\n        _jp = root.jsPlumb,\n        _ju = root.jsPlumbUtil;\n\n    var makeConnector = function (_jsPlumb, renderMode, connectorName, connectorArgs, forComponent) {\n            if (!_jsPlumb.Defaults.DoNotThrowErrors && _jp.Connectors[renderMode][connectorName] == null)\n                throw { msg: \"jsPlumb: unknown connector type '\" + connectorName + \"'\" };\n\n            return new _jp.Connectors[renderMode][connectorName](connectorArgs, forComponent);\n        },\n        _makeAnchor = function (anchorParams, elementId, _jsPlumb) {\n            return (anchorParams) ? _jsPlumb.makeAnchor(anchorParams, elementId, _jsPlumb) : null;\n        },\n        _updateConnectedClass = function (conn, element, _jsPlumb, remove) {\n            if (element != null) {\n                element._jsPlumbConnections = element._jsPlumbConnections || {};\n                if (remove)\n                    delete element._jsPlumbConnections[conn.id];\n                else\n                    element._jsPlumbConnections[conn.id] = true;\n\n                if (_ju.isEmpty(element._jsPlumbConnections)) {\n                    _jsPlumb.removeClass(element, _jsPlumb.connectedClass);\n                }\n                else\n                    _jsPlumb.addClass(element, _jsPlumb.connectedClass);\n            }\n        };\n\n    _jp.Connection = function (params) {\n        var _newEndpoint = params.newEndpoint;\n\n        this.id = params.id;\n        this.connector = null;\n        this.idPrefix = \"_jsplumb_c_\";\n        this.defaultLabelLocation = 0.5;\n        this.defaultOverlayKeys = [\"Overlays\", \"ConnectionOverlays\"];\n        // if a new connection is the result of moving some existing connection, params.previousConnection\n        // will have that Connection in it. listeners for the jsPlumbConnection event can look for that\n        // member and take action if they need to.\n        this.previousConnection = params.previousConnection;\n        this.source = _jp.getElement(params.source);\n        this.target = _jp.getElement(params.target);\n        // sourceEndpoint and targetEndpoint override source/target, if they are present. but \n        // source is not overridden if the Endpoint has declared it is not the final target of a connection;\n        // instead we use the source that the Endpoint declares will be the final source element.\n        if (params.sourceEndpoint) this.source = params.sourceEndpoint.getElement();\n        if (params.targetEndpoint) this.target = params.targetEndpoint.getElement();\n\n        _jp.OverlayCapableJsPlumbUIComponent.apply(this, arguments);\n\n        this.sourceId = this._jsPlumb.instance.getId(this.source);\n        this.targetId = this._jsPlumb.instance.getId(this.target);\n        this.scope = params.scope; // scope may have been passed in to the connect call. if it wasn't, we will pull it from the source endpoint, after having initialised the endpoints.            \n        this.endpoints = [];\n        this.endpointStyles = [];\n\n        var _jsPlumb = this._jsPlumb.instance;\n\n        _jsPlumb.manage(this.sourceId, this.source);\n        _jsPlumb.manage(this.targetId, this.target);\n\n        this._jsPlumb.visible = true;\n        this._jsPlumb.editable = params.editable === true;\n        this._jsPlumb.params = {\n            cssClass: params.cssClass,\n            container: params.container,\n            \"pointer-events\": params[\"pointer-events\"],\n            editorParams: params.editorParams,\n            overlays: params.overlays\n        };\n        this._jsPlumb.lastPaintedAt = null;\n\n        // listen to mouseover and mouseout events passed from the container delegate.\n        this.bind(\"mouseover\", function () {\n            this.setHover(true);\n        }.bind(this));\n        this.bind(\"mouseout\", function () {\n            this.setHover(false);\n        }.bind(this));\n\n        this.editableRequested = params.editable !== false;\n        this.setEditable = function(e) {\n            return this.connector ? this.connector.setEditable(e) : false;\n        };\n        this.isEditable = function() { return this.connector ? this.connector.isEditable() : false; };\n        this.isEditing = function() { return this.connector ? this.connector.isEditing() : false; };\n\n// INITIALISATION CODE\n\n        this.makeEndpoint = function (isSource, el, elId, ep) {\n            elId = elId || this._jsPlumb.instance.getId(el);\n            return this.prepareEndpoint(_jsPlumb, _newEndpoint, this, ep, isSource ? 0 : 1, params, el, elId);\n        };\n\n        // if type given, get the endpoint definitions mapping to that type from the jsplumb instance, and use those.\n        // we apply types at the end of this constructor but endpoints are only honoured in a type definition at\n        // create time.\n        if (params.type) {\n            params.endpoints = this._jsPlumb.instance.deriveEndpointAndAnchorSpec(params.type).endpoints;\n        }\n\n        var eS = this.makeEndpoint(true, this.source, this.sourceId, params.sourceEndpoint),\n            eT = this.makeEndpoint(false, this.target, this.targetId, params.targetEndpoint);\n\n        if (eS) _ju.addToList(params.endpointsByElement, this.sourceId, eS);\n        if (eT) _ju.addToList(params.endpointsByElement, this.targetId, eT);\n        // if scope not set, set it to be the scope for the source endpoint.\n        if (!this.scope) this.scope = this.endpoints[0].scope;\n\n        // if explicitly told to (or not to) delete endpoints on detach, override endpoint's preferences\n        if (params.deleteEndpointsOnDetach != null) {\n            this.endpoints[0]._deleteOnDetach = params.deleteEndpointsOnDetach;\n            this.endpoints[1]._deleteOnDetach = params.deleteEndpointsOnDetach;\n        }\n        else {\n            // otherwise, unless the endpoints say otherwise, mark them for deletion.\n            if (!this.endpoints[0]._doNotDeleteOnDetach) this.endpoints[0]._deleteOnDetach = true;\n            if (!this.endpoints[1]._doNotDeleteOnDetach) this.endpoints[1]._deleteOnDetach = true;\n        }\n\n// -------------------------- DEFAULT TYPE ---------------------------------------------\n\n        // DETACHABLE\n        var _detachable = _jsPlumb.Defaults.ConnectionsDetachable;\n        if (params.detachable === false) _detachable = false;\n        if (this.endpoints[0].connectionsDetachable === false) _detachable = false;\n        if (this.endpoints[1].connectionsDetachable === false) _detachable = false;\n        // REATTACH\n        var _reattach = params.reattach || this.endpoints[0].reattachConnections || this.endpoints[1].reattachConnections || _jsPlumb.Defaults.ReattachConnections;\n\n        this.appendToDefaultType({\n            detachable: _detachable,\n            reattach: _reattach,\n            paintStyle:this.endpoints[0].connectorStyle || this.endpoints[1].connectorStyle || params.paintStyle || _jsPlumb.Defaults.PaintStyle || _jp.Defaults.PaintStyle,\n            hoverPaintStyle:this.endpoints[0].connectorHoverStyle || this.endpoints[1].connectorHoverStyle || params.hoverPaintStyle || _jsPlumb.Defaults.HoverPaintStyle || _jp.Defaults.HoverPaintStyle\n        });\n\n\n        var _suspendedAt = _jsPlumb.getSuspendedAt();\n        if (!_jsPlumb.isSuspendDrawing()) {\n            // paint the endpoints\n            var myInfo = _jsPlumb.getCachedData(this.sourceId),\n                myOffset = myInfo.o, myWH = myInfo.s,\n                otherInfo = _jsPlumb.getCachedData(this.targetId),\n                otherOffset = otherInfo.o,\n                otherWH = otherInfo.s,\n                initialTimestamp = _suspendedAt || _jsPlumb.timestamp(),\n                anchorLoc = this.endpoints[0].anchor.compute({\n                    xy: [ myOffset.left, myOffset.top ], wh: myWH, element: this.endpoints[0],\n                    elementId: this.endpoints[0].elementId,\n                    txy: [ otherOffset.left, otherOffset.top ], twh: otherWH, tElement: this.endpoints[1],\n                    timestamp: initialTimestamp\n                });\n\n            this.endpoints[0].paint({ anchorLoc: anchorLoc, timestamp: initialTimestamp });\n\n            anchorLoc = this.endpoints[1].anchor.compute({\n                xy: [ otherOffset.left, otherOffset.top ], wh: otherWH, element: this.endpoints[1],\n                elementId: this.endpoints[1].elementId,\n                txy: [ myOffset.left, myOffset.top ], twh: myWH, tElement: this.endpoints[0],\n                timestamp: initialTimestamp\n            });\n            this.endpoints[1].paint({ anchorLoc: anchorLoc, timestamp: initialTimestamp });\n        }\n\n        this.getTypeDescriptor = function () {\n            return \"connection\";\n        };\n        this.getAttachedElements = function () {\n            return this.endpoints;\n        };\n\n        this.isDetachable = function () {\n            return this._jsPlumb.detachable === true;\n        };\n        this.setDetachable = function (detachable) {\n            this._jsPlumb.detachable = detachable === true;\n        };\n        this.isReattach = function () {\n            return this._jsPlumb.reattach === true || this.endpoints[0].reattachConnections === true || this.endpoints[1].reattachConnections === true;\n        };\n        this.setReattach = function (reattach) {\n            this._jsPlumb.reattach = reattach === true;\n        };\n\n// END INITIALISATION CODE\n\n\n// COST + DIRECTIONALITY\n        // if cost not supplied, try to inherit from source endpoint\n        this._jsPlumb.cost = params.cost || this.endpoints[0].getConnectionCost();\n        this._jsPlumb.directed = params.directed;\n        // inherit directed flag if set no source endpoint\n        if (params.directed == null) this._jsPlumb.directed = this.endpoints[0].areConnectionsDirected();\n// END COST + DIRECTIONALITY\n\n// PARAMETERS\n        // merge all the parameters objects into the connection.  parameters set\n        // on the connection take precedence; then source endpoint params, then\n        // finally target endpoint params.\n        var _p = _jp.extend({}, this.endpoints[1].getParameters());\n        _jp.extend(_p, this.endpoints[0].getParameters());\n        _jp.extend(_p, this.getParameters());\n        this.setParameters(_p);\n// END PARAMETERS\n\n// PAINTING\n\n        this.setConnector(this.endpoints[0].connector || this.endpoints[1].connector || params.connector || _jsPlumb.Defaults.Connector || _jp.Defaults.Connector, true);\n        if (params.geometry) {\n            this.connector.setGeometry(params.geometry);\n        }\n        var data = params.data == null || !_ju.isObject(params.data) ? {} : params.data;\n        this.getData = function() { return data; };\n        this.setData = function(d) { data = d || {}; };\n        this.mergeData = function(d) { data = _jp.extend(data, d); };\n\n        // the very last thing we do is apply types, if there are any.\n        var _types = [ \"default\", this.endpoints[0].connectionType, this.endpoints[1].connectionType,  params.type ].join(\" \");\n        if (/[^\\s]/.test(_types))\n            this.addType(_types, params.data, true);\n\n        this.updateConnectedClass();\n\n// END PAINTING    \n    };\n\n    _ju.extend(_jp.Connection, _jp.OverlayCapableJsPlumbUIComponent, {\n        applyType: function (t, doNotRepaint, typeMap) {\n\n            // none of these things result in the creation of objects so can be ignored.\n            if (t.detachable != null) this.setDetachable(t.detachable);\n            if (t.reattach != null) this.setReattach(t.reattach);\n            if (t.scope) this.scope = t.scope;\n\n            if (t.cssClass != null && this.canvas) this._jsPlumb.instance.addClass(this.canvas, t.cssClass);\n\n            var _anchors = null;\n            // this also results in the creation of objects.\n            if (t.anchor) {\n                // note that even if the param was anchor, we store `anchors`.\n                _anchors = this.getCachedTypeItem(\"anchors\", typeMap.anchor);\n                if (_anchors == null) {\n                    _anchors = [ this._jsPlumb.instance.makeAnchor(t.anchor), this._jsPlumb.instance.makeAnchor(t.anchor) ];\n                    this.cacheTypeItem(\"anchors\", _anchors, typeMap.anchor);\n                }\n            }\n            else if (t.anchors) {\n                _anchors = this.getCachedTypeItem(\"anchors\", typeMap.anchors);\n                if (_anchors == null) {\n                    _anchors = [\n                        this._jsPlumb.instance.makeAnchor(t.anchors[0]),\n                        this._jsPlumb.instance.makeAnchor(t.anchors[1])\n                    ];\n                    this.cacheTypeItem(\"anchors\", _anchors, typeMap.anchors);\n                }\n            }\n            if (_anchors != null) {\n                this.endpoints[0].anchor = _anchors[0];\n                this.endpoints[1].anchor = _anchors[1];\n                if (this.endpoints[1].anchor.isDynamic) this._jsPlumb.instance.repaint(this.endpoints[1].elementId);\n            }\n\n            _jp.OverlayCapableJsPlumbUIComponent.applyType(this, t);\n        },\n        addClass: function (c, informEndpoints) {\n            if (informEndpoints) {\n                this.endpoints[0].addClass(c);\n                this.endpoints[1].addClass(c);\n                if (this.suspendedEndpoint) this.suspendedEndpoint.addClass(c);\n            }\n            if (this.connector) {\n                this.connector.addClass(c);\n            }\n        },\n        removeClass: function (c, informEndpoints) {\n            if (informEndpoints) {\n                this.endpoints[0].removeClass(c);\n                this.endpoints[1].removeClass(c);\n                if (this.suspendedEndpoint) this.suspendedEndpoint.removeClass(c);\n            }\n            if (this.connector) {\n                this.connector.removeClass(c);\n            }\n        },\n        isVisible: function () {\n            return this._jsPlumb.visible;\n        },\n        setVisible: function (v) {\n            this._jsPlumb.visible = v;\n            if (this.connector)\n                this.connector.setVisible(v);\n            this.repaint();\n        },\n        cleanup: function () {\n            this.updateConnectedClass(true);\n            this.endpoints = null;\n            this.source = null;\n            this.target = null;\n            if (this.connector != null) {\n                this.connector.cleanup(true);\n                this.connector.destroy(true);\n            }\n            this.connector = null;\n        },\n        updateConnectedClass:function(remove) {\n            if (this._jsPlumb) {\n                _updateConnectedClass(this, this.source, this._jsPlumb.instance, remove);\n                _updateConnectedClass(this, this.target, this._jsPlumb.instance, remove);\n            }\n        },\n        setHover: function (state) {\n            if (this.connector && this._jsPlumb && !this._jsPlumb.instance.isConnectionBeingDragged()) {\n                this.connector.setHover(state);\n                root.jsPlumb[state ? \"addClass\" : \"removeClass\"](this.source, this._jsPlumb.instance.hoverSourceClass);\n                root.jsPlumb[state ? \"addClass\" : \"removeClass\"](this.target, this._jsPlumb.instance.hoverTargetClass);\n            }\n        },\n        getUuids:function() {\n            return [ this.endpoints[0].getUuid(), this.endpoints[1].getUuid() ];\n        },\n        getCost: function () {\n            return this._jsPlumb ? this._jsPlumb.cost : -Infinity;\n        },\n        setCost: function (c) {\n            this._jsPlumb.cost = c;\n        },\n        isDirected: function () {\n            return this._jsPlumb.directed === true;\n        },\n        getConnector: function () {\n            return this.connector;\n        },\n        getGeometry : function() { return this.connector ? this.connector.getGeometry() : null; },\n        setGeometry : function(g) { if (this.connector) this.connector.setGeometry(g); },\n        prepareConnector:function(connectorSpec, typeId) {\n            var connectorArgs = {\n                    _jsPlumb: this._jsPlumb.instance,\n                    cssClass: (this._jsPlumb.params.cssClass || \"\") + (this.isEditable() ? this._jsPlumb.instance.editableConnectorClass : \"\"),\n                    container: this._jsPlumb.params.container,\n                    \"pointer-events\": this._jsPlumb.params[\"pointer-events\"],\n                    editable:this.editableRequested\n                },\n                renderMode = this._jsPlumb.instance.getRenderMode(),\n                connector;\n\n            if (_ju.isString(connectorSpec))\n                connector = makeConnector(this._jsPlumb.instance, renderMode, connectorSpec, connectorArgs, this); // lets you use a string as shorthand.\n            else if (_ju.isArray(connectorSpec)) {\n                if (connectorSpec.length == 1)\n                    connector = makeConnector(this._jsPlumb.instance, renderMode, connectorSpec[0], connectorArgs, this);\n                else\n                    connector = makeConnector(this._jsPlumb.instance, renderMode, connectorSpec[0], _ju.merge(connectorSpec[1], connectorArgs), this);\n            }\n            if (typeId != null) connector.typeId = typeId;\n            return connector;\n        },\n        setPreparedConnector: function(connector, doNotRepaint, doNotChangeListenerComponent, typeId) {\n\n            var previous, previousClasses = \"\";\n            // the connector will not be cleaned up if it was set as part of a type, because `typeId` will be set on it\n            // and we havent passed in `true` for \"force\" here.\n            if (this.connector != null) {\n                previous = this.connector;\n                previousClasses = previous.getClass();\n                this.connector.cleanup();\n                this.connector.destroy();\n            }\n\n            this.connector = connector;\n            if (typeId) {\n                this.cacheTypeItem(\"connector\", connector, typeId);\n            }\n\n            this.canvas = this.connector.canvas;\n            this.bgCanvas = this.connector.bgCanvas;\n\n            // put classes from prior connector onto the canvas\n            this.addClass(previousClasses);\n\n            // new: instead of binding listeners per connector, we now just have one delegate on the container.\n            // so for that handler we set the connection as the '_jsPlumb' member of the canvas element, and\n            // bgCanvas, if it exists, which it does right now in the VML renderer, so it won't from v 2.0.0 onwards.\n            if (this.canvas) this.canvas._jsPlumb = this;\n            if (this.bgCanvas) this.bgCanvas._jsPlumb = this;\n\n            if (previous != null) {\n                var o = this.getOverlays();\n                for (var i = 0; i < o.length; i++) {\n                    if (o[i].transfer) o[i].transfer(this.connector);\n                }\n            }\n\n            if (!doNotChangeListenerComponent) this.setListenerComponent(this.connector);\n            if (!doNotRepaint) this.repaint();\n        },\n        setConnector: function (connectorSpec, doNotRepaint, doNotChangeListenerComponent, typeId) {\n            var connector = this.prepareConnector(connectorSpec, typeId);\n            this.setPreparedConnector(connector, doNotRepaint, doNotChangeListenerComponent, typeId);\n        },\n        paint: function (params) {\n\n            if (!this._jsPlumb.instance.isSuspendDrawing() && this._jsPlumb.visible) {\n                params = params || {};\n                var timestamp = params.timestamp,\n                // if the moving object is not the source we must transpose the two references.\n                    swap = false,\n                    tId = swap ? this.sourceId : this.targetId, sId = swap ? this.targetId : this.sourceId,\n                    tIdx = swap ? 0 : 1, sIdx = swap ? 1 : 0;\n\n                if (timestamp == null || timestamp != this._jsPlumb.lastPaintedAt) {\n                    var sourceInfo = this._jsPlumb.instance.updateOffset({elId:sId}).o,\n                        targetInfo = this._jsPlumb.instance.updateOffset({elId:tId}).o,\n                        sE = this.endpoints[sIdx], tE = this.endpoints[tIdx];\n\n                    var sAnchorP = sE.anchor.getCurrentLocation({xy: [sourceInfo.left, sourceInfo.top], wh: [sourceInfo.width, sourceInfo.height], element: sE, timestamp: timestamp}),\n                        tAnchorP = tE.anchor.getCurrentLocation({xy: [targetInfo.left, targetInfo.top], wh: [targetInfo.width, targetInfo.height], element: tE, timestamp: timestamp});\n\n                    this.connector.resetBounds();\n\n                    this.connector.compute({\n                        sourcePos: sAnchorP,\n                        targetPos: tAnchorP,\n                        sourceEndpoint: this.endpoints[sIdx],\n                        targetEndpoint: this.endpoints[tIdx],\n                        \"stroke-width\": this._jsPlumb.paintStyleInUse.strokeWidth,\n                        sourceInfo: sourceInfo,\n                        targetInfo: targetInfo\n                    });\n\n                    var overlayExtents = { minX: Infinity, minY: Infinity, maxX: -Infinity, maxY: -Infinity };\n\n                    // compute overlays. we do this first so we can get their placements, and adjust the\n                    // container if needs be (if an overlay would be clipped)\n                    for (var i in this._jsPlumb.overlays) {\n                        if (this._jsPlumb.overlays.hasOwnProperty(i)) {\n                            var o = this._jsPlumb.overlays[i];\n                            if (o.isVisible()) {\n                                this._jsPlumb.overlayPlacements[i] = o.draw(this.connector, this._jsPlumb.paintStyleInUse, this.getAbsoluteOverlayPosition(o));\n                                overlayExtents.minX = Math.min(overlayExtents.minX, this._jsPlumb.overlayPlacements[i].minX);\n                                overlayExtents.maxX = Math.max(overlayExtents.maxX, this._jsPlumb.overlayPlacements[i].maxX);\n                                overlayExtents.minY = Math.min(overlayExtents.minY, this._jsPlumb.overlayPlacements[i].minY);\n                                overlayExtents.maxY = Math.max(overlayExtents.maxY, this._jsPlumb.overlayPlacements[i].maxY);\n                            }\n                        }\n                    }\n\n                    var lineWidth = parseFloat(this._jsPlumb.paintStyleInUse.strokeWidth || 1) / 2,\n                        outlineWidth = parseFloat(this._jsPlumb.paintStyleInUse.strokeWidth || 0),\n                        extents = {\n                            xmin: Math.min(this.connector.bounds.minX - (lineWidth + outlineWidth), overlayExtents.minX),\n                            ymin: Math.min(this.connector.bounds.minY - (lineWidth + outlineWidth), overlayExtents.minY),\n                            xmax: Math.max(this.connector.bounds.maxX + (lineWidth + outlineWidth), overlayExtents.maxX),\n                            ymax: Math.max(this.connector.bounds.maxY + (lineWidth + outlineWidth), overlayExtents.maxY)\n                        };\n                    // paint the connector.\n                    this.connector.paint(this._jsPlumb.paintStyleInUse, null, extents);\n                    // and then the overlays\n                    for (var j in this._jsPlumb.overlays) {\n                        if (this._jsPlumb.overlays.hasOwnProperty(j)) {\n                            var p = this._jsPlumb.overlays[j];\n                            if (p.isVisible()) {\n                                p.paint(this._jsPlumb.overlayPlacements[j], extents);\n                            }\n                        }\n                    }\n                }\n                this._jsPlumb.lastPaintedAt = timestamp;\n            }\n        },\n        repaint: function (params) {\n            params = params || {};\n            this.paint({ elId: this.sourceId, recalc: !(params.recalc === false), timestamp: params.timestamp});\n        },\n        prepareEndpoint: function (_jsPlumb, _newEndpoint, conn, existing, index, params, element, elementId) {\n            var e;\n            if (existing) {\n                conn.endpoints[index] = existing;\n                existing.addConnection(conn);\n            } else {\n                if (!params.endpoints) params.endpoints = [ null, null ];\n                var ep = params.endpoints[index] || params.endpoint || _jsPlumb.Defaults.Endpoints[index] || _jp.Defaults.Endpoints[index] || _jsPlumb.Defaults.Endpoint || _jp.Defaults.Endpoint;\n                if (!params.endpointStyles) params.endpointStyles = [ null, null ];\n                if (!params.endpointHoverStyles) params.endpointHoverStyles = [ null, null ];\n                var es = params.endpointStyles[index] || params.endpointStyle || _jsPlumb.Defaults.EndpointStyles[index] || _jp.Defaults.EndpointStyles[index] || _jsPlumb.Defaults.EndpointStyle || _jp.Defaults.EndpointStyle;\n                // Endpoints derive their fill from the connector's stroke, if no fill was specified.\n                if (es.fill == null && params.paintStyle != null)\n                    es.fill = params.paintStyle.stroke;\n\n                if (es.outlineStroke == null && params.paintStyle != null)\n                    es.outlineStroke = params.paintStyle.outlineStroke;\n                if (es.outlineWidth == null && params.paintStyle != null)\n                    es.outlineWidth = params.paintStyle.outlineWidth;\n\n                var ehs = params.endpointHoverStyles[index] || params.endpointHoverStyle || _jsPlumb.Defaults.EndpointHoverStyles[index] || _jp.Defaults.EndpointHoverStyles[index] || _jsPlumb.Defaults.EndpointHoverStyle || _jp.Defaults.EndpointHoverStyle;\n                // endpoint hover fill style is derived from connector's hover stroke style\n                if (params.hoverPaintStyle != null) {\n                    if (ehs == null) ehs = {};\n                    if (ehs.fill == null) {\n                        ehs.fill = params.hoverPaintStyle.stroke;\n                    }\n                }\n                var a = params.anchors ? params.anchors[index] :\n                        params.anchor ? params.anchor :\n                            _makeAnchor(_jsPlumb.Defaults.Anchors[index], elementId, _jsPlumb) ||\n                            _makeAnchor(_jp.Defaults.Anchors[index], elementId, _jsPlumb) ||\n                            _makeAnchor(_jsPlumb.Defaults.Anchor, elementId, _jsPlumb) ||\n                            _makeAnchor(_jp.Defaults.Anchor, elementId, _jsPlumb),\n                    u = params.uuids ? params.uuids[index] : null;\n\n                e = _newEndpoint({\n                    paintStyle: es, hoverPaintStyle: ehs, endpoint: ep, connections: [ conn ],\n                    uuid: u, anchor: a, source: element, scope: params.scope,\n                    reattach: params.reattach || _jsPlumb.Defaults.ReattachConnections,\n                    detachable: params.detachable || _jsPlumb.Defaults.ConnectionsDetachable\n                });\n                conn.endpoints[index] = e;\n\n                if (params.drawEndpoints === false) e.setVisible(false, true, true);\n\n            }\n            return e;\n        }\n\n    }); // END Connection class            \n}).call(typeof window !== 'undefined' ? window : this);\n\n/*\n * jsPlumb\n * \n * Title:jsPlumb 2.3.0\n * \n * Provides a way to visually connect elements on an HTML page, using SVG.\n * \n * This file contains the code for creating and manipulating anchors.\n *\n * Copyright (c) 2010 - 2017 jsPlumb (hello@jsplumbtoolkit.com)\n * \n * http://jsplumbtoolkit.com\n * http://github.com/sporritt/jsplumb\n * \n * Dual licensed under the MIT and GPL2 licenses.\n */\n;\n(function () {\n\n    \"use strict\";\n\n    var root = this,\n        _ju = root.jsPlumbUtil,\n        _jp = root.jsPlumb;\n\n    //\n    // manages anchors for all elements.\n    //\n    _jp.AnchorManager = function (params) {\n        var _amEndpoints = {},\n            continuousAnchorLocations = {},\n            userDefinedContinuousAnchorLocations = {},\n            continuousAnchorOrientations = {},\n            Orientation = { HORIZONTAL: \"horizontal\", VERTICAL: \"vertical\", DIAGONAL: \"diagonal\", IDENTITY: \"identity\" },\n            axes = [\"left\", \"top\", \"right\", \"bottom\"],\n            connectionsByElementId = {},\n            self = this,\n            anchorLists = {},\n            jsPlumbInstance = params.jsPlumbInstance,\n            floatingConnections = {},\n            calculateOrientation = function (sourceId, targetId, sd, td, sourceAnchor, targetAnchor) {\n\n                if (sourceId === targetId) return {\n                    orientation: Orientation.IDENTITY,\n                    a: [\"top\", \"top\"]\n                };\n\n                var theta = Math.atan2((td.centery - sd.centery), (td.centerx - sd.centerx)),\n                    theta2 = Math.atan2((sd.centery - td.centery), (sd.centerx - td.centerx));\n\n// --------------------------------------------------------------------------------------\n\n                // improved face calculation. get midpoints of each face for source and target, then put in an array with all combinations of\n                // source/target faces. sort this array by distance between midpoints. the entry at index 0 is our preferred option. we can\n                // go through the array one by one until we find an entry in which each requested face is supported.\n                var candidates = [], midpoints = { };\n                (function (types, dim) {\n                    for (var i = 0; i < types.length; i++) {\n                        midpoints[types[i]] = {\n                            \"left\": [ dim[i].left, dim[i].centery ],\n                            \"right\": [ dim[i].right, dim[i].centery ],\n                            \"top\": [ dim[i].centerx, dim[i].top ],\n                            \"bottom\": [ dim[i].centerx , dim[i].bottom]\n                        };\n                    }\n                })([ \"source\", \"target\" ], [ sd, td ]);\n\n                for (var sf = 0; sf < axes.length; sf++) {\n                    for (var tf = 0; tf < axes.length; tf++) {\n                        candidates.push({\n                            source: axes[sf],\n                            target: axes[tf],\n                            dist: Biltong.lineLength(midpoints.source[axes[sf]], midpoints.target[axes[tf]])\n                        });\n                    }\n                }\n\n                candidates.sort(function (a, b) {\n                    return a.dist < b.dist ? -1 : a.dist > b.dist ? 1 : 0;\n                });\n\n                // now go through this list and try to get an entry that satisfies both (there will be one, unless one of the anchors\n                // declares no available faces)\n                var sourceEdge = candidates[0].source, targetEdge = candidates[0].target;\n                for (var i = 0; i < candidates.length; i++) {\n\n                    if (!sourceAnchor.isContinuous || sourceAnchor.isEdgeSupported(candidates[i].source))\n                        sourceEdge = candidates[i].source;\n                    else\n                        sourceEdge = null;\n\n                    if (!targetAnchor.isContinuous || targetAnchor.isEdgeSupported(candidates[i].target))\n                        targetEdge = candidates[i].target;\n                    else {\n                        targetEdge = null;\n                    }\n\n                    if (sourceEdge != null && targetEdge != null) break;\n                }\n\n// --------------------------------------------------------------------------------------\n\n                return {\n                    a: [ sourceEdge, targetEdge ],\n                    theta: theta,\n                    theta2: theta2\n                };\n            },\n        // used by placeAnchors function\n            placeAnchorsOnLine = function (desc, elementDimensions, elementPosition, connections, horizontal, otherMultiplier, reverse) {\n                var a = [], step = elementDimensions[horizontal ? 0 : 1] / (connections.length + 1);\n\n                for (var i = 0; i < connections.length; i++) {\n                    var val = (i + 1) * step, other = otherMultiplier * elementDimensions[horizontal ? 1 : 0];\n                    if (reverse)\n                        val = elementDimensions[horizontal ? 0 : 1] - val;\n\n                    var dx = (horizontal ? val : other), x = elementPosition[0] + dx, xp = dx / elementDimensions[0],\n                        dy = (horizontal ? other : val), y = elementPosition[1] + dy, yp = dy / elementDimensions[1];\n\n                    a.push([ x, y, xp, yp, connections[i][1], connections[i][2] ]);\n                }\n\n                return a;\n            },\n        // used by edgeSortFunctions\n            currySort = function (reverseAngles) {\n                return function (a, b) {\n                    var r = true;\n                    if (reverseAngles) {\n                        r = a[0][0] < b[0][0];\n                    }\n                    else {\n                        r = a[0][0] > b[0][0];\n                    }\n                    return r === false ? -1 : 1;\n                };\n            },\n        // used by edgeSortFunctions\n            leftSort = function (a, b) {\n                // first get adjusted values\n                var p1 = a[0][0] < 0 ? -Math.PI - a[0][0] : Math.PI - a[0][0],\n                    p2 = b[0][0] < 0 ? -Math.PI - b[0][0] : Math.PI - b[0][0];\n                if (p1 > p2) return 1;\n                else return -1;\n            },\n        // used by placeAnchors\n            edgeSortFunctions = {\n                \"top\": function (a, b) {\n                    return a[0] > b[0] ? 1 : -1;\n                },\n                \"right\": currySort(true),\n                \"bottom\": currySort(true),\n                \"left\": leftSort\n            },\n        // used by placeAnchors\n            _sortHelper = function (_array, _fn) {\n                return _array.sort(_fn);\n            },\n        // used by AnchorManager.redraw\n            placeAnchors = function (elementId, _anchorLists) {\n                var cd = jsPlumbInstance.getCachedData(elementId), sS = cd.s, sO = cd.o,\n                    placeSomeAnchors = function (desc, elementDimensions, elementPosition, unsortedConnections, isHorizontal, otherMultiplier, orientation) {\n                        if (unsortedConnections.length > 0) {\n                            var sc = _sortHelper(unsortedConnections, edgeSortFunctions[desc]), // puts them in order based on the target element's pos on screen\n                                reverse = desc === \"right\" || desc === \"top\",\n                                anchors = placeAnchorsOnLine(desc, elementDimensions,\n                                    elementPosition, sc,\n                                    isHorizontal, otherMultiplier, reverse);\n\n                            // takes a computed anchor position and adjusts it for parent offset and scroll, then stores it.\n                            var _setAnchorLocation = function (endpoint, anchorPos) {\n                                continuousAnchorLocations[endpoint.id] = [ anchorPos[0], anchorPos[1], anchorPos[2], anchorPos[3] ];\n                                continuousAnchorOrientations[endpoint.id] = orientation;\n                            };\n\n                            for (var i = 0; i < anchors.length; i++) {\n                                var c = anchors[i][4], weAreSource = c.endpoints[0].elementId === elementId, weAreTarget = c.endpoints[1].elementId === elementId;\n                                if (weAreSource)\n                                    _setAnchorLocation(c.endpoints[0], anchors[i]);\n                                if (weAreTarget)\n                                    _setAnchorLocation(c.endpoints[1], anchors[i]);\n                            }\n                        }\n                    };\n\n                placeSomeAnchors(\"bottom\", sS, [sO.left, sO.top], _anchorLists.bottom, true, 1, [0, 1]);\n                placeSomeAnchors(\"top\", sS, [sO.left, sO.top], _anchorLists.top, true, 0, [0, -1]);\n                placeSomeAnchors(\"left\", sS, [sO.left, sO.top], _anchorLists.left, false, 0, [-1, 0]);\n                placeSomeAnchors(\"right\", sS, [sO.left, sO.top], _anchorLists.right, false, 1, [1, 0]);\n            };\n\n        this.reset = function () {\n            _amEndpoints = {};\n            connectionsByElementId = {};\n            anchorLists = {};\n        };\n        this.addFloatingConnection = function (key, conn) {\n            floatingConnections[key] = conn;\n        };\n        this.removeFloatingConnection = function (key) {\n            delete floatingConnections[key];\n        };\n        this.newConnection = function (conn) {\n            var sourceId = conn.sourceId, targetId = conn.targetId,\n                ep = conn.endpoints,\n                doRegisterTarget = true,\n                registerConnection = function (otherIndex, otherEndpoint, otherAnchor, elId, c) {\n                    if ((sourceId == targetId) && otherAnchor.isContinuous) {\n                        // remove the target endpoint's canvas.  we dont need it.\n                        conn._jsPlumb.instance.removeElement(ep[1].canvas);\n                        doRegisterTarget = false;\n                    }\n                    _ju.addToList(connectionsByElementId, elId, [c, otherEndpoint, otherAnchor.constructor == _jp.DynamicAnchor]);\n                };\n\n            registerConnection(0, ep[0], ep[0].anchor, targetId, conn);\n            if (doRegisterTarget)\n                registerConnection(1, ep[1], ep[1].anchor, sourceId, conn);\n        };\n        var removeEndpointFromAnchorLists = function (endpoint) {\n            (function (list, eId) {\n                if (list) {  // transient anchors dont get entries in this list.\n                    var f = function (e) {\n                        return e[4] == eId;\n                    };\n                    _ju.removeWithFunction(list.top, f);\n                    _ju.removeWithFunction(list.left, f);\n                    _ju.removeWithFunction(list.bottom, f);\n                    _ju.removeWithFunction(list.right, f);\n                }\n            })(anchorLists[endpoint.elementId], endpoint.id);\n        };\n        this.connectionDetached = function (connInfo, doNotRedraw) {\n            var connection = connInfo.connection || connInfo,\n                sourceId = connInfo.sourceId,\n                targetId = connInfo.targetId,\n                ep = connection.endpoints,\n                removeConnection = function (otherIndex, otherEndpoint, otherAnchor, elId, c) {\n                   _ju.removeWithFunction(connectionsByElementId[elId], function (_c) {\n                        return _c[0].id == c.id;\n                    });\n                };\n\n            removeConnection(1, ep[1], ep[1].anchor, sourceId, connection);\n            removeConnection(0, ep[0], ep[0].anchor, targetId, connection);\n            if (connection.floatingId) {\n                removeConnection(connection.floatingIndex, connection.floatingEndpoint, connection.floatingEndpoint.anchor, connection.floatingId, connection);\n                removeEndpointFromAnchorLists(connection.floatingEndpoint);\n            }\n\n            // remove from anchorLists            \n            removeEndpointFromAnchorLists(connection.endpoints[0]);\n            removeEndpointFromAnchorLists(connection.endpoints[1]);\n\n            if (!doNotRedraw) {\n                self.redraw(connection.sourceId);\n                if (connection.targetId !== connection.sourceId)\n                    self.redraw(connection.targetId);\n            }\n        };\n        this.add = function (endpoint, elementId) {\n            _ju.addToList(_amEndpoints, elementId, endpoint);\n        };\n        this.changeId = function (oldId, newId) {\n            connectionsByElementId[newId] = connectionsByElementId[oldId];\n            _amEndpoints[newId] = _amEndpoints[oldId];\n            delete connectionsByElementId[oldId];\n            delete _amEndpoints[oldId];\n        };\n        this.getConnectionsFor = function (elementId) {\n            return connectionsByElementId[elementId] || [];\n        };\n        this.getEndpointsFor = function (elementId) {\n            return _amEndpoints[elementId] || [];\n        };\n        this.deleteEndpoint = function (endpoint) {\n            _ju.removeWithFunction(_amEndpoints[endpoint.elementId], function (e) {\n                return e.id == endpoint.id;\n            });\n            removeEndpointFromAnchorLists(endpoint);\n        };\n        this.clearFor = function (elementId) {\n            delete _amEndpoints[elementId];\n            _amEndpoints[elementId] = [];\n        };\n        // updates the given anchor list by either updating an existing anchor's info, or adding it. this function\n        // also removes the anchor from its previous list, if the edge it is on has changed.\n        // all connections found along the way (those that are connected to one of the faces this function\n        // operates on) are added to the connsToPaint list, as are their endpoints. in this way we know to repaint\n        // them wthout having to calculate anything else about them.\n        var _updateAnchorList = function (lists, theta, order, conn, aBoolean, otherElId, idx, reverse, edgeId, elId, connsToPaint, endpointsToPaint) {\n            // first try to find the exact match, but keep track of the first index of a matching element id along the way.s\n            var exactIdx = -1,\n                firstMatchingElIdx = -1,\n                endpoint = conn.endpoints[idx],\n                endpointId = endpoint.id,\n                oIdx = [1, 0][idx],\n                values = [\n                    [ theta, order ],\n                    conn,\n                    aBoolean,\n                    otherElId,\n                    endpointId\n                ],\n                listToAddTo = lists[edgeId],\n                listToRemoveFrom = endpoint._continuousAnchorEdge ? lists[endpoint._continuousAnchorEdge] : null,\n                i,\n                candidate;\n\n            if (listToRemoveFrom) {\n                var rIdx = _ju.findWithFunction(listToRemoveFrom, function (e) {\n                    return e[4] == endpointId;\n                });\n                if (rIdx != -1) {\n                    listToRemoveFrom.splice(rIdx, 1);\n                    // get all connections from this list\n                    for (i = 0; i < listToRemoveFrom.length; i++) {\n                        candidate = listToRemoveFrom[i][1];\n                        _ju.addWithFunction(connsToPaint, candidate, function (c) {\n                            return c.id == candidate.id;\n                        });\n                        _ju.addWithFunction(endpointsToPaint, listToRemoveFrom[i][1].endpoints[idx], function (e) {\n                            return e.id == candidate.endpoints[idx].id;\n                        });\n                        _ju.addWithFunction(endpointsToPaint, listToRemoveFrom[i][1].endpoints[oIdx], function (e) {\n                            return e.id == candidate.endpoints[oIdx].id;\n                        });\n                    }\n                }\n            }\n\n            for (i = 0; i < listToAddTo.length; i++) {\n                candidate = listToAddTo[i][1];\n                if (params.idx == 1 && listToAddTo[i][3] === otherElId && firstMatchingElIdx == -1)\n                    firstMatchingElIdx = i;\n                _ju.addWithFunction(connsToPaint, candidate, function (c) {\n                    return c.id == candidate.id;\n                });\n                _ju.addWithFunction(endpointsToPaint, listToAddTo[i][1].endpoints[idx], function (e) {\n                    return e.id == candidate.endpoints[idx].id;\n                });\n                _ju.addWithFunction(endpointsToPaint, listToAddTo[i][1].endpoints[oIdx], function (e) {\n                    return e.id == candidate.endpoints[oIdx].id;\n                });\n            }\n            if (exactIdx != -1) {\n                listToAddTo[exactIdx] = values;\n            }\n            else {\n                var insertIdx = reverse ? firstMatchingElIdx != -1 ? firstMatchingElIdx : 0 : listToAddTo.length; // of course we will get this from having looked through the array shortly.\n                listToAddTo.splice(insertIdx, 0, values);\n            }\n\n            // store this for next time.\n            endpoint._continuousAnchorEdge = edgeId;\n        };\n\n        //\n        // find the entry in an endpoint's list for this connection and update its target endpoint\n        // with the current target in the connection.\n        // This method and sourceChanged need to be folder into one.\n        //\n        this.updateOtherEndpoint = function (sourceElId, oldTargetId, newTargetId, connection) {\n            var sIndex = _ju.findWithFunction(connectionsByElementId[sourceElId], function (i) {\n                    return i[0].id === connection.id;\n                }),\n                tIndex = _ju.findWithFunction(connectionsByElementId[oldTargetId], function (i) {\n                    return i[0].id === connection.id;\n                });\n\n            // update or add data for source\n            if (sIndex != -1) {\n                connectionsByElementId[sourceElId][sIndex][0] = connection;\n                connectionsByElementId[sourceElId][sIndex][1] = connection.endpoints[1];\n                connectionsByElementId[sourceElId][sIndex][2] = connection.endpoints[1].anchor.constructor == _jp.DynamicAnchor;\n            }\n\n            // remove entry for previous target (if there)\n            if (tIndex > -1) {\n                connectionsByElementId[oldTargetId].splice(tIndex, 1);\n                // add entry for new target\n                _ju.addToList(connectionsByElementId, newTargetId, [connection, connection.endpoints[0], connection.endpoints[0].anchor.constructor == _jp.DynamicAnchor]);\n            }\n\n            connection.updateConnectedClass();\n        };\n\n        //\n        // notification that the connection given has changed source from the originalId to the newId.\n        // This involves:\n        // 1. removing the connection from the list of connections stored for the originalId\n        // 2. updating the source information for the target of the connection\n        // 3. re-registering the connection in connectionsByElementId with the newId\n        //\n        this.sourceChanged = function (originalId, newId, connection, newElement) {\n            if (originalId !== newId) {\n\n                connection.sourceId = newId;\n                connection.source = newElement;\n\n                // remove the entry that points from the old source to the target\n                _ju.removeWithFunction(connectionsByElementId[originalId], function (info) {\n                    return info[0].id === connection.id;\n                });\n                // find entry for target and update it\n                var tIdx = _ju.findWithFunction(connectionsByElementId[connection.targetId], function (i) {\n                    return i[0].id === connection.id;\n                });\n                if (tIdx > -1) {\n                    connectionsByElementId[connection.targetId][tIdx][0] = connection;\n                    connectionsByElementId[connection.targetId][tIdx][1] = connection.endpoints[0];\n                    connectionsByElementId[connection.targetId][tIdx][2] = connection.endpoints[0].anchor.constructor == _jp.DynamicAnchor;\n                }\n                // add entry for new source\n                _ju.addToList(connectionsByElementId, newId, [connection, connection.endpoints[1], connection.endpoints[1].anchor.constructor == _jp.DynamicAnchor]);\n\n                // TODO SP not final on this yet. when a user drags an existing connection and it turns into a self\n                // loop, then this code hides the target endpoint (by removing it from the DOM) But I think this should\n                // occur only if the anchor is Continuous\n                if (connection.endpoints[1].anchor.isContinuous) {\n                    if (connection.source === connection.target) {\n                        connection._jsPlumb.instance.removeElement(connection.endpoints[1].canvas);\n                    }\n                    else {\n                        if (connection.endpoints[1].canvas.parentNode == null) {\n                            connection._jsPlumb.instance.appendElement(connection.endpoints[1].canvas);\n                        }\n                    }\n                }\n\n                connection.updateConnectedClass();\n            }\n        };\n\n        //\n        // moves the given endpoint from `currentId` to `element`.\n        // This involves:\n        //\n        // 1. changing the key in _amEndpoints under which the endpoint is stored\n        // 2. changing the source or target values in all of the endpoint's connections\n        // 3. changing the array in connectionsByElementId in which the endpoint's connections\n        //    are stored (done by either sourceChanged or updateOtherEndpoint)\n        //\n        this.rehomeEndpoint = function (ep, currentId, element) {\n            var eps = _amEndpoints[currentId] || [],\n                elementId = jsPlumbInstance.getId(element);\n\n            if (elementId !== currentId) {\n                var idx = eps.indexOf(ep);\n                if (idx > -1) {\n                    var _ep = eps.splice(idx, 1)[0];\n                    self.add(_ep, elementId);\n                }\n            }\n\n            for (var i = 0; i < ep.connections.length; i++) {\n                if (ep.connections[i].sourceId == currentId) {\n                    //ep.connections[i].sourceId = ep.elementId;\n                    //ep.connections[i].source = ep.element;\n                    self.sourceChanged(currentId, ep.elementId, ep.connections[i], ep.element);\n                }\n                else if (ep.connections[i].targetId == currentId) {\n                    ep.connections[i].targetId = ep.elementId;\n                    ep.connections[i].target = ep.element;\n                    self.updateOtherEndpoint(ep.connections[i].sourceId, currentId, ep.elementId, ep.connections[i]);\n                }\n            }\n        };\n\n        this.redraw = function (elementId, ui, timestamp, offsetToUI, clearEdits, doNotRecalcEndpoint) {\n\n            if (!jsPlumbInstance.isSuspendDrawing()) {\n                // get all the endpoints for this element\n                var ep = _amEndpoints[elementId] || [],\n                    endpointConnections = connectionsByElementId[elementId] || [],\n                    connectionsToPaint = [],\n                    endpointsToPaint = [],\n                    anchorsToUpdate = [];\n\n                timestamp = timestamp || jsPlumbInstance.timestamp();\n                // offsetToUI are values that would have been calculated in the dragManager when registering\n                // an endpoint for an element that had a parent (somewhere in the hierarchy) that had been\n                // registered as draggable.\n                offsetToUI = offsetToUI || {left: 0, top: 0};\n                if (ui) {\n                    ui = {\n                        left: ui.left + offsetToUI.left,\n                        top: ui.top + offsetToUI.top\n                    };\n                }\n\n                // valid for one paint cycle.\n                var myOffset = jsPlumbInstance.updateOffset({ elId: elementId, offset: ui, recalc: false, timestamp: timestamp }),\n                    orientationCache = {};\n\n                // actually, first we should compute the orientation of this element to all other elements to which\n                // this element is connected with a continuous anchor (whether both ends of the connection have\n                // a continuous anchor or just one)\n\n                for (var i = 0; i < endpointConnections.length; i++) {\n                    var conn = endpointConnections[i][0],\n                        sourceId = conn.sourceId,\n                        targetId = conn.targetId,\n                        sourceContinuous = conn.endpoints[0].anchor.isContinuous,\n                        targetContinuous = conn.endpoints[1].anchor.isContinuous;\n\n                    if (sourceContinuous || targetContinuous) {\n                        var oKey = sourceId + \"_\" + targetId,\n                            o = orientationCache[oKey],\n                            oIdx = conn.sourceId == elementId ? 1 : 0;\n\n                        if (sourceContinuous && !anchorLists[sourceId]) anchorLists[sourceId] = { top: [], right: [], bottom: [], left: [] };\n                        if (targetContinuous && !anchorLists[targetId]) anchorLists[targetId] = { top: [], right: [], bottom: [], left: [] };\n\n                        if (elementId != targetId) jsPlumbInstance.updateOffset({ elId: targetId, timestamp: timestamp });\n                        if (elementId != sourceId) jsPlumbInstance.updateOffset({ elId: sourceId, timestamp: timestamp });\n\n                        var td = jsPlumbInstance.getCachedData(targetId),\n                            sd = jsPlumbInstance.getCachedData(sourceId);\n\n                        if (targetId == sourceId && (sourceContinuous || targetContinuous)) {\n                            // here we may want to improve this by somehow determining the face we'd like\n                            // to put the connector on.  ideally, when drawing, the face should be calculated\n                            // by determining which face is closest to the point at which the mouse button\n                            // was released.  for now, we're putting it on the top face.\n                            _updateAnchorList( anchorLists[sourceId], -Math.PI / 2, 0, conn, false, targetId, 0, false, \"top\", sourceId, connectionsToPaint, endpointsToPaint);\n                            _updateAnchorList( anchorLists[targetId], -Math.PI / 2, 0, conn, false, sourceId, 1, false, \"top\", targetId, connectionsToPaint, endpointsToPaint);\n                        }\n                        else {\n                            if (!o) {\n                                o = calculateOrientation(sourceId, targetId, sd.o, td.o, conn.endpoints[0].anchor, conn.endpoints[1].anchor);\n                                orientationCache[oKey] = o;\n                                // this would be a performance enhancement, but the computed angles need to be clamped to\n                                //the (-PI/2 -> PI/2) range in order for the sorting to work properly.\n                                /*  orientationCache[oKey2] = {\n                                 orientation:o.orientation,\n                                 a:[o.a[1], o.a[0]],\n                                 theta:o.theta + Math.PI,\n                                 theta2:o.theta2 + Math.PI\n                                 };*/\n                            }\n                            if (sourceContinuous) _updateAnchorList(anchorLists[sourceId], o.theta, 0, conn, false, targetId, 0, false, o.a[0], sourceId, connectionsToPaint, endpointsToPaint);\n                            if (targetContinuous) _updateAnchorList(anchorLists[targetId], o.theta2, -1, conn, true, sourceId, 1, true, o.a[1], targetId, connectionsToPaint, endpointsToPaint);\n                        }\n\n                        if (sourceContinuous) _ju.addWithFunction(anchorsToUpdate, sourceId, function (a) {\n                            return a === sourceId;\n                        });\n                        if (targetContinuous) _ju.addWithFunction(anchorsToUpdate, targetId, function (a) {\n                            return a === targetId;\n                        });\n                        _ju.addWithFunction(connectionsToPaint, conn, function (c) {\n                            return c.id == conn.id;\n                        });\n                        if ((sourceContinuous && oIdx === 0) || (targetContinuous && oIdx === 1))\n                            _ju.addWithFunction(endpointsToPaint, conn.endpoints[oIdx], function (e) {\n                                return e.id == conn.endpoints[oIdx].id;\n                            });\n                    }\n                }\n\n                // place Endpoints whose anchors are continuous but have no Connections\n                for (i = 0; i < ep.length; i++) {\n                    if (ep[i].connections.length === 0 && ep[i].anchor.isContinuous) {\n                        if (!anchorLists[elementId]) anchorLists[elementId] = { top: [], right: [], bottom: [], left: [] };\n                        _updateAnchorList(anchorLists[elementId], -Math.PI / 2, 0, {endpoints: [ep[i], ep[i]], paint: function () {\n                        }}, false, elementId, 0, false, ep[i].anchor.getDefaultFace(), elementId, connectionsToPaint, endpointsToPaint);\n                        _ju.addWithFunction(anchorsToUpdate, elementId, function (a) {\n                            return a === elementId;\n                        });\n                    }\n                }\n\n\n                // now place all the continuous anchors we need to;\n                for (i = 0; i < anchorsToUpdate.length; i++) {\n                    placeAnchors(anchorsToUpdate[i], anchorLists[anchorsToUpdate[i]]);\n                }\n\n                // now that continuous anchors have been placed, paint all the endpoints for this element\n                // TODO performance: add the endpoint ids to a temp array, and then when iterating in the next\n                // loop, check that we didn't just paint that endpoint. we can probably shave off a few more milliseconds this way.\n                for (i = 0; i < ep.length; i++) {\n                    ep[i].paint({ timestamp: timestamp, offset: myOffset, dimensions: myOffset.s, recalc: doNotRecalcEndpoint !== true });\n                }\n\n                // ... and any other endpoints we came across as a result of the continuous anchors.\n                for (i = 0; i < endpointsToPaint.length; i++) {\n                    var cd = jsPlumbInstance.getCachedData(endpointsToPaint[i].elementId);\n                    endpointsToPaint[i].paint({ timestamp: timestamp, offset: cd, dimensions: cd.s });\n                }\n\n                // paint all the standard and \"dynamic connections\", which are connections whose other anchor is\n                // static and therefore does need to be recomputed; we make sure that happens only one time.\n\n                // TODO we could have compiled a list of these in the first pass through connections; might save some time.\n                for (i = 0; i < endpointConnections.length; i++) {\n                    var otherEndpoint = endpointConnections[i][1];\n                    if (otherEndpoint.anchor.constructor == _jp.DynamicAnchor) {\n                        otherEndpoint.paint({ elementWithPrecedence: elementId, timestamp: timestamp });\n                        _ju.addWithFunction(connectionsToPaint, endpointConnections[i][0], function (c) {\n                            return c.id == endpointConnections[i][0].id;\n                        });\n                        // all the connections for the other endpoint now need to be repainted\n                        for (var k = 0; k < otherEndpoint.connections.length; k++) {\n                            if (otherEndpoint.connections[k] !== endpointConnections[i][0])\n                                _ju.addWithFunction(connectionsToPaint, otherEndpoint.connections[k], function (c) {\n                                    return c.id == otherEndpoint.connections[k].id;\n                                });\n                        }\n                    } else if (otherEndpoint.anchor.constructor == _jp.Anchor) {\n                        _ju.addWithFunction(connectionsToPaint, endpointConnections[i][0], function (c) {\n                            return c.id == endpointConnections[i][0].id;\n                        });\n                    }\n                }\n\n                // paint current floating connection for this element, if there is one.\n                var fc = floatingConnections[elementId];\n                if (fc)\n                    fc.paint({timestamp: timestamp, recalc: false, elId: elementId});\n\n                // paint all the connections\n                for (i = 0; i < connectionsToPaint.length; i++) {\n                    connectionsToPaint[i].paint({elId: elementId, timestamp: timestamp, recalc: false, clearEdits: clearEdits});\n                }\n            }\n        };\n\n        var ContinuousAnchor = function (anchorParams) {\n            _ju.EventGenerator.apply(this);\n            this.type = \"Continuous\";\n            this.isDynamic = true;\n            this.isContinuous = true;\n            var faces = anchorParams.faces || [\"top\", \"right\", \"bottom\", \"left\"],\n                clockwise = !(anchorParams.clockwise === false),\n                availableFaces = { },\n                opposites = { \"top\": \"bottom\", \"right\": \"left\", \"left\": \"right\", \"bottom\": \"top\" },\n                clockwiseOptions = { \"top\": \"right\", \"right\": \"bottom\", \"left\": \"top\", \"bottom\": \"left\" },\n                antiClockwiseOptions = { \"top\": \"left\", \"right\": \"top\", \"left\": \"bottom\", \"bottom\": \"right\" },\n                secondBest = clockwise ? clockwiseOptions : antiClockwiseOptions,\n                lastChoice = clockwise ? antiClockwiseOptions : clockwiseOptions,\n                cssClass = anchorParams.cssClass || \"\";\n\n            for (var i = 0; i < faces.length; i++) {\n                availableFaces[faces[i]] = true;\n            }\n\n            this.getDefaultFace = function () {\n                return faces.length === 0 ? \"top\" : faces[0];\n            };\n\n            // if the given edge is supported, returns it. otherwise looks for a substitute that _is_\n            // supported. if none supported we also return the request edge.\n            this.verifyEdge = function (edge) {\n                if (availableFaces[edge]) return edge;\n                else if (availableFaces[opposites[edge]]) return opposites[edge];\n                else if (availableFaces[secondBest[edge]]) return secondBest[edge];\n                else if (availableFaces[lastChoice[edge]]) return lastChoice[edge];\n                return edge; // we have to give them something.\n            };\n\n            this.isEdgeSupported = function (edge) {\n                return availableFaces[edge] === true;\n            };\n\n            this.compute = function (params) {\n                return userDefinedContinuousAnchorLocations[params.element.id] || continuousAnchorLocations[params.element.id] || [0, 0];\n            };\n            this.getCurrentLocation = function (params) {\n                return userDefinedContinuousAnchorLocations[params.element.id] || continuousAnchorLocations[params.element.id] || [0, 0];\n            };\n            this.getOrientation = function (endpoint) {\n                return continuousAnchorOrientations[endpoint.id] || [0, 0];\n            };\n            this.clearUserDefinedLocation = function () {\n                delete userDefinedContinuousAnchorLocations[anchorParams.elementId];\n            };\n            this.setUserDefinedLocation = function (loc) {\n                userDefinedContinuousAnchorLocations[anchorParams.elementId] = loc;\n            };\n            this.getCssClass = function () {\n                return cssClass;\n            };\n        };\n\n        // continuous anchors\n        jsPlumbInstance.continuousAnchorFactory = {\n            get: function (params) {\n                return new ContinuousAnchor(params);\n            },\n            clear: function (elementId) {\n                delete userDefinedContinuousAnchorLocations[elementId];\n                delete continuousAnchorLocations[elementId];\n            }\n        };\n    };\n\n    /**\n     * Anchors model a position on some element at which an Endpoint may be located.  They began as a first class citizen of jsPlumb, ie. a user\n     * was required to create these themselves, but over time this has been replaced by the concept of referring to them either by name (eg. \"TopMiddle\"),\n     * or by an array describing their coordinates (eg. [ 0, 0.5, 0, -1 ], which is the same as \"TopMiddle\").  jsPlumb now handles all of the\n     * creation of Anchors without user intervention.\n     */\n    _jp.Anchor = function (params) {\n        this.x = params.x || 0;\n        this.y = params.y || 0;\n        this.elementId = params.elementId;\n        this.cssClass = params.cssClass || \"\";\n        this.userDefinedLocation = null;\n        this.orientation = params.orientation || [ 0, 0 ];\n        this.lastReturnValue = null;\n        this.offsets = params.offsets || [ 0, 0 ];\n        this.timestamp = null;\n\n        _ju.EventGenerator.apply(this);\n\n        this.compute = function (params) {\n\n            var xy = params.xy, wh = params.wh, timestamp = params.timestamp;\n\n            if (params.clearUserDefinedLocation)\n                this.userDefinedLocation = null;\n\n            if (timestamp && timestamp === this.timestamp)\n                return this.lastReturnValue;\n\n            if (this.userDefinedLocation != null) {\n                this.lastReturnValue = this.userDefinedLocation;\n            }\n            else {\n                this.lastReturnValue = [ xy[0] + (this.x * wh[0]) + this.offsets[0], xy[1] + (this.y * wh[1]) + this.offsets[1] ];\n            }\n\n            this.timestamp = timestamp;\n            return this.lastReturnValue;\n        };\n\n        this.getCurrentLocation = function (params) {\n            params = params || {};\n            return (this.lastReturnValue == null || (params.timestamp != null && this.timestamp != params.timestamp)) ? this.compute(params) : this.lastReturnValue;\n        };\n    };\n    _ju.extend(_jp.Anchor, _ju.EventGenerator, {\n        equals: function (anchor) {\n            if (!anchor) return false;\n            var ao = anchor.getOrientation(),\n                o = this.getOrientation();\n            return this.x == anchor.x && this.y == anchor.y && this.offsets[0] == anchor.offsets[0] && this.offsets[1] == anchor.offsets[1] && o[0] == ao[0] && o[1] == ao[1];\n        },\n        getUserDefinedLocation: function () {\n            return this.userDefinedLocation;\n        },\n        setUserDefinedLocation: function (l) {\n            this.userDefinedLocation = l;\n        },\n        clearUserDefinedLocation: function () {\n            this.userDefinedLocation = null;\n        },\n        getOrientation: function () {\n            return this.orientation;\n        },\n        getCssClass: function () {\n            return this.cssClass;\n        }\n    });\n\n    /**\n     * An Anchor that floats. its orientation is computed dynamically from\n     * its position relative to the anchor it is floating relative to.  It is used when creating\n     * a connection through drag and drop.\n     *\n     * TODO FloatingAnchor could totally be refactored to extend Anchor just slightly.\n     */\n    _jp.FloatingAnchor = function (params) {\n\n        _jp.Anchor.apply(this, arguments);\n\n        // this is the anchor that this floating anchor is referenced to for\n        // purposes of calculating the orientation.\n        var ref = params.reference,\n            // the canvas this refers to.\n            refCanvas = params.referenceCanvas,\n            size = _jp.getSize(refCanvas),\n            // these are used to store the current relative position of our\n            // anchor wrt the reference anchor. they only indicate\n            // direction, so have a value of 1 or -1 (or, very rarely, 0). these\n            // values are written by the compute method, and read\n            // by the getOrientation method.\n            xDir = 0, yDir = 0,\n            // temporary member used to store an orientation when the floating\n            // anchor is hovering over another anchor.\n            orientation = null,\n            _lastResult = null;\n\n        // clear from parent. we want floating anchor orientation to always be computed.\n        this.orientation = null;\n\n        // set these to 0 each; they are used by certain types of connectors in the loopback case,\n        // when the connector is trying to clear the element it is on. but for floating anchor it's not\n        // very important.\n        this.x = 0;\n        this.y = 0;\n\n        this.isFloating = true;\n\n        this.compute = function (params) {\n            var xy = params.xy,\n                result = [ xy[0] + (size[0] / 2), xy[1] + (size[1] / 2) ]; // return origin of the element. we may wish to improve this so that any object can be the drag proxy.\n            _lastResult = result;\n            return result;\n        };\n\n        this.getOrientation = function (_endpoint) {\n            if (orientation) return orientation;\n            else {\n                var o = ref.getOrientation(_endpoint);\n                // here we take into account the orientation of the other\n                // anchor: if it declares zero for some direction, we declare zero too. this might not be the most awesome. perhaps we can come\n                // up with a better way. it's just so that the line we draw looks like it makes sense. maybe this wont make sense.\n                return [ Math.abs(o[0]) * xDir * -1,\n                        Math.abs(o[1]) * yDir * -1 ];\n            }\n        };\n\n        /**\n         * notification the endpoint associated with this anchor is hovering\n         * over another anchor; we want to assume that anchor's orientation\n         * for the duration of the hover.\n         */\n        this.over = function (anchor, endpoint) {\n            orientation = anchor.getOrientation(endpoint);\n        };\n\n        /**\n         * notification the endpoint associated with this anchor is no\n         * longer hovering over another anchor; we should resume calculating\n         * orientation as we normally do.\n         */\n        this.out = function () {\n            orientation = null;\n        };\n\n        this.getCurrentLocation = function (params) {\n            return _lastResult == null ? this.compute(params) : _lastResult;\n        };\n    };\n    _ju.extend(_jp.FloatingAnchor, _jp.Anchor);\n\n    var _convertAnchor = function (anchor, jsPlumbInstance, elementId) {\n        return anchor.constructor == _jp.Anchor ? anchor : jsPlumbInstance.makeAnchor(anchor, elementId, jsPlumbInstance);\n    };\n\n    /* \n     * A DynamicAnchor is an Anchor that contains a list of other Anchors, which it cycles\n     * through at compute time to find the one that is located closest to\n     * the center of the target element, and returns that Anchor's compute\n     * method result. this causes endpoints to follow each other with\n     * respect to the orientation of their target elements, which is a useful\n     * feature for some applications.\n     * \n     */\n    _jp.DynamicAnchor = function (params) {\n        _jp.Anchor.apply(this, arguments);\n\n        this.isDynamic = true;\n        this.anchors = [];\n        this.elementId = params.elementId;\n        this.jsPlumbInstance = params.jsPlumbInstance;\n\n        for (var i = 0; i < params.anchors.length; i++)\n            this.anchors[i] = _convertAnchor(params.anchors[i], this.jsPlumbInstance, this.elementId);\n\n        this.getAnchors = function () {\n            return this.anchors;\n        };\n        this.locked = false;\n        var _curAnchor = this.anchors.length > 0 ? this.anchors[0] : null,\n            _lastAnchor = _curAnchor,\n            self = this,\n\n        // helper method to calculate the distance between the centers of the two elements.\n            _distance = function (anchor, cx, cy, xy, wh) {\n                var ax = xy[0] + (anchor.x * wh[0]), ay = xy[1] + (anchor.y * wh[1]),\n                    acx = xy[0] + (wh[0] / 2), acy = xy[1] + (wh[1] / 2);\n                return (Math.sqrt(Math.pow(cx - ax, 2) + Math.pow(cy - ay, 2)) +\n                    Math.sqrt(Math.pow(acx - ax, 2) + Math.pow(acy - ay, 2)));\n            },\n        // default method uses distance between element centers.  you can provide your own method in the dynamic anchor\n        // constructor (and also to jsPlumb.makeDynamicAnchor). the arguments to it are four arrays:\n        // xy - xy loc of the anchor's element\n        // wh - anchor's element's dimensions\n        // txy - xy loc of the element of the other anchor in the connection\n        // twh - dimensions of the element of the other anchor in the connection.\n        // anchors - the list of selectable anchors\n            _anchorSelector = params.selector || function (xy, wh, txy, twh, anchors) {\n                var cx = txy[0] + (twh[0] / 2), cy = txy[1] + (twh[1] / 2);\n                var minIdx = -1, minDist = Infinity;\n                for (var i = 0; i < anchors.length; i++) {\n                    var d = _distance(anchors[i], cx, cy, xy, wh);\n                    if (d < minDist) {\n                        minIdx = i + 0;\n                        minDist = d;\n                    }\n                }\n                return anchors[minIdx];\n            };\n\n        this.compute = function (params) {\n            var xy = params.xy, wh = params.wh, txy = params.txy, twh = params.twh;\n\n            this.timestamp = params.timestamp;\n\n            var udl = self.getUserDefinedLocation();\n            if (udl != null) {\n                return udl;\n            }\n\n            // if anchor is locked or an opposite element was not given, we\n            // maintain our state. anchor will be locked\n            // if it is the source of a drag and drop.\n            if (this.locked || txy == null || twh == null)\n                return _curAnchor.compute(params);\n            else\n                params.timestamp = null; // otherwise clear this, i think. we want the anchor to compute.\n\n            _curAnchor = _anchorSelector(xy, wh, txy, twh, this.anchors);\n            this.x = _curAnchor.x;\n            this.y = _curAnchor.y;\n\n            if (_curAnchor != _lastAnchor)\n                this.fire(\"anchorChanged\", _curAnchor);\n\n            _lastAnchor = _curAnchor;\n\n            return _curAnchor.compute(params);\n        };\n\n        this.getCurrentLocation = function (params) {\n            return this.getUserDefinedLocation() || (_curAnchor != null ? _curAnchor.getCurrentLocation(params) : null);\n        };\n\n        this.getOrientation = function (_endpoint) {\n            return _curAnchor != null ? _curAnchor.getOrientation(_endpoint) : [ 0, 0 ];\n        };\n        this.over = function (anchor, endpoint) {\n            if (_curAnchor != null) _curAnchor.over(anchor, endpoint);\n        };\n        this.out = function () {\n            if (_curAnchor != null) _curAnchor.out();\n        };\n\n        this.getCssClass = function () {\n            return (_curAnchor && _curAnchor.getCssClass()) || \"\";\n        };\n    };\n    _ju.extend(_jp.DynamicAnchor, _jp.Anchor);\n\n// -------- basic anchors ------------------    \n    var _curryAnchor = function (x, y, ox, oy, type, fnInit) {\n        _jp.Anchors[type] = function (params) {\n            var a = params.jsPlumbInstance.makeAnchor([ x, y, ox, oy, 0, 0 ], params.elementId, params.jsPlumbInstance);\n            a.type = type;\n            if (fnInit) fnInit(a, params);\n            return a;\n        };\n    };\n\n    _curryAnchor(0.5, 0, 0, -1, \"TopCenter\");\n    _curryAnchor(0.5, 1, 0, 1, \"BottomCenter\");\n    _curryAnchor(0, 0.5, -1, 0, \"LeftMiddle\");\n    _curryAnchor(1, 0.5, 1, 0, \"RightMiddle\");\n\n    _curryAnchor(0.5, 0, 0, -1, \"Top\");\n    _curryAnchor(0.5, 1, 0, 1, \"Bottom\");\n    _curryAnchor(0, 0.5, -1, 0, \"Left\");\n    _curryAnchor(1, 0.5, 1, 0, \"Right\");\n    _curryAnchor(0.5, 0.5, 0, 0, \"Center\");\n    _curryAnchor(1, 0, 0, -1, \"TopRight\");\n    _curryAnchor(1, 1, 0, 1, \"BottomRight\");\n    _curryAnchor(0, 0, 0, -1, \"TopLeft\");\n    _curryAnchor(0, 1, 0, 1, \"BottomLeft\");\n\n// ------- dynamic anchors -------------------    \n\n    // default dynamic anchors chooses from Top, Right, Bottom, Left\n    _jp.Defaults.DynamicAnchors = function (params) {\n        return params.jsPlumbInstance.makeAnchors([\"TopCenter\", \"RightMiddle\", \"BottomCenter\", \"LeftMiddle\"], params.elementId, params.jsPlumbInstance);\n    };\n\n    // default dynamic anchors bound to name 'AutoDefault'\n    _jp.Anchors.AutoDefault = function (params) {\n        var a = params.jsPlumbInstance.makeDynamicAnchor(_jp.Defaults.DynamicAnchors(params));\n        a.type = \"AutoDefault\";\n        return a;\n    };\n\n// ------- continuous anchors -------------------    \n\n    var _curryContinuousAnchor = function (type, faces) {\n        _jp.Anchors[type] = function (params) {\n            var a = params.jsPlumbInstance.makeAnchor([\"Continuous\", { faces: faces }], params.elementId, params.jsPlumbInstance);\n            a.type = type;\n            return a;\n        };\n    };\n\n    _jp.Anchors.Continuous = function (params) {\n        return params.jsPlumbInstance.continuousAnchorFactory.get(params);\n    };\n\n    _curryContinuousAnchor(\"ContinuousLeft\", [\"left\"]);\n    _curryContinuousAnchor(\"ContinuousTop\", [\"top\"]);\n    _curryContinuousAnchor(\"ContinuousBottom\", [\"bottom\"]);\n    _curryContinuousAnchor(\"ContinuousRight\", [\"right\"]);\n\n// ------- position assign anchors -------------------    \n\n    // this anchor type lets you assign the position at connection time.\n    _curryAnchor(0, 0, 0, 0, \"Assign\", function (anchor, params) {\n        // find what to use as the \"position finder\". the user may have supplied a String which represents\n        // the id of a position finder in jsPlumb.AnchorPositionFinders, or the user may have supplied the\n        // position finder as a function.  we find out what to use and then set it on the anchor.\n        var pf = params.position || \"Fixed\";\n        anchor.positionFinder = pf.constructor == String ? params.jsPlumbInstance.AnchorPositionFinders[pf] : pf;\n        // always set the constructor params; the position finder might need them later (the Grid one does,\n        // for example)\n        anchor.constructorParams = params;\n    });\n\n    // these are the default anchor positions finders, which are used by the makeTarget function.  supplying\n    // a position finder argument to that function allows you to specify where the resulting anchor will\n    // be located\n    root.jsPlumbInstance.prototype.AnchorPositionFinders = {\n        \"Fixed\": function (dp, ep, es) {\n            return [ (dp.left - ep.left) / es[0], (dp.top - ep.top) / es[1] ];\n        },\n        \"Grid\": function (dp, ep, es, params) {\n            var dx = dp.left - ep.left, dy = dp.top - ep.top,\n                gx = es[0] / (params.grid[0]), gy = es[1] / (params.grid[1]),\n                mx = Math.floor(dx / gx), my = Math.floor(dy / gy);\n            return [ ((mx * gx) + (gx / 2)) / es[0], ((my * gy) + (gy / 2)) / es[1] ];\n        }\n    };\n\n// ------- perimeter anchors -------------------    \n\n    _jp.Anchors.Perimeter = function (params) {\n        params = params || {};\n        var anchorCount = params.anchorCount || 60,\n            shape = params.shape;\n\n        if (!shape) throw new Error(\"no shape supplied to Perimeter Anchor type\");\n\n        var _circle = function () {\n                var r = 0.5, step = Math.PI * 2 / anchorCount, current = 0, a = [];\n                for (var i = 0; i < anchorCount; i++) {\n                    var x = r + (r * Math.sin(current)),\n                        y = r + (r * Math.cos(current));\n                    a.push([ x, y, 0, 0 ]);\n                    current += step;\n                }\n                return a;\n            },\n            _path = function (segments) {\n                var anchorsPerFace = anchorCount / segments.length, a = [],\n                    _computeFace = function (x1, y1, x2, y2, fractionalLength) {\n                        anchorsPerFace = anchorCount * fractionalLength;\n                        var dx = (x2 - x1) / anchorsPerFace, dy = (y2 - y1) / anchorsPerFace;\n                        for (var i = 0; i < anchorsPerFace; i++) {\n                            a.push([\n                                    x1 + (dx * i),\n                                    y1 + (dy * i),\n                                0,\n                                0\n                            ]);\n                        }\n                    };\n\n                for (var i = 0; i < segments.length; i++)\n                    _computeFace.apply(null, segments[i]);\n\n                return a;\n            },\n            _shape = function (faces) {\n                var s = [];\n                for (var i = 0; i < faces.length; i++) {\n                    s.push([faces[i][0], faces[i][1], faces[i][2], faces[i][3], 1 / faces.length]);\n                }\n                return _path(s);\n            },\n            _rectangle = function () {\n                return _shape([\n                    [ 0, 0, 1, 0 ],\n                    [ 1, 0, 1, 1 ],\n                    [ 1, 1, 0, 1 ],\n                    [ 0, 1, 0, 0 ]\n                ]);\n            };\n\n        var _shapes = {\n                \"Circle\": _circle,\n                \"Ellipse\": _circle,\n                \"Diamond\": function () {\n                    return _shape([\n                        [ 0.5, 0, 1, 0.5 ],\n                        [ 1, 0.5, 0.5, 1 ],\n                        [ 0.5, 1, 0, 0.5 ],\n                        [ 0, 0.5, 0.5, 0 ]\n                    ]);\n                },\n                \"Rectangle\": _rectangle,\n                \"Square\": _rectangle,\n                \"Triangle\": function () {\n                    return _shape([\n                        [ 0.5, 0, 1, 1 ],\n                        [ 1, 1, 0, 1 ],\n                        [ 0, 1, 0.5, 0]\n                    ]);\n                },\n                \"Path\": function (params) {\n                    var points = params.points, p = [], tl = 0;\n                    for (var i = 0; i < points.length - 1; i++) {\n                        var l = Math.sqrt(Math.pow(points[i][2] - points[i][0]) + Math.pow(points[i][3] - points[i][1]));\n                        tl += l;\n                        p.push([points[i][0], points[i][1], points[i + 1][0], points[i + 1][1], l]);\n                    }\n                    for (var j = 0; j < p.length; j++) {\n                        p[j][4] = p[j][4] / tl;\n                    }\n                    return _path(p);\n                }\n            },\n            _rotate = function (points, amountInDegrees) {\n                var o = [], theta = amountInDegrees / 180 * Math.PI;\n                for (var i = 0; i < points.length; i++) {\n                    var _x = points[i][0] - 0.5,\n                        _y = points[i][1] - 0.5;\n\n                    o.push([\n                            0.5 + ((_x * Math.cos(theta)) - (_y * Math.sin(theta))),\n                            0.5 + ((_x * Math.sin(theta)) + (_y * Math.cos(theta))),\n                        points[i][2],\n                        points[i][3]\n                    ]);\n                }\n                return o;\n            };\n\n        if (!_shapes[shape]) throw new Error(\"Shape [\" + shape + \"] is unknown by Perimeter Anchor type\");\n\n        var da = _shapes[shape](params);\n        if (params.rotation) da = _rotate(da, params.rotation);\n        var a = params.jsPlumbInstance.makeDynamicAnchor(da);\n        a.type = \"Perimeter\";\n        return a;\n    };\n}).call(typeof window !== 'undefined' ? window : this);\n/*\n * jsPlumb\n * \n * Title:jsPlumb 2.3.0\n * \n * Provides a way to visually connect elements on an HTML page, using SVG.\n * \n * This file contains the default Connectors, Endpoint and Overlay definitions.\n *\n * Copyright (c) 2010 - 2017 jsPlumb (hello@jsplumbtoolkit.com)\n * \n * http://jsplumbtoolkit.com\n * http://github.com/sporritt/jsplumb\n * \n * Dual licensed under the MIT and GPL2 licenses.\n */\n;\n(function () {\n\n    \"use strict\";\n    var root = this, _jp = root.jsPlumb, _ju = root.jsPlumbUtil, _jg = root.Biltong;\n\n    _jp.Segments = {\n\n        /*\n         * Class: AbstractSegment\n         * A Connector is made up of 1..N Segments, each of which has a Type, such as 'Straight', 'Arc',\n         * 'Bezier'. This is new from 1.4.2, and gives us a lot more flexibility when drawing connections: things such\n         * as rounded corners for flowchart connectors, for example, or a straight line stub for Bezier connections, are\n         * much easier to do now.\n         *\n         * A Segment is responsible for providing coordinates for painting it, and also must be able to report its length.\n         * \n         */\n        AbstractSegment: function (params) {\n            this.params = params;\n\n            /**\n             * Function: findClosestPointOnPath\n             * Finds the closest point on this segment to the given [x, y],\n             * returning both the x and y of the point plus its distance from\n             * the supplied point, and its location along the length of the\n             * path inscribed by the segment.  This implementation returns\n             * Infinity for distance and null values for everything else;\n             * subclasses are expected to override.\n             */\n            this.findClosestPointOnPath = function (x, y) {\n                return {\n                    d: Infinity,\n                    x: null,\n                    y: null,\n                    l: null\n                };\n            };\n\n            this.getBounds = function () {\n                return {\n                    minX: Math.min(params.x1, params.x2),\n                    minY: Math.min(params.y1, params.y2),\n                    maxX: Math.max(params.x1, params.x2),\n                    maxY: Math.max(params.y1, params.y2)\n                };\n            };\n        },\n        Straight: function (params) {\n            var _super = _jp.Segments.AbstractSegment.apply(this, arguments),\n                length, m, m2, x1, x2, y1, y2,\n                _recalc = function () {\n                    length = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));\n                    m = _jg.gradient({x: x1, y: y1}, {x: x2, y: y2});\n                    m2 = -1 / m;\n                };\n\n            this.type = \"Straight\";\n\n            this.getLength = function () {\n                return length;\n            };\n            this.getGradient = function () {\n                return m;\n            };\n\n            this.getCoordinates = function () {\n                return { x1: x1, y1: y1, x2: x2, y2: y2 };\n            };\n            this.setCoordinates = function (coords) {\n                x1 = coords.x1;\n                y1 = coords.y1;\n                x2 = coords.x2;\n                y2 = coords.y2;\n                _recalc();\n            };\n            this.setCoordinates({x1: params.x1, y1: params.y1, x2: params.x2, y2: params.y2});\n\n            this.getBounds = function () {\n                return {\n                    minX: Math.min(x1, x2),\n                    minY: Math.min(y1, y2),\n                    maxX: Math.max(x1, x2),\n                    maxY: Math.max(y1, y2)\n                };\n            };\n\n            /**\n             * returns the point on the segment's path that is 'location' along the length of the path, where 'location' is a decimal from\n             * 0 to 1 inclusive. for the straight line segment this is simple maths.\n             */\n            this.pointOnPath = function (location, absolute) {\n                if (location === 0 && !absolute)\n                    return { x: x1, y: y1 };\n                else if (location == 1 && !absolute)\n                    return { x: x2, y: y2 };\n                else {\n                    var l = absolute ? location > 0 ? location : length + location : location * length;\n                    return _jg.pointOnLine({x: x1, y: y1}, {x: x2, y: y2}, l);\n                }\n            };\n\n            /**\n             * returns the gradient of the segment at the given point - which for us is constant.\n             */\n            this.gradientAtPoint = function (_) {\n                return m;\n            };\n\n            /**\n             * returns the point on the segment's path that is 'distance' along the length of the path from 'location', where\n             * 'location' is a decimal from 0 to 1 inclusive, and 'distance' is a number of pixels.\n             * this hands off to jsPlumbUtil to do the maths, supplying two points and the distance.\n             */\n            this.pointAlongPathFrom = function (location, distance, absolute) {\n                var p = this.pointOnPath(location, absolute),\n                    farAwayPoint = distance <= 0 ? {x: x1, y: y1} : {x: x2, y: y2 };\n\n                /*\n                 location == 1 ? {\n                 x:x1 + ((x2 - x1) * 10),\n                 y:y1 + ((y1 - y2) * 10)\n                 } :\n                 */\n\n                if (distance <= 0 && Math.abs(distance) > 1) distance *= -1;\n\n                return _jg.pointOnLine(p, farAwayPoint, distance);\n            };\n\n            // is c between a and b?\n            var within = function (a, b, c) {\n                return c >= Math.min(a, b) && c <= Math.max(a, b);\n            };\n            // find which of a and b is closest to c\n            var closest = function (a, b, c) {\n                return Math.abs(c - a) < Math.abs(c - b) ? a : b;\n            };\n\n            /**\n             Function: findClosestPointOnPath\n             Finds the closest point on this segment to [x,y]. See\n             notes on this method in AbstractSegment.\n             */\n            this.findClosestPointOnPath = function (x, y) {\n                var out = {\n                    d: Infinity,\n                    x: null,\n                    y: null,\n                    l: null,\n                    x1: x1,\n                    x2: x2,\n                    y1: y1,\n                    y2: y2\n                };\n\n                if (m === 0) {\n                    out.y = y1;\n                    out.x = within(x1, x2, x) ? x : closest(x1, x2, x);\n                }\n                else if (m == Infinity || m == -Infinity) {\n                    out.x = x1;\n                    out.y = within(y1, y2, y) ? y : closest(y1, y2, y);\n                }\n                else {\n                    // closest point lies on normal from given point to this line.  \n                    var b = y1 - (m * x1),\n                        b2 = y - (m2 * x),\n                    // y1 = m.x1 + b and y1 = m2.x1 + b2\n                    // so m.x1 + b = m2.x1 + b2\n                    // x1(m - m2) = b2 - b\n                    // x1 = (b2 - b) / (m - m2)\n                        _x1 = (b2 - b) / (m - m2),\n                        _y1 = (m * _x1) + b;\n\n                    out.x = within(x1, x2, _x1) ? _x1 : closest(x1, x2, _x1);//_x1;\n                    out.y = within(y1, y2, _y1) ? _y1 : closest(y1, y2, _y1);//_y1;\n                }\n\n                var fractionInSegment = _jg.lineLength([ out.x, out.y ], [ x1, y1 ]);\n                out.d = _jg.lineLength([x, y], [out.x, out.y]);\n                out.l = fractionInSegment / length;\n                return out;\n            };\n        },\n\n        /*\n         Arc Segment. You need to supply:\n\n         r   -   radius\n         cx  -   center x for the arc\n         cy  -   center y for the arc\n         ac  -   whether the arc is anticlockwise or not. default is clockwise.\n\n         and then either:\n\n         startAngle  -   startAngle for the arc.\n         endAngle    -   endAngle for the arc.\n\n         or:\n\n         x1          -   x for start point\n         y1          -   y for start point\n         x2          -   x for end point\n         y2          -   y for end point\n\n         */\n        Arc: function (params) {\n            var _super = _jp.Segments.AbstractSegment.apply(this, arguments),\n                _calcAngle = function (_x, _y) {\n                    return _jg.theta([params.cx, params.cy], [_x, _y]);\n                },\n                _calcAngleForLocation = function (segment, location) {\n                    if (segment.anticlockwise) {\n                        var sa = segment.startAngle < segment.endAngle ? segment.startAngle + TWO_PI : segment.startAngle,\n                            s = Math.abs(sa - segment.endAngle);\n                        return sa - (s * location);\n                    }\n                    else {\n                        var ea = segment.endAngle < segment.startAngle ? segment.endAngle + TWO_PI : segment.endAngle,\n                            ss = Math.abs(ea - segment.startAngle);\n\n                        return segment.startAngle + (ss * location);\n                    }\n                },\n                TWO_PI = 2 * Math.PI;\n\n            this.radius = params.r;\n            this.anticlockwise = params.ac;\n            this.type = \"Arc\";\n\n            if (params.startAngle && params.endAngle) {\n                this.startAngle = params.startAngle;\n                this.endAngle = params.endAngle;\n                this.x1 = params.cx + (this.radius * Math.cos(params.startAngle));\n                this.y1 = params.cy + (this.radius * Math.sin(params.startAngle));\n                this.x2 = params.cx + (this.radius * Math.cos(params.endAngle));\n                this.y2 = params.cy + (this.radius * Math.sin(params.endAngle));\n            }\n            else {\n                this.startAngle = _calcAngle(params.x1, params.y1);\n                this.endAngle = _calcAngle(params.x2, params.y2);\n                this.x1 = params.x1;\n                this.y1 = params.y1;\n                this.x2 = params.x2;\n                this.y2 = params.y2;\n            }\n\n            if (this.endAngle < 0) this.endAngle += TWO_PI;\n            if (this.startAngle < 0) this.startAngle += TWO_PI;\n\n            // segment is used by vml     \n            //this.segment = _jg.quadrant([this.x1, this.y1], [this.x2, this.y2]);\n\n            // we now have startAngle and endAngle as positive numbers, meaning the\n            // absolute difference (|d|) between them is the sweep (s) of this arc, unless the\n            // arc is 'anticlockwise' in which case 's' is given by 2PI - |d|.\n\n            var ea = this.endAngle < this.startAngle ? this.endAngle + TWO_PI : this.endAngle;\n            this.sweep = Math.abs(ea - this.startAngle);\n            if (this.anticlockwise) this.sweep = TWO_PI - this.sweep;\n            var circumference = 2 * Math.PI * this.radius,\n                frac = this.sweep / TWO_PI,\n                length = circumference * frac;\n\n            this.getLength = function () {\n                return length;\n            };\n\n            this.getBounds = function () {\n                return {\n                    minX: params.cx - params.r,\n                    maxX: params.cx + params.r,\n                    minY: params.cy - params.r,\n                    maxY: params.cy + params.r\n                };\n            };\n\n            var VERY_SMALL_VALUE = 0.0000000001,\n                gentleRound = function (n) {\n                    var f = Math.floor(n), r = Math.ceil(n);\n                    if (n - f < VERY_SMALL_VALUE)\n                        return f;\n                    else if (r - n < VERY_SMALL_VALUE)\n                        return r;\n                    return n;\n                };\n\n            /**\n             * returns the point on the segment's path that is 'location' along the length of the path, where 'location' is a decimal from\n             * 0 to 1 inclusive.\n             */\n            this.pointOnPath = function (location, absolute) {\n\n                if (location === 0) {\n                    return { x: this.x1, y: this.y1, theta: this.startAngle };\n                }\n                else if (location == 1) {\n                    return { x: this.x2, y: this.y2, theta: this.endAngle };\n                }\n\n                if (absolute) {\n                    location = location / length;\n                }\n\n                var angle = _calcAngleForLocation(this, location),\n                    _x = params.cx + (params.r * Math.cos(angle)),\n                    _y = params.cy + (params.r * Math.sin(angle));\n\n                return { x: gentleRound(_x), y: gentleRound(_y), theta: angle };\n            };\n\n            /**\n             * returns the gradient of the segment at the given point.\n             */\n            this.gradientAtPoint = function (location, absolute) {\n                var p = this.pointOnPath(location, absolute);\n                var m = _jg.normal([ params.cx, params.cy ], [p.x, p.y ]);\n                if (!this.anticlockwise && (m == Infinity || m == -Infinity)) m *= -1;\n                return m;\n            };\n\n            this.pointAlongPathFrom = function (location, distance, absolute) {\n                var p = this.pointOnPath(location, absolute),\n                    arcSpan = distance / circumference * 2 * Math.PI,\n                    dir = this.anticlockwise ? -1 : 1,\n                    startAngle = p.theta + (dir * arcSpan),\n                    startX = params.cx + (this.radius * Math.cos(startAngle)),\n                    startY = params.cy + (this.radius * Math.sin(startAngle));\n\n                return {x: startX, y: startY};\n            };\n        },\n\n        Bezier: function (params) {\n            this.curve = [\n                { x: params.x1, y: params.y1},\n                { x: params.cp1x, y: params.cp1y },\n                { x: params.cp2x, y: params.cp2y },\n                { x: params.x2, y: params.y2 }\n            ];\n\n            var _super = _jp.Segments.AbstractSegment.apply(this, arguments);\n            // although this is not a strictly rigorous determination of bounds\n            // of a bezier curve, it works for the types of curves that this segment\n            // type produces.\n            this.bounds = {\n                minX: Math.min(params.x1, params.x2, params.cp1x, params.cp2x),\n                minY: Math.min(params.y1, params.y2, params.cp1y, params.cp2y),\n                maxX: Math.max(params.x1, params.x2, params.cp1x, params.cp2x),\n                maxY: Math.max(params.y1, params.y2, params.cp1y, params.cp2y)\n            };\n\n            this.type = \"Bezier\";\n\n            var _translateLocation = function (_curve, location, absolute) {\n                if (absolute)\n                    location = root.jsBezier.locationAlongCurveFrom(_curve, location > 0 ? 0 : 1, location);\n\n                return location;\n            };\n\n            /**\n             * returns the point on the segment's path that is 'location' along the length of the path, where 'location' is a decimal from\n             * 0 to 1 inclusive.\n             */\n            this.pointOnPath = function (location, absolute) {\n                location = _translateLocation(this.curve, location, absolute);\n                return root.jsBezier.pointOnCurve(this.curve, location);\n            };\n\n            /**\n             * returns the gradient of the segment at the given point.\n             */\n            this.gradientAtPoint = function (location, absolute) {\n                location = _translateLocation(this.curve, location, absolute);\n                return root.jsBezier.gradientAtPoint(this.curve, location);\n            };\n\n            this.pointAlongPathFrom = function (location, distance, absolute) {\n                location = _translateLocation(this.curve, location, absolute);\n                return root.jsBezier.pointAlongCurveFrom(this.curve, location, distance);\n            };\n\n            this.getLength = function () {\n                return root.jsBezier.getLength(this.curve);\n            };\n\n            this.getBounds = function () {\n                return this.bounds;\n            };\n        }\n    };\n\n    _jp.SegmentRenderer = {\n        getPath: function (segment) {\n            return ({\n                \"Straight\": function () {\n                    var d = segment.getCoordinates();\n                    return \"M \" + d.x1 + \" \" + d.y1 + \" L \" + d.x2 + \" \" + d.y2;\n                },\n                \"Bezier\": function () {\n                    var d = segment.params;\n                    return \"M \" + d.x1 + \" \" + d.y1 +\n                        \" C \" + d.cp1x + \" \" + d.cp1y + \" \" + d.cp2x + \" \" + d.cp2y + \" \" + d.x2 + \" \" + d.y2;\n                },\n                \"Arc\": function () {\n                    var d = segment.params,\n                        laf = segment.sweep > Math.PI ? 1 : 0,\n                        sf = segment.anticlockwise ? 0 : 1;\n\n                    return \"M\" + segment.x1 + \" \" + segment.y1 + \" A \" + segment.radius + \" \" + d.r + \" 0 \" + laf + \",\" + sf + \" \" + segment.x2 + \" \" + segment.y2;\n                }\n            })[segment.type]();\n        }\n    };\n\n    /*\n     Class: AbstractComponent\n     Superclass for AbstractConnector and AbstractEndpoint.\n     */\n    var AbstractComponent = function () {\n        this.resetBounds = function () {\n            this.bounds = { minX: Infinity, minY: Infinity, maxX: -Infinity, maxY: -Infinity };\n        };\n        this.resetBounds();\n    };\n\n    /*\n     * Class: AbstractConnector\n     * Superclass for all Connectors; here is where Segments are managed.  This is exposed on jsPlumb just so it\n     * can be accessed from other files. You should not try to instantiate one of these directly.\n     *\n     * When this class is asked for a pointOnPath, or gradient etc, it must first figure out which segment to dispatch\n     * that request to. This is done by keeping track of the total connector length as segments are added, and also\n     * their cumulative ratios to the total length.  Then when the right segment is found it is a simple case of dispatching\n     * the request to it (and adjusting 'location' so that it is relative to the beginning of that segment.)\n     */\n    _jp.Connectors.AbstractConnector = function (params) {\n\n        AbstractComponent.apply(this, arguments);\n\n        var segments = [],\n            totalLength = 0,\n            segmentProportions = [],\n            segmentProportionalLengths = [],\n            stub = params.stub || 0,\n            sourceStub = _ju.isArray(stub) ? stub[0] : stub,\n            targetStub = _ju.isArray(stub) ? stub[1] : stub,\n            gap = params.gap || 0,\n            sourceGap = _ju.isArray(gap) ? gap[0] : gap,\n            targetGap = _ju.isArray(gap) ? gap[1] : gap,\n            userProvidedSegments = null,\n            edited = false,\n            paintInfo = null,\n            geometry = null,\n            editable = params.editable !== false && _jp.ConnectorEditors != null && _jp.ConnectorEditors[this.type] != null;\n\n        var _setGeometry = this.setGeometry = function(g, internallyComputed) {\n            edited = (!internallyComputed);\n            geometry = g;\n        };\n        var _getGeometry = this.getGeometry = function() {\n            return geometry;\n        };\n\n        this.getPathData = function() {\n            var p = \"\";\n            for (var i = 0; i < segments.length; i++) {\n                p += _jp.SegmentRenderer.getPath(segments[i]);\n                p += \" \";\n            }\n            return p;\n        };\n\n        this.hasBeenEdited = function() { return edited; };\n        this.isEditing = function() { return this.editor != null && this.editor.isActive(); };\n        this.setEditable = function(e) {\n            // if this connector has an editor already, or\n            // if an editor for this connector's type is available, or\n            // if the child declares an overrideSetEditable and it does not return false, editable is true.\n            if (e && _jp.ConnectorEditors != null && _jp.ConnectorEditors[this.type] != null && (this.overrideSetEditable == null || this.overrideSetEditable())) {\n                editable = e;\n            } else {\n                editable = false;\n            }\n            return editable;\n        };\n        this.isEditable = function() { return editable; };\n\n        /**\n         * Function: findSegmentForPoint\n         * Returns the segment that is closest to the given [x,y],\n         * null if nothing found.  This function returns a JS\n         * object with:\n         *\n         *   d   -   distance from segment\n         *   l   -   proportional location in segment\n         *   x   -   x point on the segment\n         *   y   -   y point on the segment\n         *   s   -   the segment itself.\n         */\n        this.findSegmentForPoint = function (x, y) {\n            var out = { d: Infinity, s: null, x: null, y: null, l: null };\n            for (var i = 0; i < segments.length; i++) {\n                var _s = segments[i].findClosestPointOnPath(x, y);\n                if (_s.d < out.d) {\n                    out.d = _s.d;\n                    out.l = _s.l;\n                    out.x = _s.x;\n                    out.y = _s.y;\n                    out.s = segments[i];\n                    out.x1 = _s.x1;\n                    out.x2 = _s.x2;\n                    out.y1 = _s.y1;\n                    out.y2 = _s.y2;\n                    out.index = i;\n                }\n            }\n\n            return out;\n        };\n\n        var _updateSegmentProportions = function () {\n                var curLoc = 0;\n                for (var i = 0; i < segments.length; i++) {\n                    var sl = segments[i].getLength();\n                    segmentProportionalLengths[i] = sl / totalLength;\n                    segmentProportions[i] = [curLoc, (curLoc += (sl / totalLength)) ];\n                }\n            },\n\n            /**\n             * returns [segment, proportion of travel in segment, segment index] for the segment\n             * that contains the point which is 'location' distance along the entire path, where\n             * 'location' is a decimal between 0 and 1 inclusive. in this connector type, paths\n             * are made up of a list of segments, each of which contributes some fraction to\n             * the total length.\n             * From 1.3.10 this also supports the 'absolute' property, which lets us specify a location\n             * as the absolute distance in pixels, rather than a proportion of the total path.\n             */\n            _findSegmentForLocation = function (location, absolute) {\n                if (absolute) {\n                    location = location > 0 ? location / totalLength : (totalLength + location) / totalLength;\n                }\n                var idx = segmentProportions.length - 1, inSegmentProportion = 1;\n                for (var i = 0; i < segmentProportions.length; i++) {\n                    if (segmentProportions[i][1] >= location) {\n                        idx = i;\n                        // todo is this correct for all connector path types?\n                        inSegmentProportion = location == 1 ? 1 : location === 0 ? 0 : (location - segmentProportions[i][0]) / segmentProportionalLengths[i];\n                        break;\n                    }\n                }\n                return { segment: segments[idx], proportion: inSegmentProportion, index: idx };\n            },\n            _addSegment = function (conn, type, params) {\n                if (params.x1 == params.x2 && params.y1 == params.y2) return;\n                var s = new _jp.Segments[type](params);\n                segments.push(s);\n                totalLength += s.getLength();\n                conn.updateBounds(s);\n            },\n            _clearSegments = function () {\n                totalLength = segments.length = segmentProportions.length = segmentProportionalLengths.length = 0;\n            };\n\n        this.setSegments = function (_segs) {\n            userProvidedSegments = [];\n            totalLength = 0;\n            for (var i = 0; i < _segs.length; i++) {\n                userProvidedSegments.push(_segs[i]);\n                totalLength += _segs[i].getLength();\n            }\n        };\n\n        this.getLength = function() {\n            return totalLength;\n        };\n\n        var _prepareCompute = function (params) {\n            this.strokeWidth = params.strokeWidth;\n            var segment = _jg.quadrant(params.sourcePos, params.targetPos),\n                swapX = params.targetPos[0] < params.sourcePos[0],\n                swapY = params.targetPos[1] < params.sourcePos[1],\n                lw = params.strokeWidth || 1,\n                so = params.sourceEndpoint.anchor.getOrientation(params.sourceEndpoint),\n                to = params.targetEndpoint.anchor.getOrientation(params.targetEndpoint),\n                x = swapX ? params.targetPos[0] : params.sourcePos[0],\n                y = swapY ? params.targetPos[1] : params.sourcePos[1],\n                w = Math.abs(params.targetPos[0] - params.sourcePos[0]),\n                h = Math.abs(params.targetPos[1] - params.sourcePos[1]);\n\n            // if either anchor does not have an orientation set, we derive one from their relative\n            // positions.  we fix the axis to be the one in which the two elements are further apart, and\n            // point each anchor at the other element.  this is also used when dragging a new connection.\n            if (so[0] === 0 && so[1] === 0 || to[0] === 0 && to[1] === 0) {\n                var index = w > h ? 0 : 1, oIndex = [1, 0][index];\n                so = [];\n                to = [];\n                so[index] = params.sourcePos[index] > params.targetPos[index] ? -1 : 1;\n                to[index] = params.sourcePos[index] > params.targetPos[index] ? 1 : -1;\n                so[oIndex] = 0;\n                to[oIndex] = 0;\n            }\n\n            var sx = swapX ? w + (sourceGap * so[0]) : sourceGap * so[0],\n                sy = swapY ? h + (sourceGap * so[1]) : sourceGap * so[1],\n                tx = swapX ? targetGap * to[0] : w + (targetGap * to[0]),\n                ty = swapY ? targetGap * to[1] : h + (targetGap * to[1]),\n                oProduct = ((so[0] * to[0]) + (so[1] * to[1]));\n\n            var result = {\n                sx: sx, sy: sy, tx: tx, ty: ty, lw: lw,\n                xSpan: Math.abs(tx - sx),\n                ySpan: Math.abs(ty - sy),\n                mx: (sx + tx) / 2,\n                my: (sy + ty) / 2,\n                so: so, to: to, x: x, y: y, w: w, h: h,\n                segment: segment,\n                startStubX: sx + (so[0] * sourceStub),\n                startStubY: sy + (so[1] * sourceStub),\n                endStubX: tx + (to[0] * targetStub),\n                endStubY: ty + (to[1] * targetStub),\n                isXGreaterThanStubTimes2: Math.abs(sx - tx) > (sourceStub + targetStub),\n                isYGreaterThanStubTimes2: Math.abs(sy - ty) > (sourceStub + targetStub),\n                opposite: oProduct == -1,\n                perpendicular: oProduct === 0,\n                orthogonal: oProduct == 1,\n                sourceAxis: so[0] === 0 ? \"y\" : \"x\",\n                points: [x, y, w, h, sx, sy, tx, ty ]\n            };\n            result.anchorOrientation = result.opposite ? \"opposite\" : result.orthogonal ? \"orthogonal\" : \"perpendicular\";\n            return result;\n        };\n\n        this.getSegments = function () {\n            return segments;\n        };\n\n        this.updateBounds = function (segment) {\n            var segBounds = segment.getBounds();\n            this.bounds.minX = Math.min(this.bounds.minX, segBounds.minX);\n            this.bounds.maxX = Math.max(this.bounds.maxX, segBounds.maxX);\n            this.bounds.minY = Math.min(this.bounds.minY, segBounds.minY);\n            this.bounds.maxY = Math.max(this.bounds.maxY, segBounds.maxY);\n        };\n\n        var dumpSegmentsToConsole = function () {\n            console.log(\"SEGMENTS:\");\n            for (var i = 0; i < segments.length; i++) {\n                console.log(segments[i].type, segments[i].getLength(), segmentProportions[i]);\n            }\n        };\n\n        this.pointOnPath = function (location, absolute) {\n            var seg = _findSegmentForLocation(location, absolute);\n            return seg.segment && seg.segment.pointOnPath(seg.proportion, false) || [0, 0];\n        };\n\n        this.gradientAtPoint = function (location, absolute) {\n            var seg = _findSegmentForLocation(location, absolute);\n            return seg.segment && seg.segment.gradientAtPoint(seg.proportion, false) || 0;\n        };\n\n        this.pointAlongPathFrom = function (location, distance, absolute) {\n            var seg = _findSegmentForLocation(location, absolute);\n            // TODO what happens if this crosses to the next segment?\n            return seg.segment && seg.segment.pointAlongPathFrom(seg.proportion, distance, false) || [0, 0];\n        };\n\n        this.compute = function (params) {\n            paintInfo = _prepareCompute.call(this, params);\n\n            _clearSegments();\n            this._compute(paintInfo, params);\n            this.x = paintInfo.points[0];\n            this.y = paintInfo.points[1];\n            this.w = paintInfo.points[2];\n            this.h = paintInfo.points[3];\n            this.segment = paintInfo.segment;\n            _updateSegmentProportions();\n        };\n\n        return {\n            addSegment: _addSegment,\n            prepareCompute: _prepareCompute,\n            sourceStub: sourceStub,\n            targetStub: targetStub,\n            maxStub: Math.max(sourceStub, targetStub),\n            sourceGap: sourceGap,\n            targetGap: targetGap,\n            maxGap: Math.max(sourceGap, targetGap),\n            setGeometry:_setGeometry,\n            getGeometry:_getGeometry\n        };\n    };\n    _ju.extend(_jp.Connectors.AbstractConnector, AbstractComponent);\n\n\n    // ********************************* END OF CONNECTOR TYPES *******************************************************************\n\n    // ********************************* ENDPOINT TYPES *******************************************************************\n\n    _jp.Endpoints.AbstractEndpoint = function (params) {\n        AbstractComponent.apply(this, arguments);\n        var compute = this.compute = function (anchorPoint, orientation, endpointStyle, connectorPaintStyle) {\n            var out = this._compute.apply(this, arguments);\n            this.x = out[0];\n            this.y = out[1];\n            this.w = out[2];\n            this.h = out[3];\n            this.bounds.minX = this.x;\n            this.bounds.minY = this.y;\n            this.bounds.maxX = this.x + this.w;\n            this.bounds.maxY = this.y + this.h;\n            return out;\n        };\n        return {\n            compute: compute,\n            cssClass: params.cssClass\n        };\n    };\n    _ju.extend(_jp.Endpoints.AbstractEndpoint, AbstractComponent);\n\n    /**\n     * Class: Endpoints.Dot\n     * A round endpoint, with default radius 10 pixels.\n     */\n\n    /**\n     * Function: Constructor\n     *\n     * Parameters:\n     *\n     *    radius    -    radius of the endpoint.  defaults to 10 pixels.\n     */\n    _jp.Endpoints.Dot = function (params) {\n        this.type = \"Dot\";\n        var _super = _jp.Endpoints.AbstractEndpoint.apply(this, arguments);\n        params = params || {};\n        this.radius = params.radius || 10;\n        this.defaultOffset = 0.5 * this.radius;\n        this.defaultInnerRadius = this.radius / 3;\n\n        this._compute = function (anchorPoint, orientation, endpointStyle, connectorPaintStyle) {\n            this.radius = endpointStyle.radius || this.radius;\n            var x = anchorPoint[0] - this.radius,\n                y = anchorPoint[1] - this.radius,\n                w = this.radius * 2,\n                h = this.radius * 2;\n\n            if (endpointStyle.stroke) {\n                var lw = endpointStyle.strokeWidth || 1;\n                x -= lw;\n                y -= lw;\n                w += (lw * 2);\n                h += (lw * 2);\n            }\n            return [ x, y, w, h, this.radius ];\n        };\n    };\n    _ju.extend(_jp.Endpoints.Dot, _jp.Endpoints.AbstractEndpoint);\n\n    _jp.Endpoints.Rectangle = function (params) {\n        this.type = \"Rectangle\";\n        var _super = _jp.Endpoints.AbstractEndpoint.apply(this, arguments);\n        params = params || {};\n        this.width = params.width || 20;\n        this.height = params.height || 20;\n\n        this._compute = function (anchorPoint, orientation, endpointStyle, connectorPaintStyle) {\n            var width = endpointStyle.width || this.width,\n                height = endpointStyle.height || this.height,\n                x = anchorPoint[0] - (width / 2),\n                y = anchorPoint[1] - (height / 2);\n\n            return [ x, y, width, height];\n        };\n    };\n    _ju.extend(_jp.Endpoints.Rectangle, _jp.Endpoints.AbstractEndpoint);\n\n    var DOMElementEndpoint = function (params) {\n        _jp.jsPlumbUIComponent.apply(this, arguments);\n        this._jsPlumb.displayElements = [];\n    };\n    _ju.extend(DOMElementEndpoint, _jp.jsPlumbUIComponent, {\n        getDisplayElements: function () {\n            return this._jsPlumb.displayElements;\n        },\n        appendDisplayElement: function (el) {\n            this._jsPlumb.displayElements.push(el);\n        }\n    });\n\n    /**\n     * Class: Endpoints.Image\n     * Draws an image as the Endpoint.\n     */\n    /**\n     * Function: Constructor\n     *\n     * Parameters:\n     *\n     *    src    -    location of the image to use.\n\n     TODO: multiple references to self. not sure quite how to get rid of them entirely. perhaps self = null in the cleanup\n     function will suffice\n\n     TODO this class still might leak memory.\n\n     */\n    _jp.Endpoints.Image = function (params) {\n\n        this.type = \"Image\";\n        DOMElementEndpoint.apply(this, arguments);\n        _jp.Endpoints.AbstractEndpoint.apply(this, arguments);\n\n        var _onload = params.onload,\n            src = params.src || params.url,\n            clazz = params.cssClass ? \" \" + params.cssClass : \"\";\n\n        this._jsPlumb.img = new Image();\n        this._jsPlumb.ready = false;\n        this._jsPlumb.initialized = false;\n        this._jsPlumb.deleted = false;\n        this._jsPlumb.widthToUse = params.width;\n        this._jsPlumb.heightToUse = params.height;\n        this._jsPlumb.endpoint = params.endpoint;\n\n        this._jsPlumb.img.onload = function () {\n            if (this._jsPlumb != null) {\n                this._jsPlumb.ready = true;\n                this._jsPlumb.widthToUse = this._jsPlumb.widthToUse || this._jsPlumb.img.width;\n                this._jsPlumb.heightToUse = this._jsPlumb.heightToUse || this._jsPlumb.img.height;\n                if (_onload) {\n                    _onload(this);\n                }\n            }\n        }.bind(this);\n\n        /*\n         Function: setImage\n         Sets the Image to use in this Endpoint.\n\n         Parameters:\n         img         -   may be a URL or an Image object\n         onload      -   optional; a callback to execute once the image has loaded.\n         */\n        this._jsPlumb.endpoint.setImage = function (_img, onload) {\n            var s = _img.constructor == String ? _img : _img.src;\n            _onload = onload;\n            this._jsPlumb.img.src = s;\n\n            if (this.canvas != null)\n                this.canvas.setAttribute(\"src\", this._jsPlumb.img.src);\n        }.bind(this);\n\n        this._jsPlumb.endpoint.setImage(src, _onload);\n        this._compute = function (anchorPoint, orientation, endpointStyle, connectorPaintStyle) {\n            this.anchorPoint = anchorPoint;\n            if (this._jsPlumb.ready) return [anchorPoint[0] - this._jsPlumb.widthToUse / 2, anchorPoint[1] - this._jsPlumb.heightToUse / 2,\n                this._jsPlumb.widthToUse, this._jsPlumb.heightToUse];\n            else return [0, 0, 0, 0];\n        };\n\n        this.canvas = _jp.createElement(\"img\", {\n            position:\"absolute\",\n            margin:0,\n            padding:0,\n            outline:0\n        }, this._jsPlumb.instance.endpointClass + clazz);\n\n        if (this._jsPlumb.widthToUse) this.canvas.setAttribute(\"width\", this._jsPlumb.widthToUse);\n        if (this._jsPlumb.heightToUse) this.canvas.setAttribute(\"height\", this._jsPlumb.heightToUse);\n        this._jsPlumb.instance.appendElement(this.canvas);\n\n        this.actuallyPaint = function (d, style, anchor) {\n            if (!this._jsPlumb.deleted) {\n                if (!this._jsPlumb.initialized) {\n                    this.canvas.setAttribute(\"src\", this._jsPlumb.img.src);\n                    this.appendDisplayElement(this.canvas);\n                    this._jsPlumb.initialized = true;\n                }\n                var x = this.anchorPoint[0] - (this._jsPlumb.widthToUse / 2),\n                    y = this.anchorPoint[1] - (this._jsPlumb.heightToUse / 2);\n                _ju.sizeElement(this.canvas, x, y, this._jsPlumb.widthToUse, this._jsPlumb.heightToUse);\n            }\n        };\n\n        this.paint = function (style, anchor) {\n            if (this._jsPlumb != null) {  // may have been deleted\n                if (this._jsPlumb.ready) {\n                    this.actuallyPaint(style, anchor);\n                }\n                else {\n                    root.setTimeout(function () {\n                        this.paint(style, anchor);\n                    }.bind(this), 200);\n                }\n            }\n        };\n    };\n    _ju.extend(_jp.Endpoints.Image, [ DOMElementEndpoint, _jp.Endpoints.AbstractEndpoint ], {\n        cleanup: function (force) {\n            if (force) {\n                this._jsPlumb.deleted = true;\n                if (this.canvas) this.canvas.parentNode.removeChild(this.canvas);\n                this.canvas = null;\n            }\n        }\n    });\n\n    /*\n     * Class: Endpoints.Blank\n     * An Endpoint that paints nothing (visible) on the screen.  Supports cssClass and hoverClass parameters like all Endpoints.\n     */\n    _jp.Endpoints.Blank = function (params) {\n        var _super = _jp.Endpoints.AbstractEndpoint.apply(this, arguments);\n        this.type = \"Blank\";\n        DOMElementEndpoint.apply(this, arguments);\n        this._compute = function (anchorPoint, orientation, endpointStyle, connectorPaintStyle) {\n            return [anchorPoint[0], anchorPoint[1], 10, 0];\n        };\n\n        var clazz = params.cssClass ? \" \" + params.cssClass : \"\";\n\n        this.canvas = _jp.createElement(\"div\", {\n            display: \"block\",\n            width: \"1px\",\n            height: \"1px\",\n            background: \"transparent\",\n            position: \"absolute\"\n        }, this._jsPlumb.instance.endpointClass + clazz);\n\n        this._jsPlumb.instance.appendElement(this.canvas);\n\n        this.paint = function (style, anchor) {\n            _ju.sizeElement(this.canvas, this.x, this.y, this.w, this.h);\n        };\n    };\n    _ju.extend(_jp.Endpoints.Blank, [_jp.Endpoints.AbstractEndpoint, DOMElementEndpoint], {\n        cleanup: function () {\n            if (this.canvas && this.canvas.parentNode) {\n                this.canvas.parentNode.removeChild(this.canvas);\n            }\n        }\n    });\n\n    /*\n     * Class: Endpoints.Triangle\n     * A triangular Endpoint.\n     */\n    /*\n     * Function: Constructor\n     *\n     * Parameters:\n     *\n     * \twidth\t-\twidth of the triangle's base.  defaults to 55 pixels.\n     * \theight\t-\theight of the triangle from base to apex.  defaults to 55 pixels.\n     */\n    _jp.Endpoints.Triangle = function (params) {\n        this.type = \"Triangle\";\n        _jp.Endpoints.AbstractEndpoint.apply(this, arguments);\n        params = params || {  };\n        params.width = params.width || 55;\n        params.height = params.height || 55;\n        this.width = params.width;\n        this.height = params.height;\n        this._compute = function (anchorPoint, orientation, endpointStyle, connectorPaintStyle) {\n            var width = endpointStyle.width || self.width,\n                height = endpointStyle.height || self.height,\n                x = anchorPoint[0] - (width / 2),\n                y = anchorPoint[1] - (height / 2);\n            return [ x, y, width, height ];\n        };\n    };\n// ********************************* END OF ENDPOINT TYPES *******************************************************************\n\n\n// ********************************* OVERLAY DEFINITIONS ***********************************************************************    \n\n    var AbstractOverlay = _jp.Overlays.AbstractOverlay = function (params) {\n        this.visible = true;\n        this.isAppendedAtTopLevel = true;\n        this.component = params.component;\n        this.loc = params.location == null ? 0.5 : params.location;\n        this.endpointLoc = params.endpointLocation == null ? [ 0.5, 0.5] : params.endpointLocation;\n        this.visible = params.visible !== false;\n    };\n    AbstractOverlay.prototype = {\n        cleanup: function (force) {\n            if (force) {\n                this.component = null;\n                this.canvas = null;\n                this.endpointLoc = null;\n            }\n        },\n        reattach:function(instance) {\n\n        },\n        setVisible: function (val) {\n            this.visible = val;\n            this.component.repaint();\n        },\n        isVisible: function () {\n            return this.visible;\n        },\n        hide: function () {\n            this.setVisible(false);\n        },\n        show: function () {\n            this.setVisible(true);\n        },\n        incrementLocation: function (amount) {\n            this.loc += amount;\n            this.component.repaint();\n        },\n        setLocation: function (l) {\n            this.loc = l;\n            this.component.repaint();\n        },\n        getLocation: function () {\n            return this.loc;\n        },\n        updateFrom:function() { }\n    };\n\n\n    /*\n     * Class: Overlays.Arrow\n     *\n     * An arrow overlay, defined by four points: the head, the two sides of the tail, and a 'foldback' point at some distance along the length\n     * of the arrow that lines from each tail point converge into.  The foldback point is defined using a decimal that indicates some fraction\n     * of the length of the arrow and has a default value of 0.623.  A foldback point value of 1 would mean that the arrow had a straight line\n     * across the tail.\n     */\n    /*\n     * @constructor\n     *\n     * @param {Object} params Constructor params.\n     * @param {Number} [params.length] Distance in pixels from head to tail baseline. default 20.\n     * @param {Number} [params.width] Width in pixels of the tail baseline. default 20.\n     * @param {String} [params.fill] Style to use when filling the arrow.  defaults to \"black\".\n     * @param {String} [params.stroke] Style to use when stroking the arrow. defaults to null, which means the arrow is not stroked.\n     * @param {Number} [params.stroke-width] Line width to use when stroking the arrow. defaults to 1, but only used if stroke is not null.\n     * @param {Number} [params.foldback] Distance (as a decimal from 0 to 1 inclusive) along the length of the arrow marking the point the tail points should fold back to.  defaults to 0.623.\n     * @param {Number} [params.location] Distance (as a decimal from 0 to 1 inclusive) marking where the arrow should sit on the connector. defaults to 0.5.\n     * @param {NUmber} [params.direction] Indicates the direction the arrow points in. valid values are -1 and 1; 1 is default.\n     */\n    _jp.Overlays.Arrow = function (params) {\n        this.type = \"Arrow\";\n        AbstractOverlay.apply(this, arguments);\n        this.isAppendedAtTopLevel = false;\n        params = params || {};\n\n        this.length = params.length || 20;\n        this.width = params.width || 20;\n        this.id = params.id;\n        var direction = (params.direction || 1) < 0 ? -1 : 1,\n            paintStyle = params.paintStyle || { \"stroke-width\": 1 },\n        // how far along the arrow the lines folding back in come to. default is 62.3%.\n            foldback = params.foldback || 0.623;\n\n        this.computeMaxSize = function () {\n            return self.width * 1.5;\n        };\n\n        this.elementCreated = function(p, component) {\n            this.path = p;\n            if (params.events) {\n                for (var i in params.events) {\n                    _jp.on(p, i, params.events[i]);\n                }\n            }\n        };\n\n        this.draw = function (component, currentConnectionPaintStyle) {\n\n            var hxy, mid, txy, tail, cxy;\n            if (component.pointAlongPathFrom) {\n\n                if (_ju.isString(this.loc) || this.loc > 1 || this.loc < 0) {\n                    var l = parseInt(this.loc, 10),\n                        fromLoc = this.loc < 0 ? 1 : 0;\n                    hxy = component.pointAlongPathFrom(fromLoc, l, false);\n                    mid = component.pointAlongPathFrom(fromLoc, l - (direction * this.length / 2), false);\n                    txy = _jg.pointOnLine(hxy, mid, this.length);\n                }\n                else if (this.loc == 1) {\n                    hxy = component.pointOnPath(this.loc);\n                    mid = component.pointAlongPathFrom(this.loc, -(this.length));\n                    txy = _jg.pointOnLine(hxy, mid, this.length);\n\n                    if (direction == -1) {\n                        var _ = txy;\n                        txy = hxy;\n                        hxy = _;\n                    }\n                }\n                else if (this.loc === 0) {\n                    txy = component.pointOnPath(this.loc);\n                    mid = component.pointAlongPathFrom(this.loc, this.length);\n                    hxy = _jg.pointOnLine(txy, mid, this.length);\n                    if (direction == -1) {\n                        var __ = txy;\n                        txy = hxy;\n                        hxy = __;\n                    }\n                }\n                else {\n                    hxy = component.pointAlongPathFrom(this.loc, direction * this.length / 2);\n                    mid = component.pointOnPath(this.loc);\n                    txy = _jg.pointOnLine(hxy, mid, this.length);\n                }\n\n                tail = _jg.perpendicularLineTo(hxy, txy, this.width);\n                cxy = _jg.pointOnLine(hxy, txy, foldback * this.length);\n\n                var d = { hxy: hxy, tail: tail, cxy: cxy },\n                    stroke = paintStyle.stroke || currentConnectionPaintStyle.stroke,\n                    fill = paintStyle.fill || currentConnectionPaintStyle.stroke,\n                    lineWidth = paintStyle.strokeWidth || currentConnectionPaintStyle.strokeWidth;\n\n                return {\n                    component: component,\n                    d: d,\n                    \"stroke-width\": lineWidth,\n                    stroke: stroke,\n                    fill: fill,\n                    minX: Math.min(hxy.x, tail[0].x, tail[1].x),\n                    maxX: Math.max(hxy.x, tail[0].x, tail[1].x),\n                    minY: Math.min(hxy.y, tail[0].y, tail[1].y),\n                    maxY: Math.max(hxy.y, tail[0].y, tail[1].y)\n                };\n            }\n            else return {component: component, minX: 0, maxX: 0, minY: 0, maxY: 0};\n        };\n    };\n    _ju.extend(_jp.Overlays.Arrow, AbstractOverlay, {\n        updateFrom:function(d) {\n            this.length = d.length || this.length;\n            this.width = d.width|| this.width;\n            this.direction = d.direction != null ? d.direction : this.direction;\n            this.foldback = d.foldback|| this.foldback;\n        }\n    });\n\n    /*\n     * Class: Overlays.PlainArrow\n     *\n     * A basic arrow.  This is in fact just one instance of the more generic case in which the tail folds back on itself to some\n     * point along the length of the arrow: in this case, that foldback point is the full length of the arrow.  so it just does\n     * a 'call' to Arrow with foldback set appropriately.\n     */\n    /*\n     * Function: Constructor\n     * See <Overlays.Arrow> for allowed parameters for this overlay.\n     */\n    _jp.Overlays.PlainArrow = function (params) {\n        params = params || {};\n        var p = _jp.extend(params, {foldback: 1});\n        _jp.Overlays.Arrow.call(this, p);\n        this.type = \"PlainArrow\";\n    };\n    _ju.extend(_jp.Overlays.PlainArrow, _jp.Overlays.Arrow);\n\n    /*\n     * Class: Overlays.Diamond\n     * \n     * A diamond. Like PlainArrow, this is a concrete case of the more generic case of the tail points converging on some point...it just\n     * happens that in this case, that point is greater than the length of the the arrow.\n     *\n     *      this could probably do with some help with positioning...due to the way it reuses the Arrow paint code, what Arrow thinks is the\n     *      center is actually 1/4 of the way along for this guy.  but we don't have any knowledge of pixels at this point, so we're kind of\n     *      stuck when it comes to helping out the Arrow class. possibly we could pass in a 'transpose' parameter or something. the value\n     *      would be -l/4 in this case - move along one quarter of the total length.\n     */\n    /*\n     * Function: Constructor\n     * See <Overlays.Arrow> for allowed parameters for this overlay.\n     */\n    _jp.Overlays.Diamond = function (params) {\n        params = params || {};\n        var l = params.length || 40,\n            p = _jp.extend(params, {length: l / 2, foldback: 2});\n        _jp.Overlays.Arrow.call(this, p);\n        this.type = \"Diamond\";\n    };\n    _ju.extend(_jp.Overlays.Diamond, _jp.Overlays.Arrow);\n\n    var _getDimensions = function (component, forceRefresh) {\n        if (component._jsPlumb.cachedDimensions == null || forceRefresh)\n            component._jsPlumb.cachedDimensions = component.getDimensions();\n        return component._jsPlumb.cachedDimensions;\n    };\n\n    // abstract superclass for overlays that add an element to the DOM.\n    var AbstractDOMOverlay = function (params) {\n        _jp.jsPlumbUIComponent.apply(this, arguments);\n        AbstractOverlay.apply(this, arguments);\n\n        // hand off fired events to associated component.\n        var _f = this.fire;\n        this.fire = function () {\n            _f.apply(this, arguments);\n            if (this.component) this.component.fire.apply(this.component, arguments);\n        };\n\n        this.detached=false;\n        this.id = params.id;\n        this._jsPlumb.div = null;\n        this._jsPlumb.initialised = false;\n        this._jsPlumb.component = params.component;\n        this._jsPlumb.cachedDimensions = null;\n        this._jsPlumb.create = params.create;\n        this._jsPlumb.initiallyInvisible = params.visible === false;\n\n        this.getElement = function () {\n            if (this._jsPlumb.div == null) {\n                var div = this._jsPlumb.div = _jp.getElement(this._jsPlumb.create(this._jsPlumb.component));\n                div.style.position = \"absolute\";\n                div.className = this._jsPlumb.instance.overlayClass + \" \" +\n                    (this.cssClass ? this.cssClass :\n                        params.cssClass ? params.cssClass : \"\");\n                this._jsPlumb.instance.appendElement(div);\n                this._jsPlumb.instance.getId(div);\n                this.canvas = div;\n\n                // in IE the top left corner is what it placed at the desired location.  This will not\n                // be fixed. IE8 is not going to be supported for much longer.\n                var ts = \"translate(-50%, -50%)\";\n                div.style.webkitTransform = ts;\n                div.style.mozTransform = ts;\n                div.style.msTransform = ts;\n                div.style.oTransform = ts;\n                div.style.transform = ts;\n\n                // write the related component into the created element\n                div._jsPlumb = this;\n\n                if (params.visible === false)\n                    div.style.display = \"none\";\n            }\n            return this._jsPlumb.div;\n        };\n\n        this.draw = function (component, currentConnectionPaintStyle, absolutePosition) {\n            var td = _getDimensions(this);\n            if (td != null && td.length == 2) {\n                var cxy = { x: 0, y: 0 };\n\n                // absolutePosition would have been set by a call to connection.setAbsoluteOverlayPosition.\n                if (absolutePosition) {\n                    cxy = { x: absolutePosition[0], y: absolutePosition[1] };\n                }\n                else if (component.pointOnPath) {\n                    var loc = this.loc, absolute = false;\n                    if (_ju.isString(this.loc) || this.loc < 0 || this.loc > 1) {\n                        loc = parseInt(this.loc, 10);\n                        absolute = true;\n                    }\n                    cxy = component.pointOnPath(loc, absolute);  // a connection\n                }\n                else {\n                    var locToUse = this.loc.constructor == Array ? this.loc : this.endpointLoc;\n                    cxy = { x: locToUse[0] * component.w,\n                        y: locToUse[1] * component.h };\n                }\n\n                var minx = cxy.x - (td[0] / 2),\n                    miny = cxy.y - (td[1] / 2);\n\n                return {\n                    component: component,\n                    d: { minx: minx, miny: miny, td: td, cxy: cxy },\n                    minX: minx,\n                    maxX: minx + td[0],\n                    minY: miny,\n                    maxY: miny + td[1]\n                };\n            }\n            else return {minX: 0, maxX: 0, minY: 0, maxY: 0};\n        };\n    };\n    _ju.extend(AbstractDOMOverlay, [_jp.jsPlumbUIComponent, AbstractOverlay], {\n        getDimensions: function () {\n            return [1,1];\n        },\n        setVisible: function (state) {\n            if (this._jsPlumb.div) {\n                this._jsPlumb.div.style.display = state ? \"block\" : \"none\";\n                // if initially invisible, dimensions are 0,0 and never get updated\n                if (state && this._jsPlumb.initiallyInvisible) {\n                    _getDimensions(this, true);\n                    this.component.repaint();\n                    this._jsPlumb.initiallyInvisible = false;\n                }\n            }\n        },\n        /*\n         * Function: clearCachedDimensions\n         * Clears the cached dimensions for the label. As a performance enhancement, label dimensions are\n         * cached from 1.3.12 onwards. The cache is cleared when you change the label text, of course, but\n         * there are other reasons why the text dimensions might change - if you make a change through CSS, for\n         * example, you might change the font size.  in that case you should explicitly call this method.\n         */\n        clearCachedDimensions: function () {\n            this._jsPlumb.cachedDimensions = null;\n        },\n        cleanup: function (force) {\n            if (force) {\n                if (this._jsPlumb.div != null) {\n                    this._jsPlumb.div._jsPlumb = null;\n                    this._jsPlumb.instance.removeElement(this._jsPlumb.div);\n                }\n            }\n            else {\n                // if not a forced cleanup, just detach child from parent for now.\n                if (this._jsPlumb && this._jsPlumb.div && this._jsPlumb.div.parentNode)\n                    this._jsPlumb.div.parentNode.removeChild(this._jsPlumb.div);\n                this.detached = true;\n            }\n\n        },\n        reattach:function(instance) {\n            if (this._jsPlumb.div != null) instance.getContainer().appendChild(this._jsPlumb.div);\n            this.detached = false;\n        },\n        computeMaxSize: function () {\n            var td = _getDimensions(this);\n            return Math.max(td[0], td[1]);\n        },\n        paint: function (p, containerExtents) {\n            if (!this._jsPlumb.initialised) {\n                this.getElement();\n                p.component.appendDisplayElement(this._jsPlumb.div);\n                this._jsPlumb.initialised = true;\n                if (this.detached) this._jsPlumb.div.parentNode.removeChild(this._jsPlumb.div);\n            }\n            this._jsPlumb.div.style.left = (p.component.x + p.d.minx) + \"px\";\n            this._jsPlumb.div.style.top = (p.component.y + p.d.miny) + \"px\";\n        }\n    });\n\n    /*\n     * Class: Overlays.Custom\n     * A Custom overlay. You supply a 'create' function which returns some DOM element, and jsPlumb positions it.\n     * The 'create' function is passed a Connection or Endpoint.\n     */\n    /*\n     * Function: Constructor\n     * \n     * Parameters:\n     * \tcreate - function for jsPlumb to call that returns a DOM element.\n     * \tlocation - distance (as a decimal from 0 to 1 inclusive) marking where the label should sit on the connector. defaults to 0.5.\n     * \tid - optional id to use for later retrieval of this overlay.\n     * \t\n     */\n    _jp.Overlays.Custom = function (params) {\n        this.type = \"Custom\";\n        AbstractDOMOverlay.apply(this, arguments);\n    };\n    _ju.extend(_jp.Overlays.Custom, AbstractDOMOverlay);\n\n    _jp.Overlays.GuideLines = function () {\n        var self = this;\n        self.length = 50;\n        self.strokeWidth = 5;\n        this.type = \"GuideLines\";\n        AbstractOverlay.apply(this, arguments);\n        _jp.jsPlumbUIComponent.apply(this, arguments);\n        this.draw = function (connector, currentConnectionPaintStyle) {\n\n            var head = connector.pointAlongPathFrom(self.loc, self.length / 2),\n                mid = connector.pointOnPath(self.loc),\n                tail = _jg.pointOnLine(head, mid, self.length),\n                tailLine = _jg.perpendicularLineTo(head, tail, 40),\n                headLine = _jg.perpendicularLineTo(tail, head, 20);\n\n            return {\n                connector: connector,\n                head: head,\n                tail: tail,\n                headLine: headLine,\n                tailLine: tailLine,\n                minX: Math.min(head.x, tail.x, headLine[0].x, headLine[1].x),\n                minY: Math.min(head.y, tail.y, headLine[0].y, headLine[1].y),\n                maxX: Math.max(head.x, tail.x, headLine[0].x, headLine[1].x),\n                maxY: Math.max(head.y, tail.y, headLine[0].y, headLine[1].y)\n            };\n        };\n\n        // this.cleanup = function() { };  // nothing to clean up for GuideLines\n    };\n\n    /*\n     * Class: Overlays.Label\n\n     */\n    /*\n     * Function: Constructor\n     * \n     * Parameters:\n     * \tcssClass - optional css class string to append to css class. This string is appended \"as-is\", so you can of course have multiple classes\n     *             defined.  This parameter is preferred to using labelStyle, borderWidth and borderStyle.\n     * \tlabel - the label to paint.  May be a string or a function that returns a string.  Nothing will be painted if your label is null or your\n     *         label function returns null.  empty strings _will_ be painted.\n     * \tlocation - distance (as a decimal from 0 to 1 inclusive) marking where the label should sit on the connector. defaults to 0.5.\n     * \tid - optional id to use for later retrieval of this overlay.\n     * \n     * \t\n     */\n    _jp.Overlays.Label = function (params) {\n        this.labelStyle = params.labelStyle;\n\n        var labelWidth = null, labelHeight = null, labelText = null, labelPadding = null;\n        this.cssClass = this.labelStyle != null ? this.labelStyle.cssClass : null;\n        var p = _jp.extend({\n            create: function () {\n                return _jp.createElement(\"div\");\n            }}, params);\n        _jp.Overlays.Custom.call(this, p);\n        this.type = \"Label\";\n        this.label = params.label || \"\";\n        this.labelText = null;\n        if (this.labelStyle) {\n            var el = this.getElement();\n            this.labelStyle.font = this.labelStyle.font || \"12px sans-serif\";\n            el.style.font = this.labelStyle.font;\n            el.style.color = this.labelStyle.color || \"black\";\n            if (this.labelStyle.fill) el.style.background = this.labelStyle.fill;\n            if (this.labelStyle.borderWidth > 0) {\n                var dStyle = this.labelStyle.borderStyle ? this.labelStyle.borderStyle : \"black\";\n                el.style.border = this.labelStyle.borderWidth + \"px solid \" + dStyle;\n            }\n            if (this.labelStyle.padding) el.style.padding = this.labelStyle.padding;\n        }\n\n    };\n    _ju.extend(_jp.Overlays.Label, _jp.Overlays.Custom, {\n        cleanup: function (force) {\n            if (force) {\n                this.div = null;\n                this.label = null;\n                this.labelText = null;\n                this.cssClass = null;\n                this.labelStyle = null;\n            }\n        },\n        getLabel: function () {\n            return this.label;\n        },\n        /*\n         * Function: setLabel\n         * sets the label's, um, label.  you would think i'd call this function\n         * 'setText', but you can pass either a Function or a String to this, so\n         * it makes more sense as 'setLabel'. This uses innerHTML on the label div, so keep\n         * that in mind if you need escaped HTML.\n         */\n        setLabel: function (l) {\n            this.label = l;\n            this.labelText = null;\n            this.clearCachedDimensions();\n            this.update();\n            this.component.repaint();\n        },\n        getDimensions: function () {\n            this.update();\n            return AbstractDOMOverlay.prototype.getDimensions.apply(this, arguments);\n        },\n        update: function () {\n            if (typeof this.label == \"function\") {\n                var lt = this.label(this);\n                this.getElement().innerHTML = lt.replace(/\\r\\n/g, \"<br/>\");\n            }\n            else {\n                if (this.labelText == null) {\n                    this.labelText = this.label;\n                    this.getElement().innerHTML = this.labelText.replace(/\\r\\n/g, \"<br/>\");\n                }\n            }\n        },\n        updateFrom:function(d) {\n            if(d.label != null){\n                this.setLabel(d.label);\n            }\n        }\n    });\n\n    // ********************************* END OF OVERLAY DEFINITIONS ***********************************************************************\n\n}).call(typeof window !== 'undefined' ? window : this);\n\n/*\n * jsPlumb\n *\n * Title:jsPlumb 2.3.0\n *\n * Provides a way to visually connect elements on an HTML page, using SVG.\n *\n * This file contains the base class for library adapters.\n *\n * Copyright (c) 2010 - 2017 jsPlumb (hello@jsplumbtoolkit.com)\n *\n * http://jsplumbtoolkit.com\n * http://github.com/sporritt/jsplumb\n *\n * Dual licensed under the MIT and GPL2 licenses.\n */\n;(function() {\n    \"use strict\";\n    var root = this,\n        _jp = root.jsPlumb;\n\n    var _getEventManager = function(instance) {\n        var e = instance._mottle;\n        if (!e) {\n            e = instance._mottle = new root.Mottle();\n        }\n        return e;\n    };\n\n    _jp.extend(root.jsPlumbInstance.prototype, {\n        getEventManager:function() {\n            return _getEventManager(this);\n        },\n        on : function(el, event, callback) {\n            // TODO: here we would like to map the tap event if we know its\n            // an internal bind to a click. we have to know its internal because only\n            // then can we be sure that the UP event wont be consumed (tap is a synthesized\n            // event from a mousedown followed by a mouseup).\n            //event = { \"click\":\"tap\", \"dblclick\":\"dbltap\"}[event] || event;\n            this.getEventManager().on.apply(this, arguments);\n            return this;\n        },\n        off : function(el, event, callback) {\n            this.getEventManager().off.apply(this, arguments);\n            return this;\n        }\n    });\n\n\n}).call(typeof window !== 'undefined' ? window : this);\n/*\n * jsPlumb\n *\n * Title:jsPlumb 2.3.0\n *\n * Provides a way to visually connect elements on an HTML page, using SVG.\n *\n * This file contains the code for working with Groups.\n *\n * Copyright (c) 2010 - 2017 jsPlumb (hello@jsplumbtoolkit.com)\n *\n * http://jsplumbtoolkit.com\n * http://github.com/sporritt/jsplumb\n *\n * Dual licensed under the MIT and GPL2 licenses.\n */\n;(function() {\n    \"use strict\";\n\n    var root = this,\n        _ju = root.jsPlumbUtil,\n        _jpi = root.jsPlumbInstance;\n\n    var GROUP_COLLAPSED_CLASS = \"jtk-group-collapsed\";\n    var GROUP_EXPANDED_CLASS = \"jtk-group-expanded\";\n    var GROUP_CONTAINER_SELECTOR = \"[jtk-group-content]\";\n    var ELEMENT_DRAGGABLE_EVENT = \"elementDraggable\";\n    var STOP = \"stop\";\n    var REVERT = \"revert\";\n    var GROUP_MANAGER = \"_groupManager\";\n    var GROUP = \"_jsPlumbGroup\";\n    var GROUP_DRAG_SCOPE = \"_jsPlumbGroupDrag\";\n    var EVT_CHILD_ADDED = \"group:addMember\";\n    var EVT_CHILD_REMOVED = \"group:removeMember\";\n    var EVT_GROUP_ADDED = \"group:add\";\n    var EVT_GROUP_REMOVED = \"group:remove\";\n    var EVT_EXPAND = \"group:expand\";\n    var EVT_COLLAPSE = \"group:collapse\";\n\n    var GroupManager = function(_jsPlumb) {\n        var _managedGroups = {}, _connectionSourceMap = {}, _connectionTargetMap = {}, self = this;\n\n        _jsPlumb.bind(\"connection\", function(p) {\n            if (p.source[GROUP] != null && p.target[GROUP] != null && p.source[GROUP] === p.target[GROUP]) {\n                _connectionSourceMap[p.connection.id] = p.source[GROUP];\n                _connectionTargetMap[p.connection.id] = p.source[GROUP];\n            }\n            else {\n                if (p.source[GROUP] != null) {\n                    _ju.suggest(p.source[GROUP].connections.source, p.connection);\n                    _connectionSourceMap[p.connection.id] = p.source[GROUP];\n                }\n                if (p.target[GROUP] != null) {\n                    _ju.suggest(p.target[GROUP].connections.target, p.connection);\n                    _connectionTargetMap[p.connection.id] = p.target[GROUP];\n                }\n            }\n        });\n\n        function _cleanupDetachedConnection(conn) {\n            delete conn.proxies;\n            var group = _connectionSourceMap[conn.id], f;\n            if (group != null) {\n                f = function(c) { return c.id === conn.id; };\n                _ju.removeWithFunction(group.connections.source, f);\n                _ju.removeWithFunction(group.connections.target, f);\n                delete _connectionSourceMap[conn.id];\n            }\n\n            group = _connectionTargetMap[conn.id];\n            if (group != null) {\n                f = function(c) { return c.id === conn.id; };\n                _ju.removeWithFunction(group.connections.source, f);\n                _ju.removeWithFunction(group.connections.target, f);\n                delete _connectionTargetMap[conn.id];\n            }\n        }\n\n        _jsPlumb.bind(\"internal.connectionDetached\", function(p) {\n            _cleanupDetachedConnection(p.connection);\n        });\n\n        _jsPlumb.bind(\"connectionMoved\", function(p) {\n            var connMap = p.index === 0 ? _connectionSourceMap : _connectionTargetMap;\n            var group = connMap[p.connection.id];\n            if (group) {\n                var list = group.connections[p.index === 0 ? \"source\" : \"target\"];\n                var idx = list.indexOf(p.connection);\n                if (idx != -1) {\n                    list.splice(idx, 1);\n                }\n            }\n        });\n\n        this.addGroup = function(group) {\n            _jsPlumb.addClass(group.getEl(), GROUP_EXPANDED_CLASS);\n            _managedGroups[group.id] = group;\n            group.manager = this;\n            _updateConnectionsForGroup(group);\n            _jsPlumb.fire(EVT_GROUP_ADDED, { group:group });\n        };\n\n        this.addToGroup = function(group, el, doNotFireEvent) {\n            group = this.getGroup(group);\n            if (group) {\n                //group.add(el, doNotFireEvent);\n                var groupEl = group.getEl();\n\n                if (el._isJsPlumbGroup) return;\n                var currentGroup = el._jsPlumbGroup;\n                // if already a member of this group, do nothing\n                if (currentGroup !== group) {\n                    var elpos = _jsPlumb.getOffset(el, true);\n                    var cpos = group.collapsed ? _jsPlumb.getOffset(groupEl, true) : _jsPlumb.getOffset(group.getDragArea(), true);\n\n                    // otherwise, transfer to this group.\n                    if (currentGroup != null) {\n                        currentGroup.remove(el, doNotFireEvent);\n                        self.updateConnectionsForGroup(currentGroup);\n                    }\n                    group.add(el, doNotFireEvent);\n\n                    var handleDroppedConnections = function (list, index) {\n                        var oidx = index == 0 ? 1 : 0;\n                        list.each(function (c) {\n                            c.setVisible(false);\n                            if (c.endpoints[oidx].element._jsPlumbGroup === group) {\n                                c.endpoints[oidx].setVisible(false);\n                                self.expandConnection(c, oidx, group);\n                            }\n                            else {\n                                c.endpoints[index].setVisible(false);\n                                self.collapseConnection(c, index, group);\n                            }\n                        });\n                    };\n\n                    if (group.collapsed) {\n                        handleDroppedConnections(_jsPlumb.select({source: el}), 0);\n                        handleDroppedConnections(_jsPlumb.select({target: el}), 1);\n                    }\n\n                    var elId = _jsPlumb.getId(el);\n                    _jsPlumb.dragManager.setParent(el, elId, groupEl, _jsPlumb.getId(groupEl), elpos);\n\n                    var newPosition = { left: elpos.left - cpos.left, top: elpos.top - cpos.top };\n\n                    _jsPlumb.setPosition(el, newPosition);\n\n                    _jsPlumb.dragManager.revalidateParent(el, elId, elpos);\n\n                    self.updateConnectionsForGroup(group);\n\n                    _jsPlumb.revalidate(elId);\n\n                    setTimeout(function () {\n                        _jsPlumb.fire(EVT_CHILD_ADDED, {group: group, el: el});\n                    }, 0);\n                }\n            }\n        };\n\n        this.removeFromGroup = function(group, el, doNotFireEvent) {\n            group = this.getGroup(group);\n            if (group) {\n                group.remove(el, null, doNotFireEvent);\n            }\n        };\n\n        this.getGroup = function(groupId) {\n            var group = groupId;\n            if (_ju.isString(groupId)) {\n                group = _managedGroups[groupId];\n                if (group == null) throw new TypeError(\"No such group [\" + groupId + \"]\");\n            }\n            return group;\n        };\n\n        this.getGroups = function() {\n            var o = [];\n            for (var g in _managedGroups) {\n                o.push(_managedGroups[g]);\n            }\n            return o;\n        };\n\n        this.removeGroup = function(group, deleteMembers, manipulateDOM, doNotFireEvent) {\n            group = this.getGroup(group);\n            this.expandGroup(group, true); // this reinstates any original connections and removes all proxies, but does not fire an event.\n            group[deleteMembers ? \"removeAll\" : \"orphanAll\"](manipulateDOM, doNotFireEvent);\n            _jsPlumb.remove(group.getEl());\n            delete _managedGroups[group.id];\n            delete _jsPlumb._groups[group.id];\n            _jsPlumb.fire(EVT_GROUP_REMOVED, { group:group });\n        };\n\n        this.removeAllGroups = function(deleteMembers, manipulateDOM, doNotFireEvent) {\n            for (var g in _managedGroups) {\n                this.removeGroup(_managedGroups[g], deleteMembers, manipulateDOM, doNotFireEvent);\n            }\n        };\n\n        function _setVisible(group, state) {\n            var m = group.getMembers();\n            for (var i = 0; i < m.length; i++) {\n                _jsPlumb[state ? \"show\" : \"hide\"](m[i], true);\n            }\n        }\n\n        var _collapseConnection = this.collapseConnection = function(c, index, group) {\n\n            var proxyEp, groupEl = group.getEl(), groupElId = _jsPlumb.getId(groupEl),\n                originalElementId = c.endpoints[index].elementId;\n\n            var otherEl = c.endpoints[index === 0 ? 1 : 0].element;\n            if (otherEl[GROUP] && (!otherEl[GROUP].shouldProxy() && otherEl[GROUP].collapsed)) {\n                return;\n            }\n\n            c.proxies = c.proxies || [];\n            if(c.proxies[index]) {\n                proxyEp = c.proxies[index].ep;\n            }else {\n                proxyEp = _jsPlumb.addEndpoint(groupEl, {\n                    endpoint:group.getEndpoint(c, index),\n                    anchor:group.getAnchor(c, index),\n                    parameters:{\n                        isProxyEndpoint:true\n                    }\n                });\n                proxyEp._forceDeleteOnDetach = true;\n            }\n            // for this index, stash proxy info: the new EP, the original EP.\n            c.proxies[index] = { ep:proxyEp, originalEp: c.endpoints[index] };\n\n            // and advise the anchor manager\n            if (index === 0) {\n                // TODO why are there two differently named methods? Why is there not one method that says \"some end of this\n                // connection changed (you give the index), and here's the new element and element id.\"\n                _jsPlumb.anchorManager.sourceChanged(originalElementId, groupElId, c, groupEl);\n            }\n            else {\n                _jsPlumb.anchorManager.updateOtherEndpoint(c.endpoints[0].elementId, originalElementId, groupElId, c);\n                c.target = groupEl;\n                c.targetId = groupElId;\n            }\n\n\n            // detach the original EP from the connection.\n            c.proxies[index].originalEp.detachFromConnection(c, null, true);\n\n            // set the proxy as the new ep\n            proxyEp.connections = [ c ];\n            c.endpoints[index] = proxyEp;\n\n            c.setVisible(true);\n        };\n\n        this.collapseGroup = function(group) {\n            group = this.getGroup(group);\n            if (group == null || group.collapsed) return;\n            var groupEl = group.getEl();\n\n            // todo remove old proxy endpoints first, just in case?\n            //group.proxies.length = 0;\n\n            // hide all connections\n            _setVisible(group, false);\n\n            if (group.shouldProxy()) {\n                // collapses all connections in a group.\n                var _collapseSet = function (conns, index) {\n                    for (var i = 0; i < conns.length; i++) {\n                        var c = conns[i];\n                        _collapseConnection(c, index, group);\n                    }\n                };\n\n                // setup proxies for sources and targets\n                _collapseSet(group.connections.source, 0);\n                _collapseSet(group.connections.target, 1);\n            }\n\n            group.collapsed = true;\n            _jsPlumb.removeClass(groupEl, GROUP_EXPANDED_CLASS);\n            _jsPlumb.addClass(groupEl, GROUP_COLLAPSED_CLASS);\n            _jsPlumb.revalidate(groupEl);\n            _jsPlumb.fire(EVT_COLLAPSE, { group:group  });\n        };\n\n        var _expandConnection = this.expandConnection = function(c, index, group) {\n\n            // if no proxies or none for this end of the connection, abort.\n            if (c.proxies == null || c.proxies[index] == null) return;\n\n            var groupElId = _jsPlumb.getId(group.getEl()),\n                originalElement = c.proxies[index].originalEp.element,\n                originalElementId = c.proxies[index].originalEp.elementId;\n\n            c.endpoints[index] = c.proxies[index].originalEp;\n            // and advise the anchor manager\n            if (index === 0) {\n                // TODO why are there two differently named methods? Why is there not one method that says \"some end of this\n                // connection changed (you give the index), and here's the new element and element id.\"\n                _jsPlumb.anchorManager.sourceChanged(groupElId, originalElementId, c, originalElement);\n            }\n            else {\n                _jsPlumb.anchorManager.updateOtherEndpoint(c.endpoints[0].elementId, groupElId, originalElementId, c);\n                c.target = originalElement;\n                c.targetId = originalElementId;\n            }\n\n            // detach the proxy EP from the connection.\n            c.proxies[index].ep.detachFromConnection(c, null, true);\n\n\n            c.proxies[index].originalEp.addConnection(c);\n\n            // cleanup\n            delete c.proxies[index];\n        };\n\n        this.expandGroup = function(group, doNotFireEvent) {\n\n            group = this.getGroup(group);\n\n            if (group == null || !group.collapsed) return;\n            var groupEl = group.getEl();\n\n            _setVisible(group, true);\n\n            if (group.shouldProxy()) {\n                // collapses all connections in a group.\n                var _expandSet = function (conns, index) {\n                    for (var i = 0; i < conns.length; i++) {\n                        var c = conns[i];\n                        _expandConnection(c, index, group);\n                    }\n                };\n\n                // setup proxies for sources and targets\n                _expandSet(group.connections.source, 0);\n                _expandSet(group.connections.target, 1);\n            }\n\n            group.collapsed = false;\n            _jsPlumb.addClass(groupEl, GROUP_EXPANDED_CLASS);\n            _jsPlumb.removeClass(groupEl, GROUP_COLLAPSED_CLASS);\n            _jsPlumb.revalidate(groupEl);\n            this.repaintGroup(group);\n            if (!doNotFireEvent) {\n                _jsPlumb.fire(EVT_EXPAND, { group: group});\n            }\n        };\n\n        this.repaintGroup = function(group) {\n            group = this.getGroup(group);\n            var m = group.getMembers();\n            for (var i = 0; i < m.length; i++) {\n                _jsPlumb.revalidate(m[i]);\n            }\n        };\n\n        // TODO refactor this with the code that responds to `connection` events.\n        function _updateConnectionsForGroup(group) {\n            var members = group.getMembers();\n            var c1 = _jsPlumb.getConnections({source:members}, true);\n            var c2 = _jsPlumb.getConnections({target:members}, true);\n            var processed = {};\n            group.connections.source.length = 0;\n            group.connections.target.length = 0;\n            var oneSet = function(c) {\n                for (var i = 0; i < c.length; i++) {\n                    if (processed[c[i].id]) continue;\n                    processed[c[i].id] = true;\n                    if (c[i].source._jsPlumbGroup === group) {\n                        if (c[i].target._jsPlumbGroup !== group) {\n                            group.connections.source.push(c[i]);\n                        }\n                        _connectionSourceMap[c[i].id] = group;\n                    }\n                    else if (c[i].target._jsPlumbGroup === group) {\n                        group.connections.target.push(c[i]);\n                        _connectionTargetMap[c[i].id] = group;\n                    }\n                }\n            };\n            oneSet(c1); oneSet(c2);\n        }\n\n        this.updateConnectionsForGroup = _updateConnectionsForGroup;\n        this.refreshAllGroups = function() {\n            for (var g in _managedGroups) {\n                _updateConnectionsForGroup(_managedGroups[g]);\n                _jsPlumb.dragManager.updateOffsets(_jsPlumb.getId(_managedGroups[g].getEl()));\n            }\n        };\n    };\n\n    /**\n     *\n     * @param {jsPlumbInstance} _jsPlumb Associated jsPlumb instance.\n     * @param {Object} params\n     * @param {Element} params.el The DOM element representing the Group.\n     * @param {String} [params.id] Optional ID for the Group. A UUID will be assigned as the Group's ID if you do not provide one.\n     * @param {Boolean} [params.constrain=false] If true, child elements will not be able to be dragged outside of the Group container.\n     * @param {Boolean} [params.revert=true] By default, child elements revert to the container if dragged outside. You can change this by setting `revert:false`. This behaviour is also overridden if you set `orphan` or `prune`.\n     * @param {Boolean} [params.orphan=false] If true, child elements dropped outside of the Group container will be removed from the Group (but not from the DOM).\n     * @param {Boolean} [params.prune=false] If true, child elements dropped outside of the Group container will be removed from the Group and also from the DOM.\n     * @param {Boolean} [params.dropOverride=false] If true, a child element that has been dropped onto some other Group will not be subject to the controls imposed by `prune`, `revert` or `orphan`.\n     * @constructor\n     */\n    var Group = function(_jsPlumb, params) {\n        var self = this;\n        var el = params.el;\n        this.getEl = function() { return el; };\n        this.id = params.id || _ju.uuid();\n        el._isJsPlumbGroup = true;\n\n        var getDragArea = this.getDragArea = function() {\n            var da = _jsPlumb.getSelector(el, GROUP_CONTAINER_SELECTOR);\n            return da && da.length > 0 ? da[0] : el;\n        };\n\n        var ghost = params.ghost === true;\n        var constrain = ghost || (params.constrain === true);\n        var revert = params.revert !== false;\n        var orphan = params.orphan === true;\n        var prune = params.prune === true;\n        var dropOverride = params.dropOverride === true;\n        var proxied = params.proxied !== false;\n        var elements = [];\n        this.connections = { source:[], target:[], internal:[] };\n\n        // this function, and getEndpoint below, are stubs for a future setup in which we can choose endpoint\n        // and anchor based upon the connection and the index (source/target) of the endpoint to be proxied.\n        this.getAnchor = function(conn, endpointIndex) {\n            return params.anchor || \"Continuous\";\n        };\n\n        this.getEndpoint = function(conn, endpointIndex) {\n            return params.endpoint || [ \"Dot\", { radius:10 }];\n        };\n\n        this.collapsed = false;\n        if (params.draggable !== false) {\n            var opts = {\n                stop:function(params) {\n                    _jsPlumb.fire(\"groupDragStop\", jsPlumb.extend(params, {group:self}));\n                },\n                scope:GROUP_DRAG_SCOPE\n            };\n            if (params.dragOptions) {\n                root.jsPlumb.extend(opts, params.dragOptions);\n            }\n            _jsPlumb.draggable(params.el, opts);\n        }\n        if (params.droppable !== false) {\n            _jsPlumb.droppable(params.el, {\n                drop:function(p) {\n                    var el = p.drag.el;\n                    if (el._isJsPlumbGroup) return;\n                    var currentGroup = el._jsPlumbGroup;\n                    if (currentGroup !== self) {\n                        if (currentGroup != null) {\n                            if (currentGroup.overrideDrop(el, self)) {\n                                return;\n                            }\n                        }\n                        _jsPlumb.getGroupManager().addToGroup(self, el, false);\n                    }\n\n                }\n            });\n        }\n        var _each = function(_el, fn) {\n            var els = _el.nodeType == null ?  _el : [ _el ];\n            for (var i = 0; i < els.length; i++) {\n                fn(els[i]);\n            }\n        };\n\n        this.overrideDrop = function(_el, targetGroup) {\n            return dropOverride && (revert || prune || orphan);\n        };\n\n        this.add = function(_el, doNotFireEvent) {\n            var dragArea = getDragArea();\n            _each(_el, function(__el) {\n\n                if (__el._jsPlumbGroup != null) {\n                    if (__el._jsPlumbGroup === self) {\n                        return;\n                    } else {\n                        __el._jsPlumbGroup.remove(__el, true, doNotFireEvent, false);\n                    }\n                }\n\n                __el._jsPlumbGroup = self;\n                elements.push(__el);\n                // test if draggable and add handlers if so.\n                if (_jsPlumb.isAlreadyDraggable(__el)) {\n                    _bindDragHandlers(__el);\n                }\n\n                if (__el.parentNode != dragArea) {\n                    dragArea.appendChild(__el);\n                }\n\n                if (!doNotFireEvent) {\n                    _jsPlumb.fire(EVT_CHILD_ADDED, {group: self, el: __el});\n                }\n            });\n\n            _jsPlumb.getGroupManager().updateConnectionsForGroup(self);\n        };\n\n        this.remove = function(el, manipulateDOM, doNotFireEvent, doNotUpdateConnections) {\n\n            _each(el, function(__el) {\n                delete __el._jsPlumbGroup;\n                _ju.removeWithFunction(elements, function(e) {\n                    return e === __el;\n                });\n\n                if (manipulateDOM) {\n                    try { self.getDragArea().removeChild(__el); }\n                    catch (e) {\n                        jsPlumbUtil.log(\"Could not remove element from Group \" + e);\n                    }\n                }\n                _unbindDragHandlers(__el);\n                if (!doNotFireEvent) {\n                    _jsPlumb.fire(EVT_CHILD_REMOVED, {group: self, el: __el});\n                }\n            });\n            if (!doNotUpdateConnections) {\n                _jsPlumb.getGroupManager().updateConnectionsForGroup(self);\n            }\n        };\n        this.removeAll = function(manipulateDOM, doNotFireEvent) {\n            for (var i = 0, l = elements.length; i < l; i++) {\n                self.remove(elements[0], manipulateDOM, doNotFireEvent, true);\n            }\n            elements.length = 0;\n            _jsPlumb.getGroupManager().updateConnectionsForGroup(self);\n        };\n        this.orphanAll = function() {\n            for (var i = 0; i < elements.length; i++) {\n                _orphan(elements[i]);\n            }\n            elements.length = 0;\n        };\n        this.getMembers = function() { return elements; };\n\n        el[GROUP] = this;\n\n        _jsPlumb.bind(ELEMENT_DRAGGABLE_EVENT, function(dragParams) {\n            // if its for the current group,\n            if (dragParams.el._jsPlumbGroup == this) {\n                _bindDragHandlers(dragParams.el);\n            }\n        }.bind(this));\n\n        function _findParent(_el) {\n            return _el.offsetParent;\n        }\n\n        function _isInsideParent(_el, pos) {\n            var p = _findParent(_el),\n                s = _jsPlumb.getSize(p),\n                ss = _jsPlumb.getSize(_el),\n                leftEdge = pos[0],\n                rightEdge = leftEdge + ss[0],\n                topEdge = pos[1],\n                bottomEdge = topEdge + ss[1];\n\n            return rightEdge > 0 && leftEdge < s[0] && bottomEdge > 0 && topEdge < s[1];\n        }\n\n        //\n        // orphaning an element means taking it out of the group and adding it to the main jsplumb container.\n        //\n        function _orphan(_el) {\n            var id = _jsPlumb.getId(_el);\n            var pos = _jsPlumb.getOffset(_el);\n            _el.parentNode.removeChild(_el);\n            _jsPlumb.getContainer().appendChild(_el);\n            _jsPlumb.setPosition(_el, pos);\n            delete _el._jsPlumbGroup;\n            _unbindDragHandlers(_el);\n            _jsPlumb.dragManager.clearParent(_el, id);\n        }\n\n        //\n        // remove an element from the group, then either prune it from the jsplumb instance, or just orphan it.\n        //\n        function _pruneOrOrphan(p) {\n            if (!_isInsideParent(p.el, p.pos)) {\n                p.el._jsPlumbGroup.remove(p.el);\n                if (prune) {\n                    _jsPlumb.remove(p.el);\n                } else {\n                    _orphan(p.el);\n                }\n            }\n        }\n\n        //\n        // redraws the element\n        //\n        function _revalidate(_el) {\n            var id = _jsPlumb.getId(_el);\n            _jsPlumb.revalidate(_el);\n            _jsPlumb.dragManager.revalidateParent(_el, id);\n        }\n\n        //\n        // unbind the group specific drag/revert handlers.\n        //\n        function _unbindDragHandlers(_el) {\n            if (!_el._katavorioDrag) return;\n            if (prune || orphan) {\n                _el._katavorioDrag.off(STOP, _pruneOrOrphan);\n            }\n            if (!prune && !orphan && revert) {\n                _el._katavorioDrag.off(REVERT, _revalidate);\n                _el._katavorioDrag.setRevert(null);\n            }\n        }\n\n        function _bindDragHandlers(_el) {\n            if (!_el._katavorioDrag) return;\n            if (prune || orphan) {\n                _el._katavorioDrag.on(STOP, _pruneOrOrphan);\n            }\n\n            if (constrain) {\n                _el._katavorioDrag.setConstrain(true);\n            }\n\n            if (ghost) {\n                _el._katavorioDrag.setUseGhostProxy(true);\n            }\n\n            if (!prune && !orphan && revert) {\n                _el._katavorioDrag.on(REVERT, _revalidate);\n                _el._katavorioDrag.setRevert(function(__el, pos) {\n                    return !_isInsideParent(__el, pos);\n                });\n            }\n        }\n\n        this.shouldProxy = function() {\n            return proxied;\n        };\n\n        _jsPlumb.getGroupManager().addGroup(this);\n    };\n\n    /**\n     * Adds a group to the jsPlumb instance.\n     * @method addGroup\n     * @param {Object} params\n     * @return {Group} The newly created Group.\n     */\n    _jpi.prototype.addGroup = function(params) {\n        var j = this;\n        j._groups = j._groups || {};\n        if (j._groups[params.id] != null) {\n            throw new TypeError(\"cannot create Group [\" + params.id + \"]; a Group with that ID exists\");\n        }\n        if (params.el[GROUP] != null) {\n            throw new TypeError(\"cannot create Group [\" + params.id + \"]; the given element is already a Group\");\n        }\n        var group = new Group(j, params);\n        j._groups[group.id] = group;\n        return group;\n    };\n\n    /**\n     * Add an element to a group.\n     * @method addToGroup\n     * @param {String} group Group, or ID of the group, to add the element to.\n     * @param {Element} el Element to add to the group.\n     */\n    _jpi.prototype.addToGroup = function(group, el, doNotFireEvent) {\n\n        var _one = function(_el) {\n            var id = this.getId(_el);\n            this.manage(id, _el);\n            this.getGroupManager().addToGroup(group, _el, doNotFireEvent);\n        }.bind(this);\n\n        if (Array.isArray(el)) {\n            for (var i = 0; i < el.length; i++) {\n                _one(el[i]);\n            }\n        } else {\n            _one(el);\n        }\n    };\n\n    /**\n     * Remove an element from a group.\n     * @method removeFromGroup\n     * @param {String} group Group, or ID of the group, to remove the element from.\n     * @param {Element} el Element to add to the group.\n     */\n    _jpi.prototype.removeFromGroup = function(group, el, doNotFireEvent) {\n        this.getGroupManager().removeFromGroup(group, el, doNotFireEvent);\n    };\n\n    /**\n     * Remove a group, and optionally remove its members from the jsPlumb instance.\n     * @method removeGroup\n     * @param {String|Group} group Group to delete, or ID of Group to delete.\n     * @param {Boolean} [deleteMembers=false] If true, group members will be removed along with the group. Otherwise they will\n     * just be 'orphaned' (returned to the main container).\n     */\n    _jpi.prototype.removeGroup = function(group, deleteMembers, manipulateDOM, doNotFireEvent) {\n        this.getGroupManager().removeGroup(group, deleteMembers, manipulateDOM, doNotFireEvent);\n    };\n\n    /**\n     * Remove all groups, and optionally remove their members from the jsPlumb instance.\n     * @method removeAllGroup\n     * @param {Boolean} [deleteMembers=false] If true, group members will be removed along with the groups. Otherwise they will\n     * just be 'orphaned' (returned to the main container).\n     */\n    _jpi.prototype.removeAllGroups = function(deleteMembers, manipulateDOM, doNotFireEvent) {\n        this.getGroupManager().removeAllGroups(deleteMembers, manipulateDOM, doNotFireEvent);\n    };\n\n    /**\n     * Get a Group\n     * @method getGroup\n     * @param {String} groupId ID of the group to get\n     * @return {Group} Group with the given ID, null if not found.\n     */\n    _jpi.prototype.getGroup = function(groupId) {\n        return this.getGroupManager().getGroup(groupId);\n    };\n\n    /**\n     * Gets all the Groups managed by the jsPlumb instance.\n     * @returns {Group[]} List of Groups. Empty if none.\n     */\n    _jpi.prototype.getGroups = function() {\n        return this.getGroupManager().getGroups();\n    };\n\n    /**\n     * Expands a group element. jsPlumb doesn't do \"everything\" for you here, because what it means to expand a Group\n     * will vary from application to application. jsPlumb does these things:\n     *\n     * - Hides any connections that are internal to the group (connections between members, and connections from member of\n     * the group to the group itself)\n     * - Proxies all connections for which the source or target is a member of the group.\n     * - Hides the proxied connections.\n     * - Adds the jtk-group-expanded class to the group's element\n     * - Removes the jtk-group-collapsed class from the group's element.\n     *\n     * @method expandGroup\n     * @param {String|Group} group Group to expand, or ID of Group to expand.\n     */\n    _jpi.prototype.expandGroup = function(group) {\n        this.getGroupManager().expandGroup(group);\n    };\n\n    /**\n     * Collapses a group element. jsPlumb doesn't do \"everything\" for you here, because what it means to collapse a Group\n     * will vary from application to application. jsPlumb does these things:\n     *\n     * - Shows any connections that are internal to the group (connections between members, and connections from member of\n     * the group to the group itself)\n     * - Removes proxies for all connections for which the source or target is a member of the group.\n     * - Shows the previously proxied connections.\n     * - Adds the jtk-group-collapsed class to the group's element\n     * - Removes the jtk-group-expanded class from the group's element.\n     *\n     * @method expandGroup\n     * @param {String|Group} group Group to expand, or ID of Group to expand.\n     */\n    _jpi.prototype.collapseGroup = function(groupId) {\n        this.getGroupManager().collapseGroup(groupId);\n    };\n\n\n    _jpi.prototype.repaintGroup = function(group) {\n        this.getGroupManager().repaintGroup(group);\n    };\n\n    /**\n     * Collapses or expands a group element depending on its current state. See notes in the collapseGroup and expandGroup method.\n     *\n     * @method toggleGroup\n     * @param {String|Group} group Group to expand/collapse, or ID of Group to expand/collapse.\n     */\n    _jpi.prototype.toggleGroup = function(group) {\n        group = this.getGroupManager().getGroup(group);\n        if (group != null) {\n            this.getGroupManager()[group.collapsed ? \"expandGroup\" : \"collapseGroup\"](group);\n        }\n    };\n\n    //\n    // lazy init a group manager for the given jsplumb instance.\n    //\n    _jpi.prototype.getGroupManager = function() {\n        var mgr = this[GROUP_MANAGER];\n        if (mgr == null) {\n            mgr = this[GROUP_MANAGER] = new GroupManager(this);\n        }\n        return mgr;\n    };\n\n    _jpi.prototype.removeGroupManager = function() {\n        delete this[GROUP_MANAGER];\n    };\n\n    /**\n     * Gets the Group that the given element belongs to, null if none.\n     * @method getGroupFor\n     * @param {String|Element} el Element, or element ID.\n     * @returns {Group} A Group, if found, or null.\n     */\n    _jpi.prototype.getGroupFor = function(el) {\n        el = this.getElement(el);\n        if (el) {\n            return el[GROUP];\n        }\n    };\n\n}).call(typeof window !== 'undefined' ? window : this);\n\n\n/*\n * jsPlumb\n * \n * Title:jsPlumb 2.3.0\n * \n * Provides a way to visually connect elements on an HTML page, using SVG.\n * \n * This file contains the 'flowchart' connectors, consisting of vertical and horizontal line segments.\n *\n * Copyright (c) 2010 - 2017 jsPlumb (hello@jsplumbtoolkit.com)\n * \n * http://jsplumbtoolkit.com\n * http://github.com/sporritt/jsplumb\n * \n * Dual licensed under the MIT and GPL2 licenses.\n */\n;\n(function () {\n\n    \"use strict\";\n    var root = this, _jp = root.jsPlumb, _ju = root.jsPlumbUtil;\n\n    var Flowchart = function (params) {\n        this.type = \"Flowchart\";\n        params = params || {};\n        params.stub = params.stub == null ? 30 : params.stub;\n        var segments,\n            _super = _jp.Connectors.AbstractConnector.apply(this, arguments),\n            midpoint = params.midpoint == null ? 0.5 : params.midpoint,\n            alwaysRespectStubs = params.alwaysRespectStubs === true,\n            lastx = null, lasty = null, lastOrientation,\n            cornerRadius = params.cornerRadius != null ? params.cornerRadius : 0,\n\n            // TODO now common between this and AbstractBezierEditor; refactor into superclass?\n            loopbackRadius = params.loopbackRadius || 25,\n            isLoopbackCurrently = false,\n\n            sgn = function (n) {\n                return n < 0 ? -1 : n === 0 ? 0 : 1;\n            },\n            /**\n             * helper method to add a segment.\n             */\n            addSegment = function (segments, x, y, paintInfo) {\n                if (lastx == x && lasty == y) return;\n                var lx = lastx == null ? paintInfo.sx : lastx,\n                    ly = lasty == null ? paintInfo.sy : lasty,\n                    o = lx == x ? \"v\" : \"h\",\n                    sgnx = sgn(x - lx),\n                    sgny = sgn(y - ly);\n\n                lastx = x;\n                lasty = y;\n                segments.push([lx, ly, x, y, o, sgnx, sgny]);\n            },\n            segLength = function (s) {\n                return Math.sqrt(Math.pow(s[0] - s[2], 2) + Math.pow(s[1] - s[3], 2));\n            },\n            _cloneArray = function (a) {\n                var _a = [];\n                _a.push.apply(_a, a);\n                return _a;\n            },\n            writeSegments = function (conn, segments, paintInfo) {\n                var current = null, next;\n                for (var i = 0; i < segments.length - 1; i++) {\n\n                    current = current || _cloneArray(segments[i]);\n                    next = _cloneArray(segments[i + 1]);\n                    if (cornerRadius > 0 && current[4] != next[4]) {\n                        var radiusToUse = Math.min(cornerRadius, segLength(current), segLength(next));\n                        // right angle. adjust current segment's end point, and next segment's start point.\n                        current[2] -= current[5] * radiusToUse;\n                        current[3] -= current[6] * radiusToUse;\n                        next[0] += next[5] * radiusToUse;\n                        next[1] += next[6] * radiusToUse;\n                        var ac = (current[6] == next[5] && next[5] == 1) ||\n                                ((current[6] == next[5] && next[5] === 0) && current[5] != next[6]) ||\n                                (current[6] == next[5] && next[5] == -1),\n                            sgny = next[1] > current[3] ? 1 : -1,\n                            sgnx = next[0] > current[2] ? 1 : -1,\n                            sgnEqual = sgny == sgnx,\n                            cx = (sgnEqual && ac || (!sgnEqual && !ac)) ? next[0] : current[2],\n                            cy = (sgnEqual && ac || (!sgnEqual && !ac)) ? current[3] : next[1];\n\n                        _super.addSegment(conn, \"Straight\", {\n                            x1: current[0], y1: current[1], x2: current[2], y2: current[3]\n                        });\n\n                        _super.addSegment(conn, \"Arc\", {\n                            r: radiusToUse,\n                            x1: current[2],\n                            y1: current[3],\n                            x2: next[0],\n                            y2: next[1],\n                            cx: cx,\n                            cy: cy,\n                            ac: ac\n                        });\n                    }\n                    else {\n                        // dx + dy are used to adjust for line width.\n                        var dx = (current[2] == current[0]) ? 0 : (current[2] > current[0]) ? (paintInfo.lw / 2) : -(paintInfo.lw / 2),\n                            dy = (current[3] == current[1]) ? 0 : (current[3] > current[1]) ? (paintInfo.lw / 2) : -(paintInfo.lw / 2);\n                        _super.addSegment(conn, \"Straight\", {\n                            x1: current[0] - dx, y1: current[1] - dy, x2: current[2] + dx, y2: current[3] + dy\n                        });\n                    }\n                    current = next;\n                }\n                if (next != null) {\n                    // last segment\n                    _super.addSegment(conn, \"Straight\", {\n                        x1: next[0], y1: next[1], x2: next[2], y2: next[3]\n                    });\n                }\n            };\n\n        this._compute = function (paintInfo, params) {\n\n            segments = [];\n            lastx = null;\n            lasty = null;\n            lastOrientation = null;\n\n            var commonStubCalculator = function () {\n                return [ paintInfo.startStubX, paintInfo.startStubY, paintInfo.endStubX, paintInfo.endStubY ];\n            },\n                stubCalculators = {\n                    perpendicular: commonStubCalculator,\n                    orthogonal: commonStubCalculator,\n                    opposite: function (axis) {\n                        var pi = paintInfo,\n                            idx = axis == \"x\" ? 0 : 1,\n                            areInProximity = {\n                                \"x\": function () {\n                                    return ( (pi.so[idx] == 1 && (\n                                        ( (pi.startStubX > pi.endStubX) && (pi.tx > pi.startStubX) ) ||\n                                        ( (pi.sx > pi.endStubX) && (pi.tx > pi.sx))))) ||\n\n                                        ( (pi.so[idx] == -1 && (\n                                            ( (pi.startStubX < pi.endStubX) && (pi.tx < pi.startStubX) ) ||\n                                            ( (pi.sx < pi.endStubX) && (pi.tx < pi.sx)))));\n                                },\n                                \"y\": function () {\n                                    return ( (pi.so[idx] == 1 && (\n                                        ( (pi.startStubY > pi.endStubY) && (pi.ty > pi.startStubY) ) ||\n                                        ( (pi.sy > pi.endStubY) && (pi.ty > pi.sy))))) ||\n\n                                        ( (pi.so[idx] == -1 && (\n                                            ( (pi.startStubY < pi.endStubY) && (pi.ty < pi.startStubY) ) ||\n                                            ( (pi.sy < pi.endStubY) && (pi.ty < pi.sy)))));\n                                }\n                            };\n\n                        if (!alwaysRespectStubs && areInProximity[axis]()) {\n                            return {\n                                \"x\": [(paintInfo.sx + paintInfo.tx) / 2, paintInfo.startStubY, (paintInfo.sx + paintInfo.tx) / 2, paintInfo.endStubY],\n                                \"y\": [paintInfo.startStubX, (paintInfo.sy + paintInfo.ty) / 2, paintInfo.endStubX, (paintInfo.sy + paintInfo.ty) / 2]\n                            }[axis];\n                        }\n                        else {\n                            return [ paintInfo.startStubX, paintInfo.startStubY, paintInfo.endStubX, paintInfo.endStubY ];\n                        }\n                    }\n                };\n\n            // calculate Stubs.\n            var stubs = stubCalculators[paintInfo.anchorOrientation](paintInfo.sourceAxis),\n                idx = paintInfo.sourceAxis == \"x\" ? 0 : 1,\n                oidx = paintInfo.sourceAxis == \"x\" ? 1 : 0,\n                ss = stubs[idx],\n                oss = stubs[oidx],\n                es = stubs[idx + 2],\n                oes = stubs[oidx + 2];\n\n            // add the start stub segment. use stubs for loopback as it will look better, with the loop spaced\n            // away from the element.\n            addSegment(segments, stubs[0], stubs[1], paintInfo);\n\n            // if its a loopback and we should treat it differently.\n            if (false &&params.sourcePos[0] == params.targetPos[0] && params.sourcePos[1] == params.targetPos[1]) {\n\n                // we use loopbackRadius here, as statemachine connectors do.\n                // so we go radius to the left from stubs[0], then upwards by 2*radius, to the right by 2*radius,\n                // down by 2*radius, left by radius.\n                addSegment(segments, stubs[0] - loopbackRadius, stubs[1], paintInfo);\n                addSegment(segments, stubs[0] - loopbackRadius, stubs[1] - (2 * loopbackRadius), paintInfo);\n                addSegment(segments, stubs[0] + loopbackRadius, stubs[1] - (2 * loopbackRadius), paintInfo);\n                addSegment(segments, stubs[0] + loopbackRadius, stubs[1], paintInfo);\n                addSegment(segments, stubs[0], stubs[1], paintInfo);\n\n            }\n            else {\n\n\n                var midx = paintInfo.startStubX + ((paintInfo.endStubX - paintInfo.startStubX) * midpoint),\n                    midy = paintInfo.startStubY + ((paintInfo.endStubY - paintInfo.startStubY) * midpoint);\n\n                var orientations = { x: [ 0, 1 ], y: [ 1, 0 ] },\n                    lineCalculators = {\n                        perpendicular: function (axis) {\n                            var pi = paintInfo,\n                                sis = {\n                                    x: [\n                                        [ [ 1, 2, 3, 4 ], null, [ 2, 1, 4, 3 ] ],\n                                        null,\n                                        [ [ 4, 3, 2, 1 ], null, [ 3, 4, 1, 2 ] ]\n                                    ],\n                                    y: [\n                                        [ [ 3, 2, 1, 4 ], null, [ 2, 3, 4, 1 ] ],\n                                        null,\n                                        [ [ 4, 1, 2, 3 ], null, [ 1, 4, 3, 2 ] ]\n                                    ]\n                                },\n                                stubs = {\n                                    x: [ [ pi.startStubX, pi.endStubX ], null, [ pi.endStubX, pi.startStubX ] ],\n                                    y: [ [ pi.startStubY, pi.endStubY ], null, [ pi.endStubY, pi.startStubY ] ]\n                                },\n                                midLines = {\n                                    x: [ [ midx, pi.startStubY ], [ midx, pi.endStubY ] ],\n                                    y: [ [ pi.startStubX, midy ], [ pi.endStubX, midy ] ]\n                                },\n                                linesToEnd = {\n                                    x: [ [ pi.endStubX, pi.startStubY ] ],\n                                    y: [ [ pi.startStubX, pi.endStubY ] ]\n                                },\n                                startToEnd = {\n                                    x: [ [ pi.startStubX, pi.endStubY ], [ pi.endStubX, pi.endStubY ] ],\n                                    y: [ [ pi.endStubX, pi.startStubY ], [ pi.endStubX, pi.endStubY ] ]\n                                },\n                                startToMidToEnd = {\n                                    x: [ [ pi.startStubX, midy ], [ pi.endStubX, midy ], [ pi.endStubX, pi.endStubY ] ],\n                                    y: [ [ midx, pi.startStubY ], [ midx, pi.endStubY ], [ pi.endStubX, pi.endStubY ] ]\n                                },\n                                otherStubs = {\n                                    x: [ pi.startStubY, pi.endStubY ],\n                                    y: [ pi.startStubX, pi.endStubX ]\n                                },\n                                soIdx = orientations[axis][0], toIdx = orientations[axis][1],\n                                _so = pi.so[soIdx] + 1,\n                                _to = pi.to[toIdx] + 1,\n                                otherFlipped = (pi.to[toIdx] == -1 && (otherStubs[axis][1] < otherStubs[axis][0])) || (pi.to[toIdx] == 1 && (otherStubs[axis][1] > otherStubs[axis][0])),\n                                stub1 = stubs[axis][_so][0],\n                                stub2 = stubs[axis][_so][1],\n                                segmentIndexes = sis[axis][_so][_to];\n\n                            if (pi.segment == segmentIndexes[3] || (pi.segment == segmentIndexes[2] && otherFlipped)) {\n                                return midLines[axis];\n                            }\n                            else if (pi.segment == segmentIndexes[2] && stub2 < stub1) {\n                                return linesToEnd[axis];\n                            }\n                            else if ((pi.segment == segmentIndexes[2] && stub2 >= stub1) || (pi.segment == segmentIndexes[1] && !otherFlipped)) {\n                                return startToMidToEnd[axis];\n                            }\n                            else if (pi.segment == segmentIndexes[0] || (pi.segment == segmentIndexes[1] && otherFlipped)) {\n                                return startToEnd[axis];\n                            }\n                        },\n                        orthogonal: function (axis, startStub, otherStartStub, endStub, otherEndStub) {\n                            var pi = paintInfo,\n                                extent = {\n                                    \"x\": pi.so[0] == -1 ? Math.min(startStub, endStub) : Math.max(startStub, endStub),\n                                    \"y\": pi.so[1] == -1 ? Math.min(startStub, endStub) : Math.max(startStub, endStub)\n                                }[axis];\n\n                            return {\n                                \"x\": [\n                                    [ extent, otherStartStub ],\n                                    [ extent, otherEndStub ],\n                                    [ endStub, otherEndStub ]\n                                ],\n                                \"y\": [\n                                    [ otherStartStub, extent ],\n                                    [ otherEndStub, extent ],\n                                    [ otherEndStub, endStub ]\n                                ]\n                            }[axis];\n                        },\n                        opposite: function (axis, ss, oss, es) {\n                            var pi = paintInfo,\n                                otherAxis = {\"x\": \"y\", \"y\": \"x\"}[axis],\n                                dim = {\"x\": \"height\", \"y\": \"width\"}[axis],\n                                comparator = pi[\"is\" + axis.toUpperCase() + \"GreaterThanStubTimes2\"];\n\n                            if (params.sourceEndpoint.elementId == params.targetEndpoint.elementId) {\n                                var _val = oss + ((1 - params.sourceEndpoint.anchor[otherAxis]) * params.sourceInfo[dim]) + _super.maxStub;\n                                return {\n                                    \"x\": [\n                                        [ ss, _val ],\n                                        [ es, _val ]\n                                    ],\n                                    \"y\": [\n                                        [ _val, ss ],\n                                        [ _val, es ]\n                                    ]\n                                }[axis];\n\n                            }\n                            else if (!comparator || (pi.so[idx] == 1 && ss > es) || (pi.so[idx] == -1 && ss < es)) {\n                                return {\n                                    \"x\": [\n                                        [ ss, midy ],\n                                        [ es, midy ]\n                                    ],\n                                    \"y\": [\n                                        [ midx, ss ],\n                                        [ midx, es ]\n                                    ]\n                                }[axis];\n                            }\n                            else if ((pi.so[idx] == 1 && ss < es) || (pi.so[idx] == -1 && ss > es)) {\n                                return {\n                                    \"x\": [\n                                        [ midx, pi.sy ],\n                                        [ midx, pi.ty ]\n                                    ],\n                                    \"y\": [\n                                        [ pi.sx, midy ],\n                                        [ pi.tx, midy ]\n                                    ]\n                                }[axis];\n                            }\n                        }\n                    };\n\n                // compute the rest of the line\n                var p = lineCalculators[paintInfo.anchorOrientation](paintInfo.sourceAxis, ss, oss, es, oes);\n                if (p) {\n                    for (var i = 0; i < p.length; i++) {\n                        addSegment(segments, p[i][0], p[i][1], paintInfo);\n                    }\n                }\n\n                // line to end stub\n                addSegment(segments, stubs[2], stubs[3], paintInfo);\n\n            }\n\n            // end stub to end (common)\n            addSegment(segments, paintInfo.tx, paintInfo.ty, paintInfo);\n\n            // write out the segments.\n            writeSegments(this, segments, paintInfo);\n        };\n\n        /*this.getPath = function () {\n            var _last = null, _lastAxis = null, s = [], segs = segments;\n            for (var i = 0; i < segs.length; i++) {\n                var seg = segs[i], axis = seg[4], axisIndex = (axis == \"v\" ? 3 : 2);\n                if (_last != null && _lastAxis === axis) {\n                    _last[axisIndex] = seg[axisIndex];\n                }\n                else {\n                    if (seg[0] != seg[2] || seg[1] != seg[3]) {\n                        s.push({\n                            start: [ seg[0], seg[1] ],\n                            end: [ seg[2], seg[3] ]\n                        });\n                        _last = seg;\n                        _lastAxis = seg[4];\n                    }\n                }\n            }\n            return s;\n        };*/\n    };\n\n    _ju.extend(Flowchart, _jp.Connectors.AbstractConnector);\n    _jp.registerConnectorType(Flowchart, \"Flowchart\");\n}).call(typeof window !== 'undefined' ? window : this);\n/*\n * jsPlumb\n *\n * Title:jsPlumb 2.3.0\n *\n * Provides a way to visually connect elements on an HTML page, using SVG.\n *\n * This file contains the code for the Bezier connector type.\n *\n * Copyright (c) 2010 - 2017 jsPlumb (hello@jsplumbtoolkit.com)\n *\n * http://jsplumbtoolkit.com\n * http://github.com/sporritt/jsplumb\n * \n * Dual licensed under the MIT and GPL2 licenses.\n */\n;\n(function () {\n\n    \"use strict\";\n    var root = this, _jp = root.jsPlumb, _ju = root.jsPlumbUtil;\n\n    _jp.Connectors.AbstractBezierConnector = function(params) {\n        params = params || {};\n        var showLoopback = params.showLoopback !== false,\n            curviness = params.curviness || 10,\n            margin = params.margin || 5,\n            proximityLimit = params.proximityLimit || 80,\n            clockwise = params.orientation && params.orientation === \"clockwise\",\n            loopbackRadius = params.loopbackRadius || 25,\n            isLoopbackCurrently = false,\n            _super;\n\n        this.overrideSetEditable = function() { return !isLoopbackCurrently; };\n\n        this._compute = function (paintInfo, p) {\n\n            var sp = p.sourcePos,\n                tp = p.targetPos,\n                _w = Math.abs(sp[0] - tp[0]),\n                _h = Math.abs(sp[1] - tp[1]);\n\n            if (!showLoopback || (p.sourceEndpoint.elementId !== p.targetEndpoint.elementId)) {\n                isLoopbackCurrently = false;\n                this._computeBezier(paintInfo, p, sp, tp, _w, _h);\n            } else {\n                isLoopbackCurrently = true;\n                // a loopback connector.  draw an arc from one anchor to the other.\n                var x1 = p.sourcePos[0], y1 = p.sourcePos[1] - margin,\n                    cx = x1, cy = y1 - loopbackRadius,\n                // canvas sizing stuff, to ensure the whole painted area is visible.\n                    _x = cx - loopbackRadius,\n                    _y = cy - loopbackRadius;\n\n                _w = 2 * loopbackRadius;\n                _h = 2 * loopbackRadius;\n\n                paintInfo.points[0] = _x;\n                paintInfo.points[1] = _y;\n                paintInfo.points[2] = _w;\n                paintInfo.points[3] = _h;\n\n                // ADD AN ARC SEGMENT.\n                _super.addSegment(this, \"Arc\", {\n                    loopback: true,\n                    x1: (x1 - _x) + 4,\n                    y1: y1 - _y,\n                    startAngle: 0,\n                    endAngle: 2 * Math.PI,\n                    r: loopbackRadius,\n                    ac: !clockwise,\n                    x2: (x1 - _x) - 4,\n                    y2: y1 - _y,\n                    cx: cx - _x,\n                    cy: cy - _y\n                });\n            }\n        };\n\n        _super = _jp.Connectors.AbstractConnector.apply(this, arguments);\n        return _super;\n    };\n    _ju.extend(_jp.Connectors.AbstractBezierConnector, _jp.Connectors.AbstractConnector);\n\n    var Bezier = function (params) {\n        params = params || {};\n        this.type = \"Bezier\";\n\n        var _super = _jp.Connectors.AbstractBezierConnector.apply(this, arguments),\n            majorAnchor = params.curviness || 150,\n            minorAnchor = 10;\n\n        this.getCurviness = function () {\n            return majorAnchor;\n        };\n\n        this._findControlPoint = function (point, sourceAnchorPosition, targetAnchorPosition, sourceEndpoint, targetEndpoint, soo, too) {\n            // determine if the two anchors are perpendicular to each other in their orientation.  we swap the control\n            // points around if so (code could be tightened up)\n            var perpendicular = soo[0] != too[0] || soo[1] == too[1],\n                p = [];\n\n            if (!perpendicular) {\n                if (soo[0] === 0) // X\n                    p.push(sourceAnchorPosition[0] < targetAnchorPosition[0] ? point[0] + minorAnchor : point[0] - minorAnchor);\n                else p.push(point[0] - (majorAnchor * soo[0]));\n\n                if (soo[1] === 0) // Y\n                    p.push(sourceAnchorPosition[1] < targetAnchorPosition[1] ? point[1] + minorAnchor : point[1] - minorAnchor);\n                else p.push(point[1] + (majorAnchor * too[1]));\n            }\n            else {\n                if (too[0] === 0) // X\n                    p.push(targetAnchorPosition[0] < sourceAnchorPosition[0] ? point[0] + minorAnchor : point[0] - minorAnchor);\n                else p.push(point[0] + (majorAnchor * too[0]));\n\n                if (too[1] === 0) // Y\n                    p.push(targetAnchorPosition[1] < sourceAnchorPosition[1] ? point[1] + minorAnchor : point[1] - minorAnchor);\n                else p.push(point[1] + (majorAnchor * soo[1]));\n            }\n\n            return p;\n        };\n\n        this._computeBezier = function (paintInfo, p, sp, tp, _w, _h) {\n\n            var geometry = this.getGeometry(), _CP, _CP2,\n                _sx = sp[0] < tp[0] ? _w : 0,\n                _sy = sp[1] < tp[1] ? _h : 0,\n                _tx = sp[0] < tp[0] ? 0 : _w,\n                _ty = sp[1] < tp[1] ? 0 : _h;\n\n            if ((this.hasBeenEdited() || this.isEditing()) && geometry != null && geometry.controlPoints != null && geometry.controlPoints[0] != null && geometry.controlPoints[1] != null) {\n                _CP = geometry.controlPoints[0];\n                _CP2 = geometry.controlPoints[1];\n            }\n            else {\n                _CP = this._findControlPoint([_sx, _sy], sp, tp, p.sourceEndpoint, p.targetEndpoint, paintInfo.so, paintInfo.to);\n                _CP2 = this._findControlPoint([_tx, _ty], tp, sp, p.targetEndpoint, p.sourceEndpoint, paintInfo.to, paintInfo.so);\n            }\n\n            _super.setGeometry({controlPoints:[_CP, _CP2]}, true);\n\n            _super.addSegment(this, \"Bezier\", {\n                x1: _sx, y1: _sy, x2: _tx, y2: _ty,\n                cp1x: _CP[0], cp1y: _CP[1], cp2x: _CP2[0], cp2y: _CP2[1]\n            });\n        };\n\n\n    };\n\n    _ju.extend(Bezier, _jp.Connectors.AbstractBezierConnector);\n    _jp.registerConnectorType(Bezier, \"Bezier\");\n\n}).call(typeof window !== 'undefined' ? window : this);\n/*\n * jsPlumb\n *\n * Title:jsPlumb 2.3.0\n *\n * Provides a way to visually connect elements on an HTML page, using SVG.\n *\n * This file contains the state machine connectors, which extend AbstractBezierConnector.\n *\n * Copyright (c) 2010 - 2017 jsPlumb (hello@jsplumbtoolkit.com)\n *\n * http://jsplumbtoolkit.com\n * http://github.com/sporritt/jsplumb\n * \n * Dual licensed under the MIT and GPL2 licenses.\n */\n;\n(function () {\n\n    \"use strict\";\n    var root = this, _jp = root.jsPlumb, _ju = root.jsPlumbUtil;\n\n    var _segment = function (x1, y1, x2, y2) {\n            if (x1 <= x2 && y2 <= y1) return 1;\n            else if (x1 <= x2 && y1 <= y2) return 2;\n            else if (x2 <= x1 && y2 >= y1) return 3;\n            return 4;\n        },\n\n    // the control point we will use depends on the faces to which each end of the connection is assigned, specifically whether or not the\n    // two faces are parallel or perpendicular.  if they are parallel then the control point lies on the midpoint of the axis in which they\n    // are parellel and varies only in the other axis; this variation is proportional to the distance that the anchor points lie from the\n    // center of that face.  if the two faces are perpendicular then the control point is at some distance from both the midpoints; the amount and\n    // direction are dependent on the orientation of the two elements. 'seg', passed in to this method, tells you which segment the target element\n    // lies in with respect to the source: 1 is top right, 2 is bottom right, 3 is bottom left, 4 is top left.\n    //\n    // sourcePos and targetPos are arrays of info about where on the source and target each anchor is located.  their contents are:\n    //\n    // 0 - absolute x\n    // 1 - absolute y\n    // 2 - proportional x in element (0 is left edge, 1 is right edge)\n    // 3 - proportional y in element (0 is top edge, 1 is bottom edge)\n    //\n        _findControlPoint = function (midx, midy, segment, sourceEdge, targetEdge, dx, dy, distance, proximityLimit) {\n            // TODO (maybe)\n            // - if anchor pos is 0.5, make the control point take into account the relative position of the elements.\n            if (distance <= proximityLimit) return [midx, midy];\n\n            if (segment === 1) {\n                if (sourceEdge[3] <= 0 && targetEdge[3] >= 1) return [ midx + (sourceEdge[2] < 0.5 ? -1 * dx : dx), midy ];\n                else if (sourceEdge[2] >= 1 && targetEdge[2] <= 0) return [ midx, midy + (sourceEdge[3] < 0.5 ? -1 * dy : dy) ];\n                else return [ midx + (-1 * dx) , midy + (-1 * dy) ];\n            }\n            else if (segment === 2) {\n                if (sourceEdge[3] >= 1 && targetEdge[3] <= 0) return [ midx + (sourceEdge[2] < 0.5 ? -1 * dx : dx), midy ];\n                else if (sourceEdge[2] >= 1 && targetEdge[2] <= 0) return [ midx, midy + (sourceEdge[3] < 0.5 ? -1 * dy : dy) ];\n                else return [ midx + dx, midy + (-1 * dy) ];\n            }\n            else if (segment === 3) {\n                if (sourceEdge[3] >= 1 && targetEdge[3] <= 0) return [ midx + (sourceEdge[2] < 0.5 ? -1 * dx : dx), midy ];\n                else if (sourceEdge[2] <= 0 && targetEdge[2] >= 1) return [ midx, midy + (sourceEdge[3] < 0.5 ? -1 * dy : dy) ];\n                else return [ midx + (-1 * dx) , midy + (-1 * dy) ];\n            }\n            else if (segment === 4) {\n                if (sourceEdge[3] <= 0 && targetEdge[3] >= 1) return [ midx + (sourceEdge[2] < 0.5 ? -1 * dx : dx), midy ];\n                else if (sourceEdge[2] <= 0 && targetEdge[2] >= 1) return [ midx, midy + (sourceEdge[3] < 0.5 ? -1 * dy : dy) ];\n                else return [ midx + dx , midy + (-1 * dy) ];\n            }\n\n        };\n\n    var StateMachine = function (params) {\n        params = params || {};\n        this.type = \"StateMachine\";\n\n        var _super = _jp.Connectors.AbstractBezierConnector.apply(this, arguments),\n            curviness = params.curviness || 10,\n            margin = params.margin || 5,\n            proximityLimit = params.proximityLimit || 80,\n            clockwise = params.orientation && params.orientation === \"clockwise\",\n            _controlPoint;\n\n        this._computeBezier = function(paintInfo, params, sp, tp, w, h) {\n            var _sx = params.sourcePos[0] < params.targetPos[0] ? 0 : w,\n                _sy = params.sourcePos[1] < params.targetPos[1] ? 0 : h,\n                _tx = params.sourcePos[0] < params.targetPos[0] ? w : 0,\n                _ty = params.sourcePos[1] < params.targetPos[1] ? h : 0;\n\n            // now adjust for the margin\n            if (params.sourcePos[2] === 0) _sx -= margin;\n            if (params.sourcePos[2] === 1) _sx += margin;\n            if (params.sourcePos[3] === 0) _sy -= margin;\n            if (params.sourcePos[3] === 1) _sy += margin;\n            if (params.targetPos[2] === 0) _tx -= margin;\n            if (params.targetPos[2] === 1) _tx += margin;\n            if (params.targetPos[3] === 0) _ty -= margin;\n            if (params.targetPos[3] === 1) _ty += margin;\n\n            //\n            // these connectors are quadratic bezier curves, having a single control point. if both anchors\n            // are located at 0.5 on their respective faces, the control point is set to the midpoint and you\n            // get a straight line.  this is also the case if the two anchors are within 'proximityLimit', since\n            // it seems to make good aesthetic sense to do that. outside of that, the control point is positioned\n            // at 'curviness' pixels away along the normal to the straight line connecting the two anchors.\n            //\n            // there may be two improvements to this.  firstly, we might actually support the notion of avoiding nodes\n            // in the UI, or at least making a good effort at doing so.  if a connection would pass underneath some node,\n            // for example, we might increase the distance the control point is away from the midpoint in a bid to\n            // steer it around that node.  this will work within limits, but i think those limits would also be the likely\n            // limits for, once again, aesthetic good sense in the layout of a chart using these connectors.\n            //\n            // the second possible change is actually two possible changes: firstly, it is possible we should gradually\n            // decrease the 'curviness' as the distance between the anchors decreases; start tailing it off to 0 at some\n            // point (which should be configurable).  secondly, we might slightly increase the 'curviness' for connectors\n            // with respect to how far their anchor is from the center of its respective face. this could either look cool,\n            // or stupid, and may indeed work only in a way that is so subtle as to have been a waste of time.\n            //\n\n            var _midx = (_sx + _tx) / 2,\n                _midy = (_sy + _ty) / 2,\n                segment = _segment(_sx, _sy, _tx, _ty),\n                distance = Math.sqrt(Math.pow(_tx - _sx, 2) + Math.pow(_ty - _sy, 2)),\n                cp1x, cp2x, cp1y, cp2y,\n                geometry = _super.getGeometry();\n\n            if ((this.hasBeenEdited() || this.isEditing()) && geometry != null) {\n                cp1x = geometry.controlPoints[0][0];\n                cp1y = geometry.controlPoints[0][1];\n                cp2x = geometry.controlPoints[1][0];\n                cp2y = geometry.controlPoints[1][1];\n            }\n            else {\n                // calculate the control point.  this code will be where we'll put in a rudimentary element avoidance scheme; it\n                // will work by extending the control point to force the curve to be, um, curvier.\n                _controlPoint = _findControlPoint(_midx,\n                    _midy,\n                    segment,\n                    params.sourcePos,\n                    params.targetPos,\n                    curviness, curviness,\n                    distance,\n                    proximityLimit);\n\n                cp1x = _controlPoint[0];\n                cp2x = _controlPoint[0];\n                cp1y = _controlPoint[1];\n                cp2y = _controlPoint[1];\n\n                _super.setGeometry({controlPoints:[_controlPoint, _controlPoint]}, true);\n            }\n\n            _super.addSegment(this, \"Bezier\", {\n                x1: _tx, y1: _ty, x2: _sx, y2: _sy,\n                cp1x: cp1x, cp1y: cp1y,\n                cp2x: cp2x, cp2y: cp2y\n            });\n        };\n    };\n\n    _ju.extend(StateMachine, _jp.Connectors.AbstractBezierConnector);\n    _jp.registerConnectorType(StateMachine, \"StateMachine\");\n\n}).call(typeof window !== 'undefined' ? window : this);\n/*\n * jsPlumb\n *\n * Title:jsPlumb 2.3.0\n *\n * Provides a way to visually connect elements on an HTML page, using SVG.\n *\n * This file contains the 'flowchart' connectors, consisting of vertical and horizontal line segments.\n *\n * Copyright (c) 2010 - 2017 jsPlumb (hello@jsplumbtoolkit.com)\n *\n * http://jsplumbtoolkit.com\n * http://github.com/sporritt/jsplumb\n *\n * Dual licensed under the MIT and GPL2 licenses.\n */\n;\n(function () {\n\n    \"use strict\";\n    var root = this, _jp = root.jsPlumb, _ju = root.jsPlumbUtil;\n    var STRAIGHT = \"Straight\";\n\n    var Straight = function (params) {\n        this.type = STRAIGHT;\n        var _super = _jp.Connectors.AbstractConnector.apply(this, arguments);\n\n        this._compute = function (paintInfo, _) {\n            _super.addSegment(this, STRAIGHT, {x1: paintInfo.sx, y1: paintInfo.sy, x2: paintInfo.startStubX, y2: paintInfo.startStubY});\n            _super.addSegment(this, STRAIGHT, {x1: paintInfo.startStubX, y1: paintInfo.startStubY, x2: paintInfo.endStubX, y2: paintInfo.endStubY});\n            _super.addSegment(this, STRAIGHT, {x1: paintInfo.endStubX, y1: paintInfo.endStubY, x2: paintInfo.tx, y2: paintInfo.ty});\n        };\n    };\n\n    _ju.extend(Straight, _jp.Connectors.AbstractConnector);\n    _jp.registerConnectorType(Straight, STRAIGHT);\n\n}).call(typeof window !== 'undefined' ? window : this);\n/*\n * jsPlumb\n * \n * Title:jsPlumb 2.3.0\n * \n * Provides a way to visually connect elements on an HTML page, using SVG.\n * \n * This file contains the SVG renderers.\n *\n * Copyright (c) 2010 - 2017 jsPlumb (hello@jsplumbtoolkit.com)\n * \n * http://jsplumbtoolkit.com\n * http://github.com/sporritt/jsplumb\n * \n * Dual licensed under the MIT and GPL2 licenses.\n */\n;\n(function () {\n\n// ************************** SVG utility methods ********************************************\t\n\n    \"use strict\";\n    var root = this, _jp = root.jsPlumb, _ju = root.jsPlumbUtil;\n\n    var svgAttributeMap = {\n            \"stroke-linejoin\": \"stroke-linejoin\",\n            \"stroke-dashoffset\": \"stroke-dashoffset\",\n            \"stroke-linecap\": \"stroke-linecap\"\n        },\n        STROKE_DASHARRAY = \"stroke-dasharray\",\n        DASHSTYLE = \"dashstyle\",\n        LINEAR_GRADIENT = \"linearGradient\",\n        RADIAL_GRADIENT = \"radialGradient\",\n        DEFS = \"defs\",\n        FILL = \"fill\",\n        STOP = \"stop\",\n        STROKE = \"stroke\",\n        STROKE_WIDTH = \"stroke-width\",\n        STYLE = \"style\",\n        NONE = \"none\",\n        JSPLUMB_GRADIENT = \"jsplumb_gradient_\",\n        LINE_WIDTH = \"strokeWidth\",\n        ns = {\n            svg: \"http://www.w3.org/2000/svg\",\n            xhtml: \"http://www.w3.org/1999/xhtml\"\n        },\n        _attr = function (node, attributes) {\n            for (var i in attributes)\n                node.setAttribute(i, \"\" + attributes[i]);\n        },\n        _node = function (name, attributes) {\n            attributes = attributes || {};\n            attributes.version = \"1.1\";\n            attributes.xmlns = ns.xhtml;\n            return _jp.createElementNS(ns.svg, name, null, null, attributes);\n        },\n        _pos = function (d) {\n            return \"position:absolute;left:\" + d[0] + \"px;top:\" + d[1] + \"px\";\n        },\n        _clearGradient = function (parent) {\n            var els = parent.querySelectorAll(\" defs,linearGradient,radialGradient\");\n            for (var i = 0; i < els.length; i++)\n                els[i].parentNode.removeChild(els[i]);\n        },\n        _updateGradient = function (parent, node, style, dimensions, uiComponent) {\n            var id = JSPLUMB_GRADIENT + uiComponent._jsPlumb.instance.idstamp();\n            // first clear out any existing gradient\n            _clearGradient(parent);\n            // this checks for an 'offset' property in the gradient, and in the absence of it, assumes\n            // we want a linear gradient. if it's there, we create a radial gradient.\n            // it is possible that a more explicit means of defining the gradient type would be\n            // better. relying on 'offset' means that we can never have a radial gradient that uses\n            // some default offset, for instance.\n            // issue 244 suggested the 'gradientUnits' attribute; without this, straight/flowchart connectors with gradients would\n            // not show gradients when the line was perfectly horizontal or vertical.\n            var g;\n            if (!style.gradient.offset)\n                g = _node(LINEAR_GRADIENT, {id: id, gradientUnits: \"userSpaceOnUse\"});\n            else\n                g = _node(RADIAL_GRADIENT, { id: id });\n\n            var defs = _node(DEFS);\n            parent.appendChild(defs);\n            defs.appendChild(g);\n\n            // the svg radial gradient seems to treat stops in the reverse\n            // order to how canvas does it.  so we want to keep all the maths the same, but\n            // iterate the actual style declarations in reverse order, if the x indexes are not in order.\n            for (var i = 0; i < style.gradient.stops.length; i++) {\n                var styleToUse = uiComponent.segment == 1 || uiComponent.segment == 2 ? i : style.gradient.stops.length - 1 - i,\n                    //stopColor = _ju.convertStyle(style.gradient.stops[styleToUse][1], true),\n                    stopColor = style.gradient.stops[styleToUse][1],\n                    s = _node(STOP, {\"offset\": Math.floor(style.gradient.stops[i][0] * 100) + \"%\", \"stop-color\": stopColor});\n\n                g.appendChild(s);\n            }\n            var applyGradientTo = style.stroke ? STROKE : FILL;\n            node.setAttribute(applyGradientTo, \"url(#\" + id + \")\");\n        },\n        _applyStyles = function (parent, node, style, dimensions, uiComponent) {\n\n            node.setAttribute(FILL, style.fill ? style.fill : NONE);\n            node.setAttribute(STROKE, style.stroke ? style.stroke : NONE);\n\n            if (style.gradient) {\n                _updateGradient(parent, node, style, dimensions, uiComponent);\n            }\n            else {\n                // make sure we clear any existing gradient\n                _clearGradient(parent);\n                node.setAttribute(STYLE, \"\");\n            }\n\n            if (style.strokeWidth) {\n                node.setAttribute(STROKE_WIDTH, style.strokeWidth);\n            }\n\n            // in SVG there is a stroke-dasharray attribute we can set, and its syntax looks like\n            // the syntax in VML but is actually kind of nasty: values are given in the pixel\n            // coordinate space, whereas in VML they are multiples of the width of the stroked\n            // line, which makes a lot more sense.  for that reason, jsPlumb is supporting both\n            // the native svg 'stroke-dasharray' attribute, and also the 'dashstyle' concept from\n            // VML, which will be the preferred method.  the code below this converts a dashstyle\n            // attribute given in terms of stroke width into a pixel representation, by using the\n            // stroke's lineWidth.\n            if (style[DASHSTYLE] && style[LINE_WIDTH] && !style[STROKE_DASHARRAY]) {\n                var sep = style[DASHSTYLE].indexOf(\",\") == -1 ? \" \" : \",\",\n                    parts = style[DASHSTYLE].split(sep),\n                    styleToUse = \"\";\n                parts.forEach(function (p) {\n                    styleToUse += (Math.floor(p * style.strokeWidth) + sep);\n                });\n                node.setAttribute(STROKE_DASHARRAY, styleToUse);\n            }\n            else if (style[STROKE_DASHARRAY]) {\n                node.setAttribute(STROKE_DASHARRAY, style[STROKE_DASHARRAY]);\n            }\n\n            // extra attributes such as join type, dash offset.\n            for (var i in svgAttributeMap) {\n                if (style[i]) {\n                    node.setAttribute(svgAttributeMap[i], style[i]);\n                }\n            }\n        },\n        _appendAtIndex = function (svg, path, idx) {\n            if (svg.childNodes.length > idx) {\n                svg.insertBefore(path, svg.childNodes[idx]);\n            }\n            else svg.appendChild(path);\n        };\n\n    /**\n     utility methods for other objects to use.\n     */\n    _ju.svg = {\n        node: _node,\n        attr: _attr,\n        pos: _pos\n    };\n\n    // ************************** / SVG utility methods ********************************************\n\n    /*\n     * Base class for SVG components.\n     */\n    var SvgComponent = function (params) {\n        var pointerEventsSpec = params.pointerEventsSpec || \"all\", renderer = {};\n\n        _jp.jsPlumbUIComponent.apply(this, params.originalArgs);\n        this.canvas = null;\n        this.path = null;\n        this.svg = null;\n        this.bgCanvas = null;\n\n        var clazz = params.cssClass + \" \" + (params.originalArgs[0].cssClass || \"\"),\n            svgParams = {\n                \"style\": \"\",\n                \"width\": 0,\n                \"height\": 0,\n                \"pointer-events\": pointerEventsSpec,\n                \"position\": \"absolute\"\n            };\n\n        this.svg = _node(\"svg\", svgParams);\n\n        if (params.useDivWrapper) {\n            this.canvas = _jp.createElement(\"div\", { position : \"absolute\" });\n            _ju.sizeElement(this.canvas, 0, 0, 1, 1);\n            this.canvas.className = clazz;\n        }\n        else {\n            _attr(this.svg, { \"class\": clazz });\n            this.canvas = this.svg;\n        }\n\n        params._jsPlumb.appendElement(this.canvas, params.originalArgs[0].parent);\n        if (params.useDivWrapper) this.canvas.appendChild(this.svg);\n\n        var displayElements = [ this.canvas ];\n        this.getDisplayElements = function () {\n            return displayElements;\n        };\n\n        this.appendDisplayElement = function (el) {\n            displayElements.push(el);\n        };\n\n        this.paint = function (style, anchor, extents) {\n            if (style != null) {\n\n                var xy = [ this.x, this.y ], wh = [ this.w, this.h ], p;\n                if (extents != null) {\n                    if (extents.xmin < 0) xy[0] += extents.xmin;\n                    if (extents.ymin < 0) xy[1] += extents.ymin;\n                    wh[0] = extents.xmax + ((extents.xmin < 0) ? -extents.xmin : 0);\n                    wh[1] = extents.ymax + ((extents.ymin < 0) ? -extents.ymin : 0);\n                }\n\n                if (params.useDivWrapper) {\n                    _ju.sizeElement(this.canvas, xy[0], xy[1], wh[0], wh[1]);\n                    xy[0] = 0;\n                    xy[1] = 0;\n                    p = _pos([ 0, 0 ]);\n                }\n                else\n                    p = _pos([ xy[0], xy[1] ]);\n\n                renderer.paint.apply(this, arguments);\n\n                _attr(this.svg, {\n                    \"style\": p,\n                    \"width\": wh[0] || 0,\n                    \"height\": wh[1] || 0\n                });\n            }\n        };\n\n        return {\n            renderer: renderer\n        };\n    };\n\n    _ju.extend(SvgComponent, _jp.jsPlumbUIComponent, {\n        cleanup: function (force) {\n            if (force || this.typeId == null) {\n                if (this.canvas) this.canvas._jsPlumb = null;\n                if (this.svg) this.svg._jsPlumb = null;\n                if (this.bgCanvas) this.bgCanvas._jsPlumb = null;\n\n                if (this.canvas && this.canvas.parentNode)\n                    this.canvas.parentNode.removeChild(this.canvas);\n                if (this.bgCanvas && this.bgCanvas.parentNode)\n                    this.canvas.parentNode.removeChild(this.canvas);\n\n                this.svg = null;\n                this.canvas = null;\n                this.path = null;\n                this.group = null;\n            }\n            else {\n                // if not a forced cleanup, just detach from DOM for now.\n                if (this.canvas && this.canvas.parentNode) this.canvas.parentNode.removeChild(this.canvas);\n                if (this.bgCanvas && this.bgCanvas.parentNode) this.bgCanvas.parentNode.removeChild(this.bgCanvas);\n            }\n        },\n        reattach:function(instance) {\n            var c = instance.getContainer();\n            if (this.canvas && this.canvas.parentNode == null) c.appendChild(this.canvas);\n            if (this.bgCanvas && this.bgCanvas.parentNode == null) c.appendChild(this.bgCanvas);\n        },\n        setVisible: function (v) {\n            if (this.canvas) {\n                this.canvas.style.display = v ? \"block\" : \"none\";\n            }\n        }\n    });\n\n    /*\n     * Base class for SVG connectors.\n     */\n    _jp.ConnectorRenderers.svg = function (params) {\n        var self = this,\n            _super = SvgComponent.apply(this, [\n                {\n                    cssClass: params._jsPlumb.connectorClass + (this.isEditable() ? \" \" + params._jsPlumb.editableConnectorClass : \"\"),\n                    originalArgs: arguments,\n                    pointerEventsSpec: \"none\",\n                    _jsPlumb: params._jsPlumb\n                }\n            ]);\n\n        var _superSetEditable = this.setEditable;\n        this.setEditable = function(e) {\n            var result = _superSetEditable.apply(this, [e]);\n            _jp[result ? \"addClass\" : \"removeClass\"](this.canvas, this._jsPlumb.instance.editableConnectorClass);\n        };\n\n        _super.renderer.paint = function (style, anchor, extents) {\n\n            var segments = self.getSegments(), p = \"\", offset = [0, 0];\n            if (extents.xmin < 0) offset[0] = -extents.xmin;\n            if (extents.ymin < 0) offset[1] = -extents.ymin;\n\n            if (segments.length > 0) {\n\n                p = self.getPathData();\n\n                var a = {\n                        d: p,\n                        transform: \"translate(\" + offset[0] + \",\" + offset[1] + \")\",\n                        \"pointer-events\": params[\"pointer-events\"] || \"visibleStroke\"\n                    },\n                    outlineStyle = null,\n                    d = [self.x, self.y, self.w, self.h];\n\n                // outline style.  actually means drawing an svg object underneath the main one.\n                if (style.outlineStroke) {\n                    var outlineWidth = style.outlineWidth || 1,\n                        outlineStrokeWidth = style.strokeWidth + (2 * outlineWidth);\n                    outlineStyle = _jp.extend({}, style);\n                    delete outlineStyle.gradient;\n                    outlineStyle.stroke = style.outlineStroke;\n                    outlineStyle.strokeWidth = outlineStrokeWidth;\n\n                    if (self.bgPath == null) {\n                        self.bgPath = _node(\"path\", a);\n                        _jp.addClass(self.bgPath, _jp.connectorOutlineClass);\n                        _appendAtIndex(self.svg, self.bgPath, 0);\n                    }\n                    else {\n                        _attr(self.bgPath, a);\n                    }\n\n                    _applyStyles(self.svg, self.bgPath, outlineStyle, d, self);\n                }\n\n                if (self.path == null) {\n                    self.path = _node(\"path\", a);\n                    _appendAtIndex(self.svg, self.path, style.outlineStroke ? 1 : 0);\n                }\n                else {\n                    _attr(self.path, a);\n                }\n\n                _applyStyles(self.svg, self.path, style, d, self);\n            }\n        };\n    };\n    _ju.extend(_jp.ConnectorRenderers.svg, SvgComponent);\n\n// ******************************* svg segment renderer *****************************************************\t\n\n\n// ******************************* /svg segments *****************************************************\n\n    /*\n     * Base class for SVG endpoints.\n     */\n    var SvgEndpoint = _jp.SvgEndpoint = function (params) {\n        var _super = SvgComponent.apply(this, [\n            {\n                cssClass: params._jsPlumb.endpointClass,\n                originalArgs: arguments,\n                pointerEventsSpec: \"all\",\n                useDivWrapper: true,\n                _jsPlumb: params._jsPlumb\n            }\n        ]);\n\n        _super.renderer.paint = function (style) {\n            var s = _jp.extend({}, style);\n            if (s.outlineStroke) {\n                s.strokeWidth = s.strokeWidth;\n                s.stroke = s.outlineStroke;\n            }\n\n            if (this.node == null) {\n                this.node = this.makeNode(s);\n                this.svg.appendChild(this.node);\n            }\n            else if (this.updateNode != null) {\n                this.updateNode(this.node);\n            }\n            _applyStyles(this.svg, this.node, s, [ this.x, this.y, this.w, this.h ], this);\n            _pos(this.node, [ this.x, this.y ]);\n        }.bind(this);\n\n    };\n    _ju.extend(SvgEndpoint, SvgComponent);\n\n    /*\n     * SVG Dot Endpoint\n     */\n    _jp.Endpoints.svg.Dot = function () {\n        _jp.Endpoints.Dot.apply(this, arguments);\n        SvgEndpoint.apply(this, arguments);\n        this.makeNode = function (style) {\n            return _node(\"circle\", {\n                \"cx\": this.w / 2,\n                \"cy\": this.h / 2,\n                \"r\": this.radius\n            });\n        };\n        this.updateNode = function (node) {\n            _attr(node, {\n                \"cx\": this.w / 2,\n                \"cy\": this.h / 2,\n                \"r\": this.radius\n            });\n        };\n    };\n    _ju.extend(_jp.Endpoints.svg.Dot, [_jp.Endpoints.Dot, SvgEndpoint]);\n\n    /*\n     * SVG Rectangle Endpoint\n     */\n    _jp.Endpoints.svg.Rectangle = function () {\n        _jp.Endpoints.Rectangle.apply(this, arguments);\n        SvgEndpoint.apply(this, arguments);\n        this.makeNode = function (style) {\n            return _node(\"rect\", {\n                \"width\": this.w,\n                \"height\": this.h\n            });\n        };\n        this.updateNode = function (node) {\n            _attr(node, {\n                \"width\": this.w,\n                \"height\": this.h\n            });\n        };\n    };\n    _ju.extend(_jp.Endpoints.svg.Rectangle, [_jp.Endpoints.Rectangle, SvgEndpoint]);\n\n    /*\n     * SVG Image Endpoint is the default image endpoint.\n     */\n    _jp.Endpoints.svg.Image = _jp.Endpoints.Image;\n    /*\n     * Blank endpoint in svg renderer is the default Blank endpoint.\n     */\n    _jp.Endpoints.svg.Blank = _jp.Endpoints.Blank;\n    /*\n     * Label overlay in svg renderer is the default Label overlay.\n     */\n    _jp.Overlays.svg.Label = _jp.Overlays.Label;\n    /*\n     * Custom overlay in svg renderer is the default Custom overlay.\n     */\n    _jp.Overlays.svg.Custom = _jp.Overlays.Custom;\n\n    var AbstractSvgArrowOverlay = function (superclass, originalArgs) {\n        superclass.apply(this, originalArgs);\n        _jp.jsPlumbUIComponent.apply(this, originalArgs);\n        this.isAppendedAtTopLevel = false;\n        var self = this;\n        this.path = null;\n        this.paint = function (params, containerExtents) {\n            // only draws on connections, not endpoints.\n            if (params.component.svg && containerExtents) {\n                if (this.path == null) {\n                    this.path = _node(\"path\", {\n                        \"pointer-events\": \"all\"\n                    });\n                    params.component.svg.appendChild(this.path);\n                    if (this.elementCreated) {\n                        this.elementCreated(this.path, params.component);\n                    }\n\n                    this.canvas = params.component.svg; // for the sake of completeness; this behaves the same as other overlays\n                }\n                var clazz = originalArgs && (originalArgs.length == 1) ? (originalArgs[0].cssClass || \"\") : \"\",\n                    offset = [0, 0];\n\n                if (containerExtents.xmin < 0) offset[0] = -containerExtents.xmin;\n                if (containerExtents.ymin < 0) offset[1] = -containerExtents.ymin;\n\n                _attr(this.path, {\n                    \"d\": makePath(params.d),\n                    \"class\": clazz,\n                    stroke: params.stroke ? params.stroke : null,\n                    fill: params.fill ? params.fill : null,\n                    transform: \"translate(\" + offset[0] + \",\" + offset[1] + \")\"\n                });\n            }\n        };\n        var makePath = function (d) {\n            return (isNaN(d.cxy.x) || isNaN(d.cxy.y)) ? \"\" : \"M\" + d.hxy.x + \",\" + d.hxy.y +\n                \" L\" + d.tail[0].x + \",\" + d.tail[0].y +\n                \" L\" + d.cxy.x + \",\" + d.cxy.y +\n                \" L\" + d.tail[1].x + \",\" + d.tail[1].y +\n                \" L\" + d.hxy.x + \",\" + d.hxy.y;\n        };\n        this.transfer = function(target) {\n            if (target.canvas && this.path && this.path.parentNode) {\n                this.path.parentNode.removeChild(this.path);\n                target.canvas.appendChild(this.path);\n            }\n        };\n    };\n    _ju.extend(AbstractSvgArrowOverlay, [_jp.jsPlumbUIComponent, _jp.Overlays.AbstractOverlay], {\n        cleanup: function (force) {\n            if (this.path != null) {\n                if (force)\n                    this._jsPlumb.instance.removeElement(this.path);\n                else\n                    if (this.path.parentNode)\n                        this.path.parentNode.removeChild(this.path);\n            }\n        },\n        reattach:function(instance) {\n            if (this.path && this.canvas && this.path.parentNode == null)\n                this.canvas.appendChild(this.path);\n        },\n        setVisible: function (v) {\n            if (this.path != null) (this.path.style.display = (v ? \"block\" : \"none\"));\n        }\n    });\n\n    _jp.Overlays.svg.Arrow = function () {\n        AbstractSvgArrowOverlay.apply(this, [_jp.Overlays.Arrow, arguments]);\n    };\n    _ju.extend(_jp.Overlays.svg.Arrow, [ _jp.Overlays.Arrow, AbstractSvgArrowOverlay ]);\n\n    _jp.Overlays.svg.PlainArrow = function () {\n        AbstractSvgArrowOverlay.apply(this, [_jp.Overlays.PlainArrow, arguments]);\n    };\n    _ju.extend(_jp.Overlays.svg.PlainArrow, [ _jp.Overlays.PlainArrow, AbstractSvgArrowOverlay ]);\n\n    _jp.Overlays.svg.Diamond = function () {\n        AbstractSvgArrowOverlay.apply(this, [_jp.Overlays.Diamond, arguments]);\n    };\n    _ju.extend(_jp.Overlays.svg.Diamond, [ _jp.Overlays.Diamond, AbstractSvgArrowOverlay ]);\n\n    // a test\n    _jp.Overlays.svg.GuideLines = function () {\n        var path = null, self = this, p1_1, p1_2;\n        _jp.Overlays.GuideLines.apply(this, arguments);\n        this.paint = function (params, containerExtents) {\n            if (path == null) {\n                path = _node(\"path\");\n                params.connector.svg.appendChild(path);\n                self.attachListeners(path, params.connector);\n                self.attachListeners(path, self);\n\n                p1_1 = _node(\"path\");\n                params.connector.svg.appendChild(p1_1);\n                self.attachListeners(p1_1, params.connector);\n                self.attachListeners(p1_1, self);\n\n                p1_2 = _node(\"path\");\n                params.connector.svg.appendChild(p1_2);\n                self.attachListeners(p1_2, params.connector);\n                self.attachListeners(p1_2, self);\n            }\n\n            var offset = [0, 0];\n            if (containerExtents.xmin < 0) offset[0] = -containerExtents.xmin;\n            if (containerExtents.ymin < 0) offset[1] = -containerExtents.ymin;\n\n            _attr(path, {\n                \"d\": makePath(params.head, params.tail),\n                stroke: \"red\",\n                fill: null,\n                transform: \"translate(\" + offset[0] + \",\" + offset[1] + \")\"\n            });\n\n            _attr(p1_1, {\n                \"d\": makePath(params.tailLine[0], params.tailLine[1]),\n                stroke: \"blue\",\n                fill: null,\n                transform: \"translate(\" + offset[0] + \",\" + offset[1] + \")\"\n            });\n\n            _attr(p1_2, {\n                \"d\": makePath(params.headLine[0], params.headLine[1]),\n                stroke: \"green\",\n                fill: null,\n                transform: \"translate(\" + offset[0] + \",\" + offset[1] + \")\"\n            });\n        };\n\n        var makePath = function (d1, d2) {\n            return \"M \" + d1.x + \",\" + d1.y +\n                \" L\" + d2.x + \",\" + d2.y;\n        };\n    };\n    _ju.extend(_jp.Overlays.svg.GuideLines, _jp.Overlays.GuideLines);\n}).call(typeof window !== 'undefined' ? window : this);\n\n/*\n * jsPlumb\n * \n * Title:jsPlumb 2.3.0\n * \n * Provides a way to visually connect elements on an HTML page, using SVG.\n * \n * This file contains the 'vanilla' adapter - having no external dependencies other than bundled libs.\n *\n * Copyright (c) 2010 - 2017 jsPlumb (hello@jsplumbtoolkit.com)\n * \n * http://jsplumbtoolkit.com\n * http://github.com/sporritt/jsplumb\n * \n * Dual licensed under the MIT and GPL2 licenses.\n */\n;\n(function () {\n\n    \"use strict\";\n    var root = this, _jp = root.jsPlumb, _ju = root.jsPlumbUtil,\n        _jk = root.Katavorio, _jg = root.Biltong;\n\n    var _getDragManager = function (instance, category) {\n\n        category = category || \"main\";\n        var key = \"_katavorio_\" + category;\n        var k = instance[key],\n            e = instance.getEventManager();\n\n        if (!k) {\n            k = new _jk({\n                bind: e.on,\n                unbind: e.off,\n                getSize: _jp.getSize,\n                getPosition: function (el, relativeToRoot) {\n                    // if this is a nested draggable then compute the offset against its own offsetParent, otherwise\n                    // compute against the Container's origin. see also the getUIPosition method below.\n                    var o = instance.getOffset(el, relativeToRoot, el._katavorioDrag ? el.offsetParent : null);\n                    return [o.left, o.top];\n                },\n                setPosition: function (el, xy) {\n                    el.style.left = xy[0] + \"px\";\n                    el.style.top = xy[1] + \"px\";\n                },\n                addClass: _jp.addClass,\n                removeClass: _jp.removeClass,\n                intersects: _jg.intersects,\n                indexOf: function(l, i) { return l.indexOf(i); },\n                scope:instance.getDefaultScope(),\n                css: {\n                    noSelect: instance.dragSelectClass,\n                    droppable: \"jtk-droppable\",\n                    draggable: \"jtk-draggable\",\n                    drag: \"jtk-drag\",\n                    selected: \"jtk-drag-selected\",\n                    active: \"jtk-drag-active\",\n                    hover: \"jtk-drag-hover\",\n                    ghostProxy:\"jtk-ghost-proxy\"\n                }\n            });\n            instance[key] = k;\n            instance.bind(\"zoom\", k.setZoom);\n        }\n        return k;\n    };\n\n    var _animProps = function (o, p) {\n        var _one = function (pName) {\n            if (p[pName] != null) {\n                if (_ju.isString(p[pName])) {\n                    var m = p[pName].match(/-=/) ? -1 : 1,\n                        v = p[pName].substring(2);\n                    return o[pName] + (m * v);\n                }\n                else return p[pName];\n            }\n            else\n                return o[pName];\n        };\n        return [ _one(\"left\"), _one(\"top\") ];\n    };\n\n    _jp.extend(root.jsPlumbInstance.prototype, {\n\n        animationSupported:true,\n        getElement: function (el) {\n            if (el == null) return null;\n            // here we pluck the first entry if el was a list of entries.\n            // this is not my favourite thing to do, but previous versions of\n            // jsplumb supported jquery selectors, and it is possible a selector\n            // will be passed in here.\n            el = typeof el === \"string\" ? el : el.length != null && el.enctype == null ? el[0] : el;\n            return typeof el === \"string\" ? document.getElementById(el) : el;\n        },\n        removeElement: function (element) {\n            _getDragManager(this).elementRemoved(element);\n            this.getEventManager().remove(element);\n        },\n        //\n        // this adapter supports a rudimentary animation function. no easing is supported.  only\n        // left/top properties are supported. property delta args are expected to be in the form\n        //\n        // +=x.xxxx\n        //\n        // or\n        //\n        // -=x.xxxx\n        //\n        doAnimate: function (el, properties, options) {\n            options = options || {};\n            var o = this.getOffset(el),\n                ap = _animProps(o, properties),\n                ldist = ap[0] - o.left,\n                tdist = ap[1] - o.top,\n                d = options.duration || 250,\n                step = 15, steps = d / step,\n                linc = (step / d) * ldist,\n                tinc = (step / d) * tdist,\n                idx = 0,\n                _int = setInterval(function () {\n                    _jp.setPosition(el, {\n                        left: o.left + (linc * (idx + 1)),\n                        top: o.top + (tinc * (idx + 1))\n                    });\n                    if (options.step != null) options.step(idx, Math.ceil(steps));\n                    idx++;\n                    if (idx >= steps) {\n                        window.clearInterval(_int);\n                        if (options.complete != null) options.complete();\n                    }\n                }, step);\n        },\n        // DRAG/DROP\n        destroyDraggable: function (el, category) {\n            _getDragManager(this, category).destroyDraggable(el);\n        },\n        destroyDroppable: function (el, category) {\n            _getDragManager(this, category).destroyDroppable(el);\n        },\n        initDraggable: function (el, options, category) {\n            _getDragManager(this, category).draggable(el, options);\n        },\n        initDroppable: function (el, options, category) {\n            _getDragManager(this, category).droppable(el, options);\n        },\n        isAlreadyDraggable: function (el) {\n            return el._katavorioDrag != null;\n        },\n        isDragSupported: function (el, options) {\n            return true;\n        },\n        isDropSupported: function (el, options) {\n            return true;\n        },\n        isElementDraggable: function (el) {\n            el = _jp.getElement(el);\n            return el._katavorioDrag && el._katavorioDrag.isEnabled();\n        },\n        getDragObject: function (eventArgs) {\n            return eventArgs[0].drag.getDragElement();\n        },\n        getDragScope: function (el) {\n            return el._katavorioDrag && el._katavorioDrag.scopes.join(\" \") || \"\";\n        },\n        getDropEvent: function (args) {\n            return args[0].e;\n        },\n        getUIPosition: function (eventArgs, zoom) {\n            // here the position reported to us by Katavorio is relative to the element's offsetParent. For top\n            // level nodes that is fine, but if we have a nested draggable then its offsetParent is actually\n            // not going to be the jsplumb container; it's going to be some child of that element. In that case\n            // we want to adjust the UI position to account for the offsetParent's position relative to the Container\n            // origin.\n            var el = eventArgs[0].el;\n            if (el.offsetParent == null) {\n                return null;\n            }\n            var finalPos = eventArgs[0].finalPos || eventArgs[0].pos;\n            var p = { left:finalPos[0], top:finalPos[1] };\n            if (el._katavorioDrag && el.offsetParent !== this.getContainer()) {\n                var oc = this.getOffset(el.offsetParent);\n                p.left += oc.left;\n                p.top += oc.top;\n            }\n            return p;\n        },\n        setDragFilter: function (el, filter, _exclude) {\n            if (el._katavorioDrag) {\n                el._katavorioDrag.setFilter(filter, _exclude);\n            }\n        },\n        setElementDraggable: function (el, draggable) {\n            el = _jp.getElement(el);\n            if (el._katavorioDrag)\n                el._katavorioDrag.setEnabled(draggable);\n        },\n        setDragScope: function (el, scope) {\n            if (el._katavorioDrag)\n                el._katavorioDrag.k.setDragScope(el, scope);\n        },\n        setDropScope:function(el, scope) {\n            if (el._katavorioDrop && el._katavorioDrop.length > 0) {\n                el._katavorioDrop[0].k.setDropScope(el, scope);\n            }\n        },\n        addToPosse:function(el, spec) {\n            var specs = Array.prototype.slice.call(arguments, 1);\n            var dm = _getDragManager(this);\n            _jp.each(el, function(_el) {\n                _el = [ _jp.getElement(_el) ];\n                _el.push.apply(_el, specs );\n                dm.addToPosse.apply(dm, _el);\n            });\n        },\n        setPosse:function(el, spec) {\n            var specs = Array.prototype.slice.call(arguments, 1);\n            var dm = _getDragManager(this);\n            _jp.each(el, function(_el) {\n                _el = [ _jp.getElement(_el) ];\n                _el.push.apply(_el, specs );\n                dm.setPosse.apply(dm, _el);\n            });\n        },\n        removeFromPosse:function(el, posseId) {\n            var specs = Array.prototype.slice.call(arguments, 1);\n            var dm = _getDragManager(this);\n            _jp.each(el, function(_el) {\n                _el = [ _jp.getElement(_el) ];\n                _el.push.apply(_el, specs );\n                dm.removeFromPosse.apply(dm, _el);\n            });\n        },\n        removeFromAllPosses:function(el) {\n            var dm = _getDragManager(this);\n            _jp.each(el, function(_el) { dm.removeFromAllPosses(_jp.getElement(_el)); });\n        },\n        setPosseState:function(el, posseId, state) {\n            var dm = _getDragManager(this);\n            _jp.each(el, function(_el) { dm.setPosseState(_jp.getElement(_el), posseId, state); });\n        },\n        dragEvents: {\n            'start': 'start', 'stop': 'stop', 'drag': 'drag', 'step': 'step',\n            'over': 'over', 'out': 'out', 'drop': 'drop', 'complete': 'complete',\n            'beforeStart':'beforeStart'\n        },\n        animEvents: {\n            'step': \"step\", 'complete': 'complete'\n        },\n        stopDrag: function (el) {\n            if (el._katavorioDrag)\n                el._katavorioDrag.abort();\n        },\n        addToDragSelection: function (spec) {\n            _getDragManager(this).select(spec);\n        },\n        removeFromDragSelection: function (spec) {\n            _getDragManager(this).deselect(spec);\n        },\n        clearDragSelection: function () {\n            _getDragManager(this).deselectAll();\n        },\n        trigger: function (el, event, originalEvent, payload) {\n            this.getEventManager().trigger(el, event, originalEvent, payload);\n        },\n        doReset:function() {\n            // look for katavorio instances and reset each one if found.\n            for (var key in this) {\n                if (key.indexOf(\"_katavorio_\") === 0) {\n                    this[key].reset();\n                }\n            }\n        }\n    });\n\n    var ready = function (f) {\n        var _do = function () {\n            if (/complete|loaded|interactive/.test(document.readyState) && typeof(document.body) != \"undefined\" && document.body != null)\n                f();\n            else\n                setTimeout(_do, 9);\n        };\n\n        _do();\n    };\n    ready(_jp.init);\n\n}).call(typeof window !== 'undefined' ? window : this);\n","import m from 'mithril';\n\nexport const radioSelection = {\n    view: (vnode) =>\n        m('.form-group', [\n            vnode.attrs.items.map(function(item){\n                return m('label.form-radio', [\n                    m('input[' + (item == vnode.attrs.type ? 'checked' : '') + ']', {\n                        type: 'radio',\n                        name: vnode.attrs.id + '-items',\n                        id: vnode.attrs.id + '-item-' + item,\n                        onchange: m.withAttr('value', function(value) {\n                            vnode.attrs.onchange(value);\n                        }),\n                        value: item\n                    }),\n                    m('i.form-icon'),\n                    item\n                ]);\n            }),\n        ])\n};","window.requestAnimationFrame = window.requestAnimationFrame || window.webkitRequestAnimationFrame;\n\n\nexport const draw = function(scope) {  \n    if(scope) {\n        scope.draw();\n    }\n    requestAnimationFrame(function(){\n        draw(scope);\n    });\n};\n\nexport const htmlToElement = function(html) {\n    var template = document.createElement('template');\n    template.innerHTML = html;\n    return template.content.firstChild;\n};\n\nexport const initRepr = function(html, container) {\n    var element = htmlToElement(html);\n    if(container) {\n        container.appendChild(element);\n    } else {\n        document.body.appendChild(element);\n    }\n    return element;\n};\n\nvar audioContext = null;\nexport const getAudioContext = function() {\n    window.AudioContext = window.AudioContext || window.webkitAudioContext;\n    if(audioContext){\n        return audioContext;\n    }\n    audioContext = new AudioContext();\n    return audioContext;\n};\n\nexport const withKey = function(key, callback) {\n    return function(e) {\n        if (e.keyCode == key) {\n            callback(e.target);\n        }\n    };\n};\n\nexport const getNodeByID = function(nodes, id){\n    var result = nodes.filter(function( obj ) {\n        return obj.id == id;\n    });\n    return result;\n};\n\nexport const sum = function(arr){\n    var k = 0;\n    for(var i = 0; i < arr.length; i++){\n        k += arr[i];\n    }\n    return k;\n};\n\nexport const ssum = function(arr){\n    var k = 0;\n    for(var i = 0; i < arr.length; i++){\n        k += arr[i]*arr[i];\n    }\n    return k;\n};","import * as helpers from './helpers.js';\n\n// Creates a new source\nexport const Waveform = function(state) {\n    // Remember source state\n    this.state = state;\n\n    // Assign class variables\n    this.ready = false;\n\n    // Create source\n    var audioContext = helpers.getAudioContext();\n    this.osc = audioContext.createOscillator();\n    this.output = audioContext.createGain();\n    this.osc.type = 'sine';\n    this.osc.frequency.value = state.frequency ? state.frequency : 1337;\n    this.osc.connect(this.output);\n    this.output.gain.value = state.gain ? state.gain : 0.7;\n\n    // Create the analyzer\n    this.analyzer = audioContext.createAnalyser();\n    this.analyzer.fftSize = 4096;\n    // Connect the source output to the analyzer\n    this.output.connect(this.analyzer);\n    this.ready = true;\n    this.osc.start(audioContext.currentTime+0.05);\n};\n\n// Creates a new source\nexport const Microphone = function(state) {\n    this.state = state;\n\n    // Assign class variables\n    this.ready = false;\n\n    // Initialize audio\n    initAudio(this);\n};\n\n// Creates the actual audio source after a stream was found\nfunction gotStream(source, stream) {\n    console.log('Found a stream.');\n\n    var audioContext = helpers.getAudioContext();\n    // Create an AudioNode from the stream.\n    source.input = audioContext.createMediaStreamSource(stream);\n\n    // Connect to a gain from which the plots are derived\n    source.traceGain = audioContext.createGain();\n    source.input.connect(source.traceGain);\n\n    // Connect to a gain which can be sinked\n    source.sinkGain = audioContext.createGain();\n    source.sinkGain.gain.value = 0.0;\n    source.traceGain.connect(source.sinkGain);\n    source.sinkGain.connect(audioContext.destination);\n\n    // Create the analyzer\n    source.analyzer = audioContext.createAnalyser();\n    source.analyzer.fftSize = 4096;\n    // Connect the source output to the analyzer\n    source.traceGain.connect(source.analyzer);\n\n    // Create the data buffer\n    source.data = new Uint8Array(source.analyzer.frequencyBinCount);\n    source.ready = true;\n}\n\n// Requests an audio source\nfunction initAudio(source) {\n    navigator.getUserMedia = (\n        navigator.getUserMedia ||\n        navigator.webkitGetUserMedia ||\n        navigator.mozGetUserMedia ||\n        navigator.msGetUserMedia\n    );\n    navigator.getUserMedia({\n        'audio': {\n            'mandatory': {\n                'googEchoCancellation': 'false',\n                'googAutoGainControl': 'false',\n                'googNoiseSuppression': 'false',\n                'googHighpassFilter': 'false'\n            },\n            'optional': []\n        },\n    }, function(stream) { gotStream(source, stream); }, function(e) {\n        console.log('Error getting audio!');\n        console.log(e);\n    });\n}\n\n// Creates a new source\nexport const WebsocketSource = function(state) {\n    var me = this;\n    // Remember source state\n    this.state = state;\n\n    // Assign class variables\n    this.ready = true;\n\n    // Init socket\n    this.socket = new WebSocket(state.location);\n    this.socket.binaryType = 'arraybuffer';\n\n    // Socket open event\n    this.socket.onopen = function() {\n        console.log('Connected!');\n        me.isOpen = true;\n        me.nextStartTime = 0;\n        me.awaitsSingle = true;\n        me.sendJSON({ frameSize: me.state.frameSize });\n    };\n\n    // Received message event\n    this.socket.onmessage = function(e) {\n        if(me.ready && me.awaitsSingle){\n            if (typeof e.data == 'string') {\n                console.log('Text message received: ' + e.data);\n            } else {\n                // New data from stream\n                var arr = new Uint16Array(e.data);\n                me.data = new Float32Array(arr);\n                for(var i = 0; i < arr.length; i++){\n                    // 14 bit int to float\n                    me.data[i] = (arr[i]) / 8192;\n                    // HAXX\n                    if(me.data[i] > 1)\n                        me.data[i] -= 2;\n                }\n                if(me.state.mode == 'single'){\n                    me.awaitsSingle = false;\n                }\n            }\n        }\n    };\n\n    // Socket close event\n    this.socket.onclose = function() {\n        console.log('Connection closed.');\n        me.socket = null;\n        me.isOpen = false;\n    };\n};\n\nWebsocketSource.prototype.single = function() {\n    this.awaitsSingle = true;\n};\n\nWebsocketSource.prototype.sendMsg = function(txt) {\n    this.socket.send(txt);\n};\n\nWebsocketSource.prototype.sendJSON = function(obj) {\n    this.socket.send(JSON.stringify(obj));\n};","import m from 'mithril';\nimport { jsPlumb } from 'jsplumb';\nimport { radioSelection } from './components.js';\nimport { Waveform, Microphone, WebsocketSource } from '../source.js';\n\nexport const sourceNode = {\n    view: function(vnode) {\n        return m('.card.node.unselectable', {\n            id: 'node-' + vnode.attrs.id,\n            style: {\n                top: vnode.attrs.top + 'px',\n                left: vnode.attrs.left + 'px'\n            }\n        }, [\n            m('.card-header', [\n                m('.card-title', 'Source'),\n                m('.card-meta', [\n                    m(radioSelection, {\n                        id: vnode.attrs.id,\n                        items: ['Waveform', 'Microphone', 'WebsocketSource'],\n                        startValue: 'Waveform',\n                        type: vnode.attrs.type,\n                        onchange: (value) => {\n                            vnode.attrs.type = value;\n                            switch(vnode.attrs.type){\n                            default:\n                            case 'Waveform':\n                                vnode.attrs.ctrl = new Waveform(vnode.attrs);\n                                break;\n                            case 'Microphone':\n                                vnode.attrs.ctrl = new Microphone(vnode.attrs);\n                                break;\n                            case 'WebsocketSource':\n                                vnode.attrs.ctrl = new WebsocketSource(vnode.attrs);\n                                break;\n                            }\n                            m.redraw();\n                        }\n                    })\n                ])\n            ]),\n            m('.card-body',\n                vnode.attrs.type == 'Waveform' ? m(sineBody, vnode.attrs) :\n                vnode.attrs.type == 'WebsocketSource' ? m(wssBody, vnode.attrs) :\n                'Not implemented'\n            )\n        ]);\n    },\n    oncreate: function(vnode) {\n        jsPlumb.bind('ready', function(){\n            console.log('Handled source jsPlumb');\n            jsPlumb.draggable(vnode.dom.id, {\n                grid:[50,50],\n                stop: function(e){\n                    vnode.attrs.top = e.pos[1];\n                    vnode.attrs.left = e.pos[0];\n                }\n            });\n\n            jsPlumb.addEndpoint(vnode.dom.id, { \n                anchor: ['Right', {shape: 'Rectangle'}],\n                isSource: true,\n                maxConnections: 10,\n            });\n        });\n\n        switch(vnode.attrs.type){\n        default:\n        case 'Waveform':\n            vnode.attrs.ctrl = new Waveform(vnode.attrs);\n            break;\n\n        case 'Microphone':\n            vnode.attrs.ctrl = new Microphone(vnode.attrs);\n            break;\n\n        case 'WebsocketSource':\n            vnode.attrs.ctrl = new WebsocketSource(vnode.attrs);\n            break;\n        }\n    }\n};\n\nconst sineBody = {\n    view: function(vnode){\n        return [\n            m('.form-group', [\n                m('label.form-label [for=sine-amplitude-' + vnode.attrs.id + ']', 'Amplitude'),\n                m('input.form-input', {\n                    type: 'number',\n                    id: 'sine-amplitude-' + vnode.attrs.id,\n                    value: vnode.attrs.amplitude,\n                    onchange: m.withAttr('value', function(value) {\n                        vnode.attrs.amplitude = value;\n                    }),\n                })\n            ]),\n            m('.form-group', [\n                m('label.form-label [for=sine-frequency-' + vnode.attrs.id + ']', 'Frequency'),\n                m('input.form-input', {\n                    type: 'number',\n                    id: 'sine-frequency-' + vnode.attrs.id, \n                    value: vnode.attrs.frequency,\n                    onchange: m.withAttr('value', function(value) {\n                        vnode.attrs.frequency = value;\n                    }),\n                })\n            ])\n        ];\n    }\n};\n\nconst wssBody = {\n    view: function(vnode){\n        return [\n            m('.form-group', [\n                m('label.form-label [for=wss-loc-' + vnode.attrs.id + ']', 'Location'),\n                m('input.form-input', {\n                    type: 'text',\n                    id: 'wss-loc-' + vnode.attrs.id,\n                    value: vnode.attrs.location,\n                    onchange: m.withAttr('value', function(value) {\n                        vnode.attrs.location = value;\n                    }),\n                })\n            ]),\n            m('.form-group', [\n                m('label.form-label [for=wss-framesize-' + vnode.attrs.id + ']', 'Frame Size'),\n                m('input.form-input', {\n                    type: 'number',\n                    id: 'wss-framesize-' + vnode.attrs.id, \n                    value: vnode.attrs.frameSize,\n                    onchange: m.withAttr('value', function(value) {\n                        vnode.attrs.frameSize = parseInt(value);\n                        vnode.attrs.ctrl.sendJSON({ frameSize: vnode.attrs.frameSize });\n                    }),\n                })\n            ])\n        ];\n    }\n};","export const miniFFT = function(re, im) {\n    var N = re.length;\n    var i, j, h, k;\n    for (i = 0; i < N; i++) {\n        for(j = 0, h = i, k = N; k >>= 1; h >>= 1){ // eslint-disable-line no-cond-assign\n            j = (j << 1) | (h & 1);\n        }\n        if (j > i) {\n            re[j] = [re[i], re[i] = re[j]][0];\n            im[j] = [im[i], im[i] = im[j]][0];\n        }\n    }\n    for(var hN = 1; hN * 2 <= N; hN *= 2){\n        for (i = 0; i < N; i += hN * 2){\n            for (j = i; j < i + hN; j++) {\n                var cos = Math.cos(Math.PI * (j - i) / hN);\n                var sin = Math.sin(Math.PI * (j - i) / hN);\n                var tre =  re[j+hN] * cos + im[j+hN] * sin;\n                var tim = -re[j+hN] * sin + im[j+hN] * cos;\n                re[j + hN] = re[j] - tre; im[j + hN] = im[j] - tim;\n                re[j] += tre; im[j] += tim;\n            }\n        }\n    }\n};","import { miniFFT } from './math/fft.js';\nimport { sum, ssum } from './helpers.js';\n\n// Creates a new trace\nexport const  NormalTrace = function (state) {\n    // Remember trace state\n    this.state = state;\n\n    // Init class variables\n    this.on = true;\n    this.fetched = false;\n};\n\n// Preemptively fetches a new sample set\nNormalTrace.prototype.fetch = function () {\n    // If it is not a WSS, data must be fetched from the Analyzer node\n    if(this.state.source.node.type != 'WebsocketSource'){\n        if(!this.fetched && this.state.source.node && this.state.source.node.ctrl.ready){\n            if(!this.data){\n                this.data = new Float32Array(this.state.source.node.ctrl.analyzer.frequencyBinCount);\n            }\n            this.state.source.node.ctrl.analyzer.getFloatTimeDomainData(this.data);\n        }\n    }\n    // Otherwise it will just be ensured the data is referenced from the source properly\n    else {\n        this.data = this.state.source.node.ctrl.data;\n    }\n    this.fetched = true;\n};\n\n// Draws trace on the new frame\nNormalTrace.prototype.draw = function (canvas, scope, traceConf, triggerLocation) {\n    var context = canvas.getContext('2d');\n    // Store context state so other painters are presented with their known context state\n    context.save();\n    context.strokeWidth = 1;\n\n    // Get a new dataset\n    this.fetch();\n\n    // Draw trace\n    context.strokeStyle = this.state.color;\n    context.beginPath();\n\n    // Half height of canvas\n    var halfHeight = scope.height / 2;\n\n    // Draw every <skip> sample in data\n    var skip = 1;\n\n    // Apply sample to every <mul> pixel on canvas\n    var mul = 1;\n\n    // Calculate ratio of number of samples to number of pixels and factor in x-scaling\n    // To calculate steps in the for loop to draw the trace\n    var ratio = scope.width / this.data.length * scope.scaling.x;\n    if(ratio > 1){\n        mul = Math.ceil(ratio);\n    } else {\n        skip = Math.floor(1 / ratio);\n    }\n\n    // Actually draw the trace, starting at pixel 0 and data point at triggerLocation\n    // triggerLocation is only relevant when using WebAudio\n    // using an external source the source handles triggering\n    context.moveTo(0, (halfHeight - (this.data[triggerLocation] + traceConf.offset) * halfHeight * scope.scaling.y));\n    for (var i=triggerLocation, j=0; (j < scope.width) && (i < this.data.length); i+=skip, j+=mul){\n        context.lineTo(j, (halfHeight - (this.data[i] + traceConf.offset) * halfHeight * scope.scaling.y));\n    }\n    context.stroke();\n\n    // Draw mover (grab and draw to move the trace)\n    context.fillStyle = this.state.color;\n    var offset = this.state.offset;\n    if(offset > 1){\n        offset = 1;\n    } else if(offset < -1){\n        offset = -1;\n    }\n    context.fillRect(\n        scope.width - scope.ui.mover.width - scope.ui.mover.horizontalPosition,\n        halfHeight - traceConf.offset * halfHeight * scope.scaling.y - scope.ui.mover.height / 2,\n        scope.ui.mover.width,\n        scope.ui.mover.height\n    );\n\n    // Restore canvas context for next painter\n    context.restore();\n\n    // Mark data as deprecated so we will fetch again next cycle\n    this.fetched = false;\n};\n\n// Creates a new source\nexport const FFTrace = function(state) {\n    // Remember trace state\n    this.state = state;\n\n    // Init class variables\n    this.on = true;\n    this.fetched = false;\n};\n\n// Preemptively fetches a new sample set\nFFTrace.prototype.fetch = function () {\n    // If it is not a WSS, data must be fetched from the Analyzer node\n    if(this.state.source.node.type != 'WebsocketSource'){\n        if(!this.fetched && this.state.source.node && this.state.source.node.ctrl.ready){\n            if(!this.data){\n                this.data = new Float32Array(this.state.source.node.ctrl.analyzer.frequencyBinCount);\n            }\n            this.state.source.node.ctrl.analyzer.getFloatFrequencyData(this.data);\n        }\n        \n    }\n    // Otherwise it will just be ensured the data is referenced from the source properly\n    else {\n        this.data = this.state.source.node.ctrl.data;\n    }\n    this.fetched = true;\n};\n\n// Draws trace on the new frame\nFFTrace.prototype.draw = function (canvas, scope, traceConf) {\n\n    var i, j;\n    var halfHeight = scope.height / 2;\n    var context = canvas.getContext('2d');\n\n    // Get a new dataset\n    this.fetch();\n\n\n    if(this.state.source.node.type != 'WebsocketSource'){\n        var SPACING = 1;\n        var BAR_WIDTH = 1;\n        var numBars = Math.round(scope.width / SPACING);\n        var multiplier = this.state.source.node.ctrl.analyzer.frequencyBinCount / numBars;\n\n        // Store brush\n        context.save();\n        context.lineCap = 'round';\n\n        // Draw rectangle for each frequency\n        halfHeight = scope.height / 2;\n        for (i = 0; i < numBars; ++i) {\n            var magnitude = 0;\n            var offset = Math.floor(i * multiplier);\n            // gotta sum/average the block, or we miss narrow-bandwidth spikes\n            for (j = 0; j < multiplier; j++) {\n                magnitude += this.data[offset + j];\n            }\n            magnitude = magnitude / multiplier * 4;\n            context.fillStyle = 'hsl(' + Math.round((i * 360) / numBars) + ', 100%, 50%)';\n            context.fillRect(i * SPACING, -magnitude + traceConf.offset * scope.height, BAR_WIDTH, scope.height + magnitude);\n        }\n\n        // Draw mover\n        context.fillStyle = this.state.color;\n        offset = this.state.offset;\n        if(offset > 1){\n            offset = 1;\n        } else if(offset < -1){\n            offset = -1;\n        }\n        context.fillRect(\n            scope.width - scope.ui.mover.width - scope.ui.mover.horizontalPosition,\n            halfHeight - traceConf.offset * halfHeight * scope.scaling.y - scope.ui.mover.height / 2,\n            scope.ui.mover.width,\n            scope.ui.mover.height\n        );\n\n        // Restore brush\n        context.restore();\n\n        // Mark data as deprecated\n        this.fetched = false;\n    } else {\n\n        var real = this.data.slice(0);\n        var compl = new Float32Array(this.data.length);\n        miniFFT(real, compl);\n        var ab = new Float32Array(this.data.length);\n        for(i = 0; i < this.data.length; i++){\n            ab[i] = Math.abs(real[i]*real[i] - compl[i]*compl[i]+0.00001);\n        }\n        var m = sum(ab) / ab.length;\n        // console.log('m', sum(ab))\n        var n = [];\n        var s = [];\n        for(i = 0; i < this.data.length; i++){\n            if(ab[i] < m){\n                n.push(ab[i]);\n            }\n            else {\n                s.push(ab[i]);\n            }\n        }\n        var ss = ssum(s);\n        var sn = ssum(n);\n        var SNR = Math.log10(ss / sn) * 10;\n        //console.log(SNR);\n\n        for(i = 0; i < this.data.length; i++){\n            ab[i] = Math.log10(ab[i])*20/200;\n        }\n\n        // Store brush\n        context.save();\n        context.strokeWidth = 1;\n\n        // Draw trace\n        context.strokeStyle = this.state.color;\n        context.beginPath();\n        // Draw samples\n        var skip = 1;\n        var mul = 1;\n        var ratio = scope.width / this.data.length * scope.scaling.x;\n        if(ratio > 1){\n            mul = Math.ceil(ratio);\n        } else {\n            skip = Math.floor(1 / ratio);\n        }\n        context.moveTo(0, (halfHeight - ((ab[0] + ab[1] + ab[2]) / 3 + traceConf.offset) * halfHeight * scope.scaling.y));\n        for (i=0, j=0; (j < scope.width) && (i < ab.length - 1); i+=skip, j+=mul){\n            context.lineTo(j, (halfHeight - ((ab[-1+i] + ab[0+i] + ab[1+i]) / 3 + traceConf.offset) * halfHeight * scope.scaling.y));\n        }\n        // Fix drawing on canvas\n        context.stroke();\n\n        // Draw mover\n        context.fillStyle = this.state.color;\n        offset = this.state.offset;\n        if(offset > 1){\n            offset = 1;\n        } else if(offset < -1){\n            offset = -1;\n        }\n        context.fillRect(\n            scope.width - scope.ui.mover.width - scope.ui.mover.horizontalPosition,\n            halfHeight - traceConf.offset * halfHeight * scope.scaling.y - scope.ui.mover.height / 2,\n            scope.ui.mover.width,\n            scope.ui.mover.height\n        );\n\n        // Restore brush\n        context.restore();\n\n        // Mark data as deprecated\n        this.fetched = false;\n    }\n};\n","import m from 'mithril';\nimport { jsPlumb } from 'jsplumb';\nimport { radioSelection } from './components.js';\nimport { withKey } from '../helpers.js';\nimport { NormalTrace, FFTrace } from '../trace.js';\n\nexport const traceNode = {\n    oninit: function(vnode) {\n        vnode.attrs.editingName = false;\n    },\n    view: function(vnode) {\n        return m('.card.node.unselectable', {\n            id: 'node-' + vnode.attrs.id,\n            style: {\n                top: vnode.attrs.top + 'px',\n                left: vnode.attrs.left + 'px'\n            }\n        }, [\n            m('.card-header', [\n                m('.card-title', [\n                    (vnode.attrs.editingName ?\n                    m('.form-group', [\n                        m('input.form-input', {\n                            type: 'text',\n                            id: 'trace-name-' + vnode.attrs.id,\n                            value: vnode.attrs.name,\n                            onkeypress: withKey(13, function(target){\n                                vnode.attrs.name = target.value;\n                                vnode.attrs.editingName = false;\n                            })\n                        })\n                    ]) :\n                    m('span', {\n                        onclick: function() {\n                            vnode.attrs.editingName = true;\n                        }\n                    }, vnode.attrs.name))\n                    // TODO: Colorlabel here\n                ]),\n                m('.card-meta', [])\n            ]),\n            m('.card-body', '')\n        ]);\n    },\n    oncreate: function(vnode) {\n        jsPlumb.bind('ready', function(){\n            console.log('Handled trace jsPlumb');\n            jsPlumb.draggable(vnode.dom.id, {\n                grid:[50,50],\n                stop: function(e){\n                    vnode.attrs.top = e.pos[1];\n                    vnode.attrs.left = e.pos[0];\n                }\n            });\n\n            jsPlumb.addEndpoint(vnode.dom.id, { \n                anchor: ['Left', {shape: 'Rectangle'}],\n                isTarget: true,\n                maxConnections: 1,\n            });\n\n            jsPlumb.addEndpoint(vnode.dom.id, { \n                anchor: ['Right', {shape: 'Rectangle'}],\n                isSource: true,\n                maxConnections: 10,\n            });\n        });\n\n        switch(vnode.attrs.type){\n        default:\n        case 'NormalTrace':\n            vnode.attrs.ctrl = new NormalTrace(vnode.attrs);\n            break;\n\n        case 'FFTrace':\n            vnode.attrs.ctrl = new FFTrace(vnode.attrs);\n            break;\n        }\n    }\n};","import m from 'mithril';\nimport { jsPlumb } from 'jsplumb';\nimport { withKey } from '../helpers.js';\n\nexport const scopeNode = {\n    oninit: function(vnode) {\n        vnode.attrs.editingName = false;\n    },\n    view: function(vnode) {\n        return m('.card.node.unselectable', {\n            id: 'node-' + vnode.attrs.id,\n            style: {\n                top: vnode.attrs.top + 'px',\n                left: vnode.attrs.left + 'px'\n            },\n            ondblclick: function() {\n                // TODO: Crosswindow stuff\n                var popup = window.open(window.location.pathname + '#!/scope?id=' + vnode.attrs.id);\n                popup.scopeState = vnode.attrs;\n            }\n        }, [\n            m('.card-header', [\n                m('.card-title', [\n                    (vnode.attrs.editingName ?\n                    m('.form-group', [\n                        m('input.form-input', {\n                            type: 'text',\n                            id: 'scope-name-' + vnode.attrs.id,\n                            value: vnode.attrs.name,\n                            onkeypress: withKey(13, function(target){\n                                vnode.attrs.name = target.value;\n                                vnode.attrs.editingName = false;\n                            })\n                        })\n                    ]) :\n                    m('span', {\n                        onclick: function() {\n                            vnode.attrs.editingName = true;\n                        }\n                    }, vnode.attrs.name))\n                    // TODO: Colorlabel here\n                ]),\n                m('.card-meta', [])\n            ]),\n            m('.card-body', '')\n        ]);\n    },\n    oncreate: function(vnode) {\n        jsPlumb.bind('ready', function(){\n            console.log('Handled scope jsPlumb');\n            jsPlumb.draggable(vnode.dom.id, {\n                grid:[50,50],\n                stop: function(e){\n                    vnode.attrs.top = e.pos[1];\n                    vnode.attrs.left = e.pos[0];\n                }\n            });\n\n            jsPlumb.addEndpoint(vnode.dom.id, { \n                anchor: ['Left', {shape: 'Rectangle'}],\n                isTarget: true,\n                maxConnections: 10,\n            });\n        });\n    }\n};","import m from 'mithril';\nimport { jsPlumb } from 'jsplumb';\nimport { sourceNode } from './source.js';\nimport { traceNode } from './trace.js';\nimport { scopeNode } from './scope.js';\nimport { getNodeByID } from '../helpers.js';\n\nexport const router = {\n    oninit: function(vnode) {\n        jsPlumb.bind('ready', function(){\n            // Bind connection event\n            jsPlumb.bind('connection', function(info) {\n                var sourceID = info.source.id.split('-')[1];\n                var targetID = info.target.id.split('-')[1];\n                \n                var trace = null;\n                var source = getNodeByID(vnode.attrs.nodes.sources, sourceID);\n                if(source.length < 1){\n                    trace = getNodeByID(vnode.attrs.nodes.traces, sourceID)[0];\n                    var scope = getNodeByID(vnode.attrs.nodes.scopes, targetID)[0];\n                    if (getNodeByID(scope.traces, sourceID).length == 0) {\n                        scope.traces.push({ id: sourceID, node: trace, offset: 0 });\n                        console.log('Connected new trace to scope.');\n                        return;\n                    }\n                    console.log('Trace already connected to scope.');\n                    return;\n                    // TODO: Look in sinks too since they can be targets as well!\n                } else {\n                    source = source[0];\n                    trace = getNodeByID(vnode.attrs.nodes.traces, targetID);\n                    if(trace.length > 0){\n                        trace = trace[0];\n                        trace.source = {\n                            id: sourceID,\n                            node: source\n                        };\n                        console.log('Connected source to trace.');\n                        return;\n                    }\n                }\n            });\n\n            // Bind connectionDetached event\n            jsPlumb.bind('connectionDetached', function(info) {\n                var targetID = info.target.id.split('-')[1];\n                var trace = getNodeByID(vnode.attrs.nodes.traces, targetID);\n                if(trace.length < 1){\n                    var sourceID = info.source.id.split('-')[1];\n                    var scope = getNodeByID(vnode.attrs.nodes.scopes, targetID)[0];\n                    scope.traces = scope.traces.filter(obj => obj.id != sourceID);\n                    console.log('Removed trace from the scope');\n                    return;\n                    // TODO: Look in sinks too since they can be targets as well!\n                } else {\n                    trace = trace[0];\n                    trace.source = null;\n                    console.log('Removed source from trace.');\n                    return;\n                }\n            });\n        });\n    },\n    view: function(vnode) {\n        return [\n            vnode.attrs.nodes.sources.map(node => m(sourceNode, node)),\n            vnode.attrs.nodes.traces.map(node => m(traceNode, node)),\n            vnode.attrs.nodes.scopes.map(node => m(scopeNode, node))\n        ];\n    },\n    oncreate: function(vnode){\n        jsPlumb.bind('ready', function(){\n            vnode.attrs.nodes.traces.forEach(function(trace) {\n                if(trace.source){\n                    trace.source.node = getNodeByID(vnode.attrs.nodes.sources, trace.source.id)[0];\n                    jsPlumb.connect({\n                        source: 'node-' + trace.source.node.id,\n                        target: 'node-' + trace.id,\n                        endpoint: 'Dot',\n                        //anchors: [['Right', {shape:'Rectangle'}], ['Left', {shape:'Rectangle'}]]\n                    });\n                }\n            }, this);\n\n            vnode.attrs.nodes.scopes.forEach(function(scope) {\n                if(scope.traces){\n                    scope.traces.forEach(function(trace){\n                        var node = getNodeByID(vnode.attrs.nodes.traces, trace.id)[0];\n                        trace.node = node;\n                        jsPlumb.connect({\n                            source: 'node-' + node.id,\n                            target: 'node-' + scope.id,\n                            endpoint: 'Dot',\n                            //anchors: [['Right', {shape:'Rectangle'}], ['Left', {shape:'Rectangle'}]]\n                        });\n                    });\n                }\n            }, this);\n        });\n    },\n    addTrace: function(traceNode) {\n        this.state.nodes.traces.push({\n            node: traceNode,\n            state: {\n                id: this.state.nodes.count,\n                name: 'Trace ' + this.state.nodes.count\n            }\n        });\n        this.state.nodes.count++;\n        m.redraw();\n    },\n    addSource: function(sourceNode) {\n        this.state.nodes.sources.push({\n            node: sourceNode,\n            state: {\n                id: this.state.nodes.count,\n                name: 'Source ' + this.state.nodes.count\n            }\n        });\n        this.state.nodes.count++;\n        m.redraw();\n    }\n};","export const draw = function (context, scope, state) {\n    // Store old state\n    context.save();\n\n    // Setup brush\n    context.strokeWidth = 1;\n    context.strokeStyle = '#006644';\n    if (context.setLineDash) {\n        context.setLineDash([5]);\n    }\n\n    // Draw marker\n    if(state.type == 'vertical'){\n        context.beginPath();\n        context.moveTo(state.x * scope.width, 0);\n        context.lineTo(state.x * scope.width, scope.height);\n        context.stroke();\n    } else if(state.type == 'horizontal'){\n        context.beginPath();\n        var halfHeight = scope.height / 2;\n        context.moveTo(0, halfHeight - state.y * halfHeight);\n        context.lineTo(scope.width, halfHeight - state.y * halfHeight);\n        context.stroke();\n    }\n\n    // Restore old brush settings\n    context.restore();\n};\n\n","export const draw = function (context, scope, state) {\n    // Store old state\n    context.save();\n\n    // Setup brush\n    context.fillStyle = '#FFFFFF';\n\n    // Draw Box\n    context.fillRect(state.left, state.top, state.width, state.height);\n\n    // Restore old brush settings\n    context.restore();\n};","import * as helpers from './helpers.js';\nimport * as marker from './marker.js';\nimport * as button from './button.js';\n\nexport const Oscilloscope = function(state) {\n    // Remember scope state\n    this.state = state;\n\n    this.canvas = document.getElementById('scope');\n\n    this.markerMoving = false;\n    this.triggerMoving = false;\n    this.traceMoving = false;\n};\n\nOscilloscope.prototype.draw = function() {\n    var me = this;\n\n    if(this.canvas == null){\n        return;\n    }\n    var width = this.canvas.clientWidth;\n    var height = this.canvas.clientHeight;\n    var halfHeight = this.state.height / 2;\n    var context = this.canvas.getContext('2d');\n\n    // Assign new scope properties\n    this.canvas.height = this.state.height = height;\n    this.canvas.width = this.state.width = width;\n    context.strokeWidth = 1;\n\n    // Draw background\n    context.fillStyle='#222222';\n    context.fillRect(0, 0, width, height);\n    // Draw trigger level\n    context.strokeStyle = '#278BFF';\n    context.beginPath();\n    context.moveTo(0, halfHeight - this.state.triggerLevel * halfHeight * this.state.scaling.y);\n    context.lineTo(width, halfHeight - this.state.triggerLevel * halfHeight * this.state.scaling.y);\n    context.stroke();\n\n    if(this.state.triggerTrace && !(this.state.triggerTrace.node)){\n        this.state.triggerTrace.node = helpers.getNodeByID(this.state.traces.map(function(trace){ return trace.node; }), this.state.triggerTrace.id)[0];\n    }\n    if(this.state.triggerTrace.node && this.state.triggerTrace.node.ctrl.ready){\n        this.state.triggerTrace.node.ctrl.fetch();\n        var triggerLocation = getTriggerLocation(this.state.triggerTrace.node.ctrl.data, width, this.state.triggerLevel, this.state.triggerType);\n        if(triggerLocation === undefined && this.state.autoTriggering){\n            triggerLocation = 0;\n        }\n    } else {\n        triggerLocation = 0;\n    }\n    if(this.state.traces){\n        this.state.traces.forEach(function(trace) {\n            if(trace.node && trace.node.ctrl && trace.node.ctrl.on && trace.node.source && trace.node.source.node && trace.node.source.node.ctrl.ready){\n                trace.node.ctrl.draw(me.canvas, me.state, trace, 0); // TODO: triggering\n            }\n        });\n    }\n\n    me.state.markers.forEach(function(m) {\n        marker.draw(context, me.state, m);\n    });\n\n    me.state.buttons.forEach(function(b) {\n        button.draw(context, me.state, b);\n    });\n};\n\nfunction getTriggerLocation(buf, buflen, triggerLevel, type){\n    switch(type){\n    case 'rising':\n    default:\n        return risingEdgeTrigger(buf, buflen, triggerLevel);\n    case 'falling':\n        return fallingEdgeTrigger(buf, buflen, triggerLevel);\n    }\n}\n\nfunction risingEdgeTrigger(buf, buflen, triggerLevel) {\n    for(var i=1; i< buflen; i++){\n        if(buf[i] > 128 + triggerLevel && buf[i - 1] < 128 + triggerLevel){\n            return i;\n        }\n    }\n}\n\nfunction fallingEdgeTrigger(buf, buflen, triggerLevel) {\n    for(var i=1; i< buflen; i++){\n        if(buf[i] < 128 + triggerLevel && buf[i - 1] > 128 + triggerLevel){\n            return i;\n        }\n    }\n}\n\nOscilloscope.prototype.onMouseDown = function(event){\n    // Start moving triggerlevel\n    var halfHeight = this.canvas.height / 2;\n    var triggerLevel = this.state.triggerLevel * halfHeight * this.state.scaling.y;\n    if(halfHeight - event.offsetY < triggerLevel + 3 && halfHeight - event.offsetY > triggerLevel - 3){\n        this.triggerMoving = true;\n        return;\n    }\n\n    // Start moving markers\n    for(var i = 0; i < this.state.markers.length; i++){\n        if(this.state.markers[i].type == 'vertical'){\n            var x = this.state.markers[i].x * this.canvas.width;\n            if(event.offsetX < x + 3 && event.offsetX > x - 3){\n                this.markerMoving = i;\n                return;\n            }\n        } else {\n            var y = this.state.markers[i].y * halfHeight * this.state.scaling.y;\n            if(halfHeight - event.offsetY < y + 3 && halfHeight - event.offsetY > y - 3){\n                this.markerMoving = i;\n                return;\n            }\n        }\n    }\n\n    // Start moving traces\n    var me = this;\n    var halfMoverWidth = me.state.ui.mover.width / 2;\n    var halfMoverHeight = me.state.ui.mover.height / 2;\n    this.state.traces.forEach(function(trace) {\n        var x = me.canvas.width - me.state.ui.mover.horizontalPosition - halfMoverWidth;\n        if(event.offsetX < x + halfMoverWidth && event.offsetX > x - halfMoverWidth){\n            var y = trace.offset * halfHeight * me.state.scaling.y;\n            if(halfHeight - event.offsetY < y + halfMoverHeight && halfHeight - event.offsetY > y - halfMoverHeight){\n                me.traceMoving = trace;\n                return;\n            }\n        }\n    });\n};\n\nOscilloscope.prototype.onMouseUp = function(event){\n    var me = this;\n    // End moving triggerlevel\n    if(this.triggerMoving){\n        this.triggerMoving = false;\n    }\n\n    // End moving markers\n    if(this.markerMoving !== false){\n        this.markerMoving = false;\n    }\n\n    // End moving traces\n    if(this.traceMoving !== false){\n        this.traceMoving = false;\n    }\n\n    if(this.state.buttons){\n        this.state.buttons.forEach(function(button) {\n            var w = button.width;\n            var h = button.height;\n            var x = button.left;\n            var y = button.top;\n            if(event.offsetX < x + w && event.offsetX > x){\n                if(event.offsetY < y + h && event.offsetY > y){\n                    me.state.traces.forEach(function(t){\n                        if(t.node.source.node.ctrl.single){\n                            t.node.source.node.ctrl.single();\n                        }\n                    });\n                }\n            }\n        });\n    }\n};\n\nOscilloscope.prototype.onMouseMove = function(event){\n    var halfHeight = this.canvas.height / 2;\n    var halfMoverWidth = this.state.ui.mover.width / 2;\n    var halfMoverHeight = this.state.ui.mover.height / 2;\n    var triggerLevel = this.state.triggerLevel * halfHeight * this.state.scaling.y;\n    var cursorSet = false;\n\n    // Change cursor if trigger set\n    if(halfHeight - event.offsetY < triggerLevel + 3 && halfHeight - event.offsetY > triggerLevel - 3){\n        document.body.style.cursor = 'row-resize';\n        cursorSet = true;\n    }\n    // Change cursor if marker set\n    if(!cursorSet){\n        for(var i = 0; i < this.state.markers.length; i++){\n            if(this.state.markers[i].type == 'vertical'){\n                var x = this.state.markers[i].x * this.canvas.width;\n                if(event.offsetX < x + 3 && event.offsetX > x - 3){\n                    document.body.style.cursor = 'col-resize';\n                    cursorSet = true;\n                    break;\n                }\n            } else {\n                var y = this.state.markers[i].y * halfHeight * this.state.scaling.y;\n                if(halfHeight - event.offsetY < y + 3 && halfHeight - event.offsetY > y - 3){\n                    document.body.style.cursor = 'row-resize';\n                    cursorSet = true;\n                    break;\n                }\n            }\n        }\n    }\n    // Change cursor if trace set\n    if(!cursorSet){\n        var me = this;\n        this.state.traces.forEach(function(trace) {\n            var x = me.canvas.width - me.state.ui.mover.horizontalPosition - halfMoverWidth;\n            if(event.offsetX < x + halfMoverWidth && event.offsetX > x - halfMoverWidth){\n                var y = trace.offset * halfHeight * me.state.scaling.y;\n                if(halfHeight - event.offsetY < y + halfMoverHeight && halfHeight - event.offsetY > y - halfMoverHeight){\n                    document.body.style.cursor = 'move';\n                    cursorSet = true;\n                    return;\n                }\n            }\n        });\n    }\n    // Change cursor if nothing set\n    if(!cursorSet){\n        document.body.style.cursor = 'initial';\n    }\n\n\n    // Move triggerlevel\n    if(this.triggerMoving){\n        triggerLevel = (halfHeight - event.offsetY) / (halfHeight * this.state.scaling.y);\n        if(triggerLevel > 1){\n            triggerLevel = 1;\n        }\n        if(triggerLevel < -1){\n            triggerLevel = -1;\n        }\n        this.state.triggerLevel = triggerLevel;\n        return;\n    }\n\n    // Move markers\n    if(this.markerMoving !== false){\n        var markerLevel = 0;\n        if(this.state.markers[this.markerMoving].type == 'vertical'){\n            markerLevel = event.offsetX / this.canvas.width;\n            if(markerLevel > 1){\n                markerLevel = 1;\n            }\n            if(markerLevel < 0){\n                markerLevel = 0;\n            }\n            this.state.markers[this.markerMoving].x = markerLevel;\n            return;\n        } else {\n            markerLevel = (halfHeight - event.offsetY) / (halfHeight * this.state.scaling.y);\n            if(markerLevel > 1){\n                markerLevel = 1;\n            }\n            if(markerLevel < -1){\n                markerLevel = -1;\n            }\n            this.state.markers[this.markerMoving].y = markerLevel;\n            return;\n        }\n    }\n\n    // Move traces\n    if(this.traceMoving !== false){\n        var traceOffset = (halfHeight - event.offsetY) / (halfHeight * this.state.scaling.y);\n        if(traceOffset > 1){\n            traceOffset = 1;\n        }\n        if(traceOffset < -1){\n            traceOffset = -1;\n        }\n        this.traceMoving.offset = traceOffset;\n        return;\n    }\n};\n\nOscilloscope.prototype.onScroll = function(event){\n    this.state.scaling.y += event.wheelDeltaY * 0.01;\n    if(this.state.scaling.y < 0){\n        this.state.scaling.y = 0;\n    }\n    this.state.scaling.x += event.wheelDeltaX * 0.01;\n    if(this.state.scaling.x < 1){\n        this.state.scaling.x = 1;\n    }\n};","import m from 'mithril';\nimport { draw } from '../helpers.js';\n\nimport * as oscilloscope from '../oscilloscope.js';\n\nexport const scopeView = {\n    oninit: function(vnode) {\n        window.addEventListener('mousewheel', function(event){\n            vnode.attrs.scope.ctrl.onScroll(event, vnode.attrs.scope.ctrl);\n        }, false);\n    },\n    view: function(vnode) {\n        return m('canvas', {\n            id: 'scope',\n            style: {\n                width: vnode.attrs.width,\n                height: vnode.attrs.height\n            },\n            onmousedown: function(event) { vnode.attrs.scope.ctrl.onMouseDown(event); },\n            onmouseup: function(event) { vnode.attrs.scope.ctrl.onMouseUp(event); },\n            onmousemove: function(event) { vnode.attrs.scope.ctrl.onMouseMove(event); },\n        });\n    },\n    oncreate: function(vnode){\n        vnode.attrs.scope.ctrl = new oscilloscope.Oscilloscope(vnode.attrs.scope);\n        // First draw to invoke all subsequnt draws on each rendered frame\n        draw(vnode.attrs.scope.ctrl);\n    },\n};","/*\n* This file is the main app file.\n* It holds the controller and the view and links them both.\n*/\n\nimport m from 'mithril';\n\nimport * as conf from './conf.js';\nimport { router } from './nodes/router.js';\nimport { scopeView } from './nodes/scopeView.js';\n\nimport '../css/main.css';\n\n//use default mode\nm.route.mode = 'search';\n\nvar appState = {\n    nodes: {\n        traces: [\n            // {\n            //     id: 0,\n            //     name: 'Trace ' + 0,\n            //     top: 50,\n            //     left: 350,\n            //     source: { id: 4},\n            //     type: 'NormalTrace',\n            //     color: '#E8830C'\n            // },\n            {\n                id: 1,\n                name: 'Trace ' + 1,\n                top: 150,\n                left: 350,\n                source: { id: 5},\n                type: 'NormalTrace',\n                color: '#E85D55'\n            },\n            // {\n            //     id: 2,\n            //     name: 'Trace ' + 2,\n            //     top: 250,\n            //     left: 350,\n            //     source: { id: 6},\n            //     type: 'NormalTrace',\n            //     color: '#78FFCE'\n            // },\n            {\n                id: 3,\n                name: 'Trace ' + 3,\n                top: 350,\n                left: 350,\n                source: { id: 5},\n                type: 'FFTrace',\n                color: '#E8830C'\n            }\n        ],\n        sources: [\n            // {\n            //     id: 4,\n            //     name: 'Source ' + 4,\n            //     top: 50,\n            //     left: 50,\n            //     type: 'Waveform',\n            //     amplitude: 1,\n            //     frequency: 0.6,\n            // },\n            {\n                id: 5,\n                name: 'Source ' + 5,\n                top: 300,\n                left: 50,\n                type: 'WebsocketSource',\n                //location: 'ws://10.84.130.54:50090',\n                location: 'ws://localhost:50090',\n                frameSize: 4096,\n                buffer: {\n                    upperSize: 4,\n                    lowerSize: 1,\n                }\n            },\n            // {\n            //     id: 6,\n            //     name: 'Source ' + 6,\n            //     top: 550,\n            //     left: 50,\n            //     type: 'Microphone',\n            // }\n        ],\n        scopes: [{\n            id: 7,\n            name: 'Scope ' + 7,\n            top: 250,\n            left: 650,\n            traces: [\n                // {\n                //     id: 0,\n                //     offset: 0,\n                // },\n                {\n                    id: 1,\n                    offset: 0,\n                },\n                // {\n                //     id: 2,\n                //     offset: 0,\n                // },\n                {\n                    id: 3,\n                    offset: 0,\n                },\n            ],\n            triggerLevel: 0,\n            markers: [\n                { id: 1, type: 'horizontal', x: 0, y: 0 },\n                { id: 2, type: 'vertical', x: 0.5, y: 0 }\n            ],\n            buttons: [\n                { id: 1, left: 0, top: 0, height: 30, width: 70, text: 'Single'}\n            ],\n            mode: 'normal',\n            autoTriggering: true,\n            triggerTrace: { id: 0 },\n            triggerType: 'rising',\n            scaling: {\n                x: 1,\n                y: 1,\n            },\n            ui: {\n                mover: {\n                    width: 50,\n                    height: 20,\n                    horizontalPosition: 0,\n                }\n            }\n        }],\n        count: 8\n    }\n};\n\nwindow.addEventListener('load', function() {\n    m.route(document.body, '/routing', {\n        '/routing': {\n            controller: function() {}, \n            view: function() {\n                return m(router, appState);\n            }\n        },\n        '/scope': {\n            controller: function() {},\n            view: function() {\n                return m(scopeView, {\n                    width: conf.canvasSize.width,\n                    height: conf.canvasSize.height,\n                    scope: window.scopeState\n                });\n            }\n        }\n    });\n});"],"names":["global","this","m","helpers.getAudioContext","jsPlumb","traceNode","sourceNode","draw","helpers.getNodeByID","marker.draw","button.draw","oscilloscope.Oscilloscope","conf.canvasSize"],"mappings":"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"}